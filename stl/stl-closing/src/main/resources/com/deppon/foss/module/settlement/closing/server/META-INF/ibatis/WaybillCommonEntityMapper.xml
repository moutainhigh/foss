<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="foss.stl.WaybillCommonEntityMapper">

	<!-- 326181 运单表映射关系 -->
	<resultMap id="BaseWaybillResultMap"
		type="com.deppon.foss.module.pickup.waybill.shared.domain.WaybillEntity">
		<id column="ID" property="id" jdbcType="VARCHAR" />
		<result column="WAYBILL_NO" property="waybillNo" jdbcType="VARCHAR" />
		<result column="ORDER_NO" property="orderNo" jdbcType="VARCHAR" />
		<result column="ORDER_CHANNEL" property="orderChannel"
			jdbcType="VARCHAR" />
		<result column="order_paid_method" property="orderPaidMethod"
			jdbcType="VARCHAR" />
		<result column="DELIVERY_CUSTOMER_ID" property="deliveryCustomerId"
			jdbcType="VARCHAR" />
		<result column="DELIVERY_CUSTOMER_CODE" property="deliveryCustomerCode"
			jdbcType="VARCHAR" />
		<result column="DELIVERY_CUSTOMER_NAME" property="deliveryCustomerName"
			jdbcType="VARCHAR" />
		<result column="DELIVERY_CUSTOMER_MOBILEPHONE" property="deliveryCustomerMobilephone"
			jdbcType="VARCHAR" />
		<result column="DELIVERY_CUSTOMER_PHONE" property="deliveryCustomerPhone"
			jdbcType="VARCHAR" />
		<result column="DELIVERY_CUSTOMER_CONTACT" property="deliveryCustomerContact"
			jdbcType="VARCHAR" />
		<result column="DELIVERY_CUSTOMER_NATION_CODE" property="deliveryCustomerNationCode"
			jdbcType="VARCHAR" />
		<result column="DELIVERY_CUSTOMER_PROV_CODE" property="deliveryCustomerProvCode"
			jdbcType="VARCHAR" />
		<result column="DELIVERY_CUSTOMER_CITY_CODE" property="deliveryCustomerCityCode"
			jdbcType="VARCHAR" />
		<result column="DELIVERY_CUSTOMER_DIST_CODE" property="deliveryCustomerDistCode"
			jdbcType="VARCHAR" />
		<result column="DELIVERY_CUSTOMER_ADDRESS" property="deliveryCustomerAddress"
			jdbcType="VARCHAR" />
		<result column="RECEIVE_CUSTOMER_ID" property="receiveCustomerId"
			jdbcType="VARCHAR" />
		<result column="RECEIVE_CUSTOMER_CODE" property="receiveCustomerCode"
			jdbcType="VARCHAR" />
		<result column="RECEIVE_CUSTOMER_NAME" property="receiveCustomerName"
			jdbcType="VARCHAR" />
		<result column="RECEIVE_CUSTOMER_MOBILEPHONE" property="receiveCustomerMobilephone"
			jdbcType="VARCHAR" />
		<result column="RECEIVE_CUSTOMER_PHONE" property="receiveCustomerPhone"
			jdbcType="VARCHAR" />
		<result column="RECEIVE_CUSTOMER_CONTACT" property="receiveCustomerContact"
			jdbcType="VARCHAR" />
		<result column="RECEIVE_CUSTOMER_NATION_CODE" property="receiveCustomerNationCode"
			jdbcType="VARCHAR" />
		<result column="RECEIVE_CUSTOMER_PROV_CODE" property="receiveCustomerProvCode"
			jdbcType="VARCHAR" />
		<result column="RECEIVE_CUSTOMER_CITY_CODE" property="receiveCustomerCityCode"
			jdbcType="VARCHAR" />
		<result column="RECEIVE_CUSTOMER_DIST_CODE" property="receiveCustomerDistCode"
			jdbcType="VARCHAR" />
		<result column="RECEIVE_CUSTOMER_ADDRESS" property="receiveCustomerAddress"
			jdbcType="VARCHAR" />
		<result column="RECEIVE_ORG_CODE" property="receiveOrgCode"
			jdbcType="VARCHAR" />
		<result column="PRODUCT_ID" property="productId" jdbcType="VARCHAR" />
		<result column="PRODUCT_CODE" property="productCode" jdbcType="VARCHAR" />
		<result column="RECEIVE_METHOD" property="receiveMethod"
			jdbcType="VARCHAR" />
		<result column="CUSTOMER_PICKUP_ORG_CODE" property="customerPickupOrgCode"
			jdbcType="VARCHAR" />
		<result column="LOAD_METHOD" property="loadMethod" jdbcType="VARCHAR" />
		<result column="TARGET_ORG_CODE" property="targetOrgCode"
			jdbcType="VARCHAR" />
		<result column="PICKUP_TO_DOOR" property="pickupToDoor"
			jdbcType="CHAR" />
		<result column="DRIVER_CODE" property="driverCode" jdbcType="VARCHAR" />
		<result column="PICKUP_CENTRALIZED" property="pickupCentralized"
			jdbcType="CHAR" />
		<result column="LOAD_LINE_CODE" property="loadLineCode"
			jdbcType="VARCHAR" />
		<result column="LOAD_ORG_CODE" property="loadOrgCode" jdbcType="VARCHAR" />
		<result column="LAST_LOAD_ORG_CODE" property="lastLoadOrgCode"
			jdbcType="VARCHAR" />
		<result column="PRE_DEPARTURE_TIME" property="preDepartureTime"
			jdbcType="TIMESTAMP" />
		<result column="PRE_CUSTOMER_PICKUP_TIME" property="preCustomerPickupTime"
			jdbcType="TIMESTAMP" />
		<result column="CAR_DIRECT_DELIVERY" property="carDirectDelivery"
			jdbcType="CHAR" />
		<result column="GOODS_NAME" property="goodsName" jdbcType="VARCHAR" />
		<result column="GOODS_QTY_TOTAL" property="goodsQtyTotal"
			jdbcType="DECIMAL" />
		<result column="GOODS_WEIGHT_TOTAL" property="goodsWeightTotal"
			jdbcType="DECIMAL" />
		<result column="GOODS_VOLUME_TOTAL" property="goodsVolumeTotal"
			jdbcType="DECIMAL" />
		<result column="GOODS_SIZE" property="goodsSize" jdbcType="VARCHAR"
			typeHandler="org.apache.ibatis.type.ClobTypeHandler" />
		<result column="GOODS_TYPE_CODE" property="goodsTypeCode"
			jdbcType="VARCHAR" />
		<result column="PRECIOUS_GOODS" property="preciousGoods"
			jdbcType="CHAR" />
		<result column="SPECIAL_SHAPED_GOODS" property="specialShapedGoods"
			jdbcType="CHAR" />
		<result column="OUTER_NOTES" property="outerNotes" jdbcType="VARCHAR"
			typeHandler="org.apache.ibatis.type.ClobTypeHandler" />
		<result column="INNER_NOTES" property="innerNotes" jdbcType="VARCHAR"
			typeHandler="org.apache.ibatis.type.ClobTypeHandler" />
		<result column="GOODS_PACKAGE" property="goodsPackage"
			jdbcType="VARCHAR" />
		<result column="INSURANCE_AMOUNT" property="insuranceAmount"
			jdbcType="DECIMAL" />
		<result column="COD_AMOUNT" property="codAmount" jdbcType="DECIMAL" />
		<result column="COD_RATE" property="codRate" jdbcType="DECIMAL" />
		<result column="COD_FEE" property="codFee" jdbcType="DECIMAL" />
		<result column="REFUND_TYPE" property="refundType" jdbcType="VARCHAR" />
		<result column="RETURN_BILL_TYPE" property="returnBillType"
			jdbcType="VARCHAR" />
		<result column="SECRET_PREPAID" property="secretPrepaid"
			jdbcType="CHAR" />
		<result column="TO_PAY_AMOUNT" property="toPayAmount" jdbcType="DECIMAL" />
		<result column="PRE_PAY_AMOUNT" property="prePayAmount"
			jdbcType="DECIMAL" />
		<result column="DELIVERY_GOODS_FEE" property="deliveryGoodsFee"
			jdbcType="DECIMAL" />
		<result column="OTHER_FEE" property="otherFee" jdbcType="DECIMAL" />
		<result column="PACKAGE_FEE" property="packageFee" jdbcType="DECIMAL" />
		<result column="PROMOTIONS_FEE" property="promotionsFee"
			jdbcType="DECIMAL" />
		<result column="BILLING_TYPE" property="billingType" jdbcType="VARCHAR" />
		<result column="TRANSPORT_FEE" property="transportFee"
			jdbcType="DECIMAL" />
		<result column="VALUE_ADD_FEE" property="valueAddFee" jdbcType="DECIMAL" />
		<result column="PAID_METHOD" property="paidMethod" jdbcType="VARCHAR" />
		<result column="ARRIVE_TYPE" property="arriveType" jdbcType="VARCHAR" />
		<result column="ACTIVE" property="active" jdbcType="CHAR" />
		<result column="FORBIDDEN_LINE" property="forbiddenLine"
			jdbcType="CHAR" />
		<result column="FREIGHT_METHOD" property="freightMethod"
			jdbcType="VARCHAR" />
		<result column="FLIGHT_SHIFT" property="flightShift" jdbcType="VARCHAR" />
		<result column="TOTAL_FEE" property="totalFee" jdbcType="DECIMAL" />
		<result column="PROMOTIONS_CODE" property="promotionsCode"
			jdbcType="VARCHAR" />
		<result column="CREATE_TIME" property="createTime" jdbcType="TIMESTAMP" />
		<result column="MODIFY_TIME" property="modifyTime" jdbcType="TIMESTAMP" />
		<result column="BILL_TIME" property="billTime" jdbcType="TIMESTAMP" />
		<result column="CREATE_USER_CODE" property="createUserCode"
			jdbcType="VARCHAR" />
		<result column="MODIFY_USER_CODE" property="modifyUserCode"
			jdbcType="VARCHAR" />
		<result column="CREATE_ORG_CODE" property="createOrgCode"
			jdbcType="VARCHAR" />
		<result column="MODIFY_ORG_CODE" property="modifyOrgCode"
			jdbcType="VARCHAR" />
		<result column="REF_ID" property="refId" jdbcType="VARCHAR" />
		<result column="REF_CODE" property="refCode" jdbcType="VARCHAR" />
		<result column="CURRENCY_CODE" property="currencyCode"
			jdbcType="VARCHAR" />
		<result column="IS_WHOLE_VEHICLE" property="isWholeVehicle"
			jdbcType="CHAR" />
		<result column="WHOLE_VEHICLE_APPFEE" property="wholeVehicleAppfee"
			jdbcType="DECIMAL" />
		<result column="WHOLE_VEHICLE_ACTUALFEE" property="wholeVehicleActualfee"
			jdbcType="DECIMAL" />
		<result column="ACCOUNT_NAME" property="accountName" jdbcType="VARCHAR" />
		<result column="ACCOUNT_CODE" property="accountCode" jdbcType="VARCHAR" />
		<result column="ACCOUNT_BANK" property="accountBank" jdbcType="VARCHAR" />
		<result column="BILL_WEIGHT" property="billWeight" jdbcType="DECIMAL" />
		<result column="PICKUP_FEE" property="pickupFee" jdbcType="DECIMAL" />
		<result column="SERVICE_FEE" property="serviceFee" jdbcType="DECIMAL" />
		<result column="PRE_ARRIVE_TIME" property="preArriveTime"
			jdbcType="TIMESTAMP" />
		<result column="TRANSPORT_TYPE" property="transportType"
			jdbcType="VARCHAR" />
		<result column="ADD_TIME" property="addTime" jdbcType="TIMESTAMP" />
		<result column="INSURANCE_RATE" property="insuranceRate"
			jdbcType="DECIMAL" />
		<result column="INSURANCE_FEE" property="insuranceFee"
			jdbcType="DECIMAL" />
		<result column="UNIT_PRICE" property="unitPrice" jdbcType="DECIMAL" />
		<result column="CONTACT_ADDRESS_ID" property="contactAddressId"
			jdbcType="VARCHAR" />
		<result column="FLIGHT_NUMBER_TYPE" property="flightNumberType"
			jdbcType="VARCHAR" />
		<result column="COLLECTION_DEPARTMENT" property="collectionDepartment"
			jdbcType="VARCHAR" />
		<result column="TRANSPORTATION_REMARK" property="transportationRemark"
			jdbcType="VARCHAR" typeHandler="org.apache.ibatis.type.ClobTypeHandler" />
		<result column="IS_PASS_OWN_DEPARTMENT" property="isPassOwnDepartment"
			jdbcType="CHAR" />
		<result column="PAPER_NUM" property="paperNum" jdbcType="NUMERIC" />
		<result column="WOOD_NUM" property="woodNum" jdbcType="NUMERIC" />
		<result column="FIBRE_NUM" property="fibreNum" jdbcType="NUMERIC" />
		<result column="SALVER_NUM" property="salverNum" jdbcType="NUMERIC" />
		<result column="MEMBRANE_NUM" property="membraneNum" jdbcType="NUMERIC" />
		<result column="OTHER_PACKAGE" property="otherPackage"
			jdbcType="VARCHAR" />
		<result column="DELIVERY_CUSTOMER_CONTACT_ID" property="deliverCustContactId"
			jdbcType="VARCHAR" />
		<result column="RECEIVE_CUSTOMER_CONTACT_ID" property="receiverCustContactId"
			jdbcType="VARCHAR" />
		<result column="PENDING_TYPE" property="pendingType" jdbcType="VARCHAR" />
		<result column="LICENSE_PLATE_NUM" property="licensePlateNum"
			jdbcType="VARCHAR" />
		<result column="ORDER_VEHICLE_NUM" property="orderVehicleNum"
			jdbcType="VARCHAR" />
		<result column="CREATE_USER_NAME" property="createUserName"
			jdbcType="VARCHAR" />
		<result column="CREATE_USER_DEPT_NAME" property="createUserDeptName"
			jdbcType="VARCHAR" />
		<result column="RECEIVE_ORG_NAME" property="receiveOrgName"
			jdbcType="VARCHAR" />
		<result column="CUSTOMER_PICKUP_ORG_NAME" property="customerPickupOrgName"
			jdbcType="VARCHAR" />
		<result column="LOAD_ORG_NAME" property="loadOrgName" jdbcType="VARCHAR" />
		<result column="LAST_LOAD_ORG_NAME" property="lastLoadOrgName"
			jdbcType="VARCHAR" />
		<result column="TRANSFER_START_ORG_CODE" property="transferStartOrgCode"
			jdbcType="VARCHAR" />
		<result column="TRANSFER_START_ORG_NAME" property="transferStartOrgName"
			jdbcType="VARCHAR" />
		<result column="KILOMETER" property="kilometer" jdbcType="DECIMAL" />
		<result column="IS_INIT" property="isInit" jdbcType="CHAR" />
		<result column="IS_ECONOMY_GOODS" property="isEconomyGoods"
			jdbcType="CHAR" />
		<result column="ECONOMY_GOODS_TYPE" property="economyGoodsType"
			jdbcType="VARCHAR" />
		<result column="DELIVERY_BIG_CUSTOMER" property="deliveryBigCustomer"
			jdbcType="CHAR" />
		<result column="RECEIVE_BIG_CUSTOMER" property="receiveBigCustomer"
			jdbcType="CHAR" />
		<result column="WAYBILL_TYPE" property="waybillType" jdbcType="VARCHAR" />
		<result column="IS_EXPRESS" property="isExpress" jdbcType="CHAR" />
		<result column="FREE_PICKUP_GOODS" property="freePickupGoods" jdbcType="CHAR" />
	</resultMap>
	
	<sql id="Base_Waybill_Column_Select">
		ID, WAYBILL_NO, ORDER_NO, ORDER_CHANNEL,ORDER_PAID_METHOD,
		DELIVERY_CUSTOMER_ID,
		DELIVERY_CUSTOMER_CODE,
		DELIVERY_CUSTOMER_NAME,
		DELIVERY_CUSTOMER_MOBILEPHONE, DELIVERY_CUSTOMER_PHONE,
		DELIVERY_CUSTOMER_CONTACT,
		DELIVERY_CUSTOMER_NATION_CODE,
		DELIVERY_CUSTOMER_PROV_CODE,
		DELIVERY_CUSTOMER_CITY_CODE,
		DELIVERY_CUSTOMER_DIST_CODE, DELIVERY_CUSTOMER_ADDRESS,
		RECEIVE_CUSTOMER_ID,
		RECEIVE_CUSTOMER_CODE,
		RECEIVE_CUSTOMER_NAME,
		RECEIVE_CUSTOMER_MOBILEPHONE, RECEIVE_CUSTOMER_PHONE,
		RECEIVE_CUSTOMER_CONTACT,
		RECEIVE_CUSTOMER_NATION_CODE,
		RECEIVE_CUSTOMER_PROV_CODE, RECEIVE_CUSTOMER_CITY_CODE,
		RECEIVE_CUSTOMER_DIST_CODE, RECEIVE_CUSTOMER_ADDRESS,
		RECEIVE_ORG_CODE, PRODUCT_ID,
		PRODUCT_CODE, RECEIVE_METHOD,
		CUSTOMER_PICKUP_ORG_CODE, LOAD_METHOD,
		TARGET_ORG_CODE,
		PICKUP_TO_DOOR,
		DRIVER_CODE, PICKUP_CENTRALIZED, LOAD_LINE_CODE, LOAD_ORG_CODE,
		LAST_LOAD_ORG_CODE,
		PRE_DEPARTURE_TIME, PRE_CUSTOMER_PICKUP_TIME,
		CAR_DIRECT_DELIVERY, GOODS_NAME,
		GOODS_QTY_TOTAL,
		GOODS_WEIGHT_TOTAL,
		GOODS_VOLUME_TOTAL, GOODS_SIZE, GOODS_TYPE_CODE, PRECIOUS_GOODS,
		SPECIAL_SHAPED_GOODS, OUTER_NOTES, INNER_NOTES, GOODS_PACKAGE,
		INSURANCE_AMOUNT/100 as INSURANCE_AMOUNT,
		COD_AMOUNT/100 as COD_AMOUNT,
		COD_RATE, COD_FEE/100 as COD_FEE, REFUND_TYPE,
		RETURN_BILL_TYPE,
		SECRET_PREPAID, TO_PAY_AMOUNT/100 as TO_PAY_AMOUNT,
		PRE_PAY_AMOUNT/100
		as PRE_PAY_AMOUNT, DELIVERY_GOODS_FEE/100 as
		DELIVERY_GOODS_FEE,
		OTHER_FEE/100 as OTHER_FEE, PACKAGE_FEE/100 as
		PACKAGE_FEE,
		PROMOTIONS_FEE/100 as PROMOTIONS_FEE, BILLING_TYPE,
		TRANSPORT_FEE/100
		as TRANSPORT_FEE, VALUE_ADD_FEE/100 as VALUE_ADD_FEE, PAID_METHOD,
		ARRIVE_TYPE, ACTIVE, FORBIDDEN_LINE, FREIGHT_METHOD,
		FLIGHT_SHIFT,
		TOTAL_FEE/100 as TOTAL_FEE, PROMOTIONS_CODE, CREATE_TIME,
		MODIFY_TIME,
		BILL_TIME, CREATE_USER_CODE,
		MODIFY_USER_CODE, CREATE_ORG_CODE,
		MODIFY_ORG_CODE, REF_ID, REF_CODE, CURRENCY_CODE,
		IS_WHOLE_VEHICLE,
		WHOLE_VEHICLE_APPFEE/100 as WHOLE_VEHICLE_APPFEE,
		WHOLE_VEHICLE_ACTUALFEE/100 as WHOLE_VEHICLE_ACTUALFEE, ACCOUNT_NAME,
		ACCOUNT_CODE,
		ACCOUNT_BANK, BILL_WEIGHT, PICKUP_FEE/100 as PICKUP_FEE,
		SERVICE_FEE/100 as
		SERVICE_FEE, PRE_ARRIVE_TIME, TRANSPORT_TYPE,
		ADD_TIME, INSURANCE_RATE, INSURANCE_FEE/100 as
		INSURANCE_FEE,UNIT_PRICE/100 AS UNIT_PRICE,CONTACT_ADDRESS_ID,
		FLIGHT_NUMBER_TYPE,
		COLLECTION_DEPARTMENT,
		TRANSPORTATION_REMARK,IS_PASS_OWN_DEPARTMENT,
		PAPER_NUM,WOOD_NUM,FIBRE_NUM,SALVER_NUM,MEMBRANE_NUM,OTHER_PACKAGE,DELIVERY_CUSTOMER_CONTACT_ID,RECEIVE_CUSTOMER_CONTACT_ID,
		PENDING_TYPE,LICENSE_PLATE_NUM,ORDER_VEHICLE_NUM,
		CREATE_USER_NAME,CREATE_USER_DEPT_NAME
		,RECEIVE_ORG_NAME,CUSTOMER_PICKUP_ORG_NAME,LOAD_ORG_NAME,LAST_LOAD_ORG_NAME,
		TRANSFER_START_ORG_CODE,
		TRANSFER_START_ORG_NAME,KILOMETER,IS_INIT,IS_ECONOMY_GOODS,ECONOMY_GOODS_TYPE,DELIVERY_BIG_CUSTOMER,RECEIVE_BIG_CUSTOMER,IS_EXPRESS,FREE_PICKUP_GOODS
	</sql>
	
	<!-- 326181 运单更改表映射关系 -->
	<resultMap id="BaseWaybillRfcResultMap"
		type="com.deppon.foss.module.pickup.waybill.shared.domain.WaybillRfcEntity">
		<id column="ID" property="id" jdbcType="VARCHAR" />
		<result column="WAYBILL_NO" property="waybillNo" jdbcType="VARCHAR" />
		<result column="RFC_SOURCE" property="rfcSource" jdbcType="VARCHAR" />
		<result column="RFC_TYPE" property="rfcType" jdbcType="VARCHAR" />
		<result column="RFC_REASON" property="rfcReason" jdbcType="VARCHAR" />
		<result column="DRAFT_ORG_NAME" property="draftOrgName"
			jdbcType="VARCHAR" />
		<result column="DRAFT_ORG_CODE" property="draftOrgCode"
			jdbcType="VARCHAR" />
		<result column="DRAFTER" property="drafter" jdbcType="VARCHAR" />
		<result column="DRAFTER_CODE" property="drafterCode" jdbcType="VARCHAR" />
		<result column="DRAFT_TIME" property="draftTime" jdbcType="TIMESTAMP" />
		<result column="NOTES" property="notes" jdbcType="VARCHAR" />
		<result column="STATUS" property="status" jdbcType="VARCHAR" />
		<result column="OPERATOR" property="operator" jdbcType="VARCHAR" />
		<result column="OPERATOR_CODE" property="operatorCode"
			jdbcType="VARCHAR" />
		<result column="OPERATE_ORG_NAME" property="operateOrgName"
			jdbcType="VARCHAR" />
		<result column="OPERATE_ORG_CODE" property="operateOrgCode"
			jdbcType="VARCHAR" />
		<result column="OPERATE_TIME" property="operateTime" jdbcType="TIMESTAMP" />
		<result column="OLD_VERSION_WAYBILL_ID" property="oldVersionWaybillId"
			jdbcType="VARCHAR" />
		<result column="NEW_VERSION_WAYBILL_ID" property="newVersionWaybillId"
			jdbcType="VARCHAR" />
		<result column="IS_FINANCE_CHANGE" property="isFinanceChange"
			jdbcType="VARCHAR" />
		<result column="CHANGE_ITEMS" property="changeItems" jdbcType="VARCHAR" />
		<result column="RECEIVER_SMS" property="receiverSms" jdbcType="VARCHAR" />
		<result column="DELIVER_SMS" property="deliverSms" jdbcType="VARCHAR" />
		<result column="IS_CHANGE_DESTINATION" property="isChangeDestination"
			jdbcType="VARCHAR" />
		<result column="NEED_WRITE_OFF" property="needWriteOff"
			jdbcType="VARCHAR" />
		<result column="WRITE_OFF_STATUS" property="writeOffStatus"
			jdbcType="VARCHAR" />
		<result column="WRITE_OFF_NOTES" property="writeOffNotes"
			jdbcType="VARCHAR" />
		<result column="PDA_NOTICE" property="pdaNotice" jdbcType="VARCHAR" />
		<result column="IS_CHANGE_WAYBILL_NO" property="isChangeWaybillNo" 
			jdbcType="VARCHAR" />
		<result column="IS_LABOUR_HANDLE" property="isLabourHandle" 
			jdbcType="VARCHAR" />
		
		<result column="TRANSPORT_FEE" property="transportFee" jdbcType="DECIMAL" />
		<result column="TRANSPORT_FEE_RATE" property="transportFeeRate" jdbcType="DECIMAL" />
	</resultMap>
	
	<sql id="Base_WaybillRfc_Column_List">
		ID, WAYBILL_NO, RFC_SOURCE, RFC_TYPE, RFC_REASON,
		DRAFT_ORG_NAME,
		DRAFT_ORG_CODE,
		DRAFTER, DRAFTER_CODE, DRAFT_TIME,
		NOTES, STATUS, OPERATOR, OPERATOR_CODE,
		OPERATE_ORG_NAME,
		OPERATE_ORG_CODE, OPERATE_TIME, OLD_VERSION_WAYBILL_ID,
		NEW_VERSION_WAYBILL_ID,
		IS_FINANCE_CHANGE, CHANGE_ITEMS, RECEIVER_SMS,
		DELIVER_SMS, IS_CHANGE_DESTINATION, NEED_WRITE_OFF,
		WRITE_OFF_STATUS,
		WRITE_OFF_NOTES, PDA_NOTICE,IS_CHANGE_WAYBILL_NO,IS_LABOUR_HANDLE,  TRANSPORT_FEE, TRANSPORT_FEE_RATE
	</sql>

	<!-- 是否存在该运单号 ECS-326181-->
	<select id="findWaybillByWaybillNo" resultMap="BaseWaybillResultMap" parameterType="java.util.Map">
		SELECT 
		<include refid="Base_Waybill_Column_Select" />
		FROM PKP.T_SRV_WAYBILL 
		WHERE WAYBILL_NO = #{waybillNo,jdbcType=VARCHAR} AND ACTIVE = #{active,jdbcType=CHAR} 
		AND IS_ECS = 'Y' AND ROWNUM = 1
	</select>
	
	<!-- ECS-327090-2016-07-20 -->
	<select id="selectById" parameterType="java.lang.String"
		resultType="java.lang.Integer">
    		SELECT COUNT(1) FROM PKP.T_SRV_WAYBILL_SIGN_RESULT WHERE WAYBILL_NO = #{waybillNo,jdbcType=VARCHAR}
    		AND IS_ECS = 'Y'
	</select>
	
	<!-- ECS-327090-2016-07-20 -->
	 <update id="updateByWaybillNo" parameterType="com.deppon.foss.module.pickup.sign.api.shared.domain.WaybillSignResultEntity" >
   		 update PKP.T_SRV_WAYBILL_SIGN_RESULT
    <set >
      <if test="signSituation != null" >
        SIGN_SITUATION = #{signSituation,jdbcType=VARCHAR},
      </if>
      <if test="deliverymanName != null" >
        DELIVERYMAN_NAME = #{deliverymanName,jdbcType=VARCHAR},
      </if>
      <if test="signGoodsQty != null" >
        SIGN_GOODS_QTY = #{signGoodsQty,jdbcType=DECIMAL},
      </if>
      <if test="signNote != null" >
        SIGN_NOTE = #{signNote,jdbcType=VARCHAR},
      </if>
      <if test="signTime != null" >
        SIGN_TIME = #{signTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createTime != null" >
        CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="modifyTime != null" >
        MODIFY_TIME = #{modifyTime,jdbcType=TIMESTAMP},
      </if>
      <if test="active != null" >
        ACTIVE = #{active,jdbcType=CHAR},
      </if>
      <if test="identifyType != null" >
        IDENTIFY_TYPE = #{identifyType,jdbcType=VARCHAR},
      </if>
      <if test="identifyCode != null" >
        IDENTIFY_CODE = #{identifyCode,jdbcType=VARCHAR},
      </if>
      <if test="isPdaSign != null" >
        IS_PDA_SIGN = #{isPdaSign,jdbcType=CHAR},
      </if>
      <if test="signStatus != null" >
        SIGN_STATUS = #{signStatus,jdbcType=VARCHAR},
      </if>
      <if test="agentCode != null" >
        AGENT_CODE = #{agentCode,jdbcType=VARCHAR},
      </if>
      <if test="isRfcing != null" >
        IS_RFCING = #{isRfcing,jdbcType=CHAR},
      </if>
      <if test="deliverDate != null" >
        DELIVER_DATE = #{deliverDate,jdbcType=TIMESTAMP},
      </if>
       <if test="arriveTime != null" >
        ARRIVE_TIME = #{arriveTime,jdbcType=TIMESTAMP},
      </if>
      <if test="receiveMethod != null" >
        RECEIVE_METHOD = #{receiveMethod,jdbcType=VARCHAR},
      </if>
      <if test="createOrgCode != null" >
        CREATE_ORG_CODE = #{createOrgCode,jdbcType=VARCHAR},
      </if>
      <if test="createOrgName != null" >
        CREATE_ORG_NAME = #{createOrgName,jdbcType=VARCHAR},
      </if>
      <if test="creator != null" >
        CREATOR = #{creator,jdbcType=VARCHAR},
      </if>
      <if test="creatorCode != null" >
        CREATOR_CODE = #{creatorCode,jdbcType=VARCHAR},
      </if>
      
      <if test="isPartner != null">
      	IS_PARTNER=#{isPartner,jdbcType=CHAR},
      </if>
      <if test="partnerName != null">
      	PARTNER_NAME=#{partnerName,jdbcType=VARCHAR},
      </if>
      <if test="partnerPhone != null ">
		PARTNER_PHONE=#{partnerPhone,jdbcType=VARCHAR},
      </if>
    </set>
    where WAYBILL_NO = #{waybillNo,jdbcType=VARCHAR}
  </update>
	
	<!-- 查询运单号是否存在  ECS-326181 -->
	<select id="findActualFreightByWaybillNo" resultType="string"
		parameterType="string">
		SELECT 
		ID
		FROM PKP.T_SRV_ACTUAL_FREIGHT WHERE WAYBILL_NO = #{waybillNo,jdbcType=VARCHAR} AND IS_ECS = 'Y'
	</select>
	
	<!-- 查询运单号是否存在  ECS-326181 -->
	<select id="findWaybillExpressByWaybillNo" resultType="string"
		parameterType="string">
		SELECT ID FROM PKP.T_SRV_WAYBILL_EXPRESS WHERE WAYBILL_NO = #{waybillNo,jdbcType=VARCHAR} AND IS_ECS = 'Y'
	</select>
	
	<!-- 查询运单号是否存在 ECS-326181 -->
	<select id="findWaybillRfcByWaybillNo" resultMap="BaseWaybillRfcResultMap"
		parameterType="string">
		SELECT 
		<include refid="Base_WaybillRfc_Column_List" />
		FROM (
		SELECT 
		<include refid="Base_WaybillRfc_Column_List" /> 
		FROM PKP.T_SRV_WAYBILLRFC WHERE WAYBILL_NO = #{waybillNo,jdbcType=VARCHAR} AND IS_ECS = 'Y' ORDER BY DRAFT_TIME DESC 
		) WHERE ROWNUM = 1
	</select>
	
	<!-- 新增运单表  -->
	<insert id="insertWaybillEntity"
		parameterType="com.deppon.foss.module.pickup.waybill.shared.domain.WaybillEntity">
		INSERT INTO PKP.T_SRV_WAYBILL (ID, WAYBILL_NO, ORDER_NO,
		ORDER_CHANNEL,ORDER_PAID_METHOD,
		DELIVERY_CUSTOMER_ID,
		DELIVERY_CUSTOMER_CODE,
		DELIVERY_CUSTOMER_NAME,
		DELIVERY_CUSTOMER_MOBILEPHONE,
		DELIVERY_CUSTOMER_PHONE,
		DELIVERY_CUSTOMER_CONTACT,
		DELIVERY_CUSTOMER_NATION_CODE,
		DELIVERY_CUSTOMER_PROV_CODE,
		DELIVERY_CUSTOMER_CITY_CODE,
		DELIVERY_CUSTOMER_DIST_CODE,
		DELIVERY_CUSTOMER_ADDRESS,
		RECEIVE_CUSTOMER_ID,
		RECEIVE_CUSTOMER_CODE,
		RECEIVE_CUSTOMER_NAME,
		RECEIVE_CUSTOMER_MOBILEPHONE,
		RECEIVE_CUSTOMER_PHONE,
		RECEIVE_CUSTOMER_CONTACT,
		RECEIVE_CUSTOMER_NATION_CODE,
		RECEIVE_CUSTOMER_PROV_CODE,
		RECEIVE_CUSTOMER_CITY_CODE,
		RECEIVE_CUSTOMER_DIST_CODE,
		RECEIVE_CUSTOMER_ADDRESS,
		RECEIVE_ORG_CODE,
		PRODUCT_ID, PRODUCT_CODE,
		RECEIVE_METHOD,
		CUSTOMER_PICKUP_ORG_CODE,
		LOAD_METHOD,
		TARGET_ORG_CODE,
		PICKUP_TO_DOOR,
		DRIVER_CODE,
		PICKUP_CENTRALIZED, LOAD_LINE_CODE,
		LOAD_ORG_CODE,
		LAST_LOAD_ORG_CODE,
		PRE_DEPARTURE_TIME,
		PRE_CUSTOMER_PICKUP_TIME,
		CAR_DIRECT_DELIVERY,
		GOODS_NAME,
		GOODS_QTY_TOTAL,
		GOODS_WEIGHT_TOTAL,
		GOODS_VOLUME_TOTAL,
		GOODS_SIZE,
		GOODS_TYPE_CODE, PRECIOUS_GOODS,
		SPECIAL_SHAPED_GOODS,
		OUTER_NOTES,
		INNER_NOTES, GOODS_PACKAGE,
		INSURANCE_AMOUNT, COD_AMOUNT,
		COD_RATE,
		COD_FEE, REFUND_TYPE,
		RETURN_BILL_TYPE,
		SECRET_PREPAID,
		TO_PAY_AMOUNT,
		PRE_PAY_AMOUNT,
		DELIVERY_GOODS_FEE, OTHER_FEE,
		PACKAGE_FEE,
		PROMOTIONS_FEE,
		BILLING_TYPE, TRANSPORT_FEE,
		VALUE_ADD_FEE,
		PAID_METHOD,
		ARRIVE_TYPE,
		ACTIVE, FORBIDDEN_LINE, FREIGHT_METHOD,
		FLIGHT_SHIFT,
		TOTAL_FEE,
		PROMOTIONS_CODE,
		CREATE_TIME, MODIFY_TIME,
		BILL_TIME,
		CREATE_USER_CODE,
		MODIFY_USER_CODE, CREATE_ORG_CODE,
		MODIFY_ORG_CODE,
		REF_ID, REF_CODE,
		CURRENCY_CODE, IS_WHOLE_VEHICLE,
		WHOLE_VEHICLE_APPFEE,
		WHOLE_VEHICLE_ACTUALFEE, ACCOUNT_NAME,
		ACCOUNT_CODE,
		ACCOUNT_BANK,
		BILL_WEIGHT, PICKUP_FEE,
		SERVICE_FEE,
		PRE_ARRIVE_TIME, TRANSPORT_TYPE,
		ADD_TIME, INSURANCE_RATE,
		INSURANCE_FEE, UNIT_PRICE,CONTACT_ADDRESS_ID,
		FLIGHT_NUMBER_TYPE,
		COLLECTION_DEPARTMENT,
		TRANSPORTATION_REMARK,IS_PASS_OWN_DEPARTMENT,
		PAPER_NUM,WOOD_NUM,FIBRE_NUM,SALVER_NUM,MEMBRANE_NUM,OTHER_PACKAGE,DELIVERY_CUSTOMER_CONTACT_ID,
		RECEIVE_CUSTOMER_CONTACT_ID,PENDING_TYPE,LICENSE_PLATE_NUM,ORDER_VEHICLE_NUM,
		CREATE_USER_NAME,CREATE_USER_DEPT_NAME
		,RECEIVE_ORG_NAME,CUSTOMER_PICKUP_ORG_NAME,LOAD_ORG_NAME,LAST_LOAD_ORG_NAME,
		TRANSFER_START_ORG_CODE,
		TRANSFER_START_ORG_NAME,KILOMETER,IS_ECONOMY_GOODS,ECONOMY_GOODS_TYPE,DELIVERY_BIG_CUSTOMER,RECEIVE_BIG_CUSTOMER,IS_EXPRESS,
		FREE_PICKUP_GOODS,IS_ECS
		)
		VALUES (#{id,jdbcType=VARCHAR}, #{waybillNo,jdbcType=VARCHAR},
		#{orderNo,jdbcType=VARCHAR},
		#{orderChannel,jdbcType=VARCHAR},#{orderPaidMethod,jdbcType=VARCHAR},
		#{deliveryCustomerId,jdbcType=VARCHAR},
		#{deliveryCustomerCode,jdbcType=VARCHAR},
		#{deliveryCustomerName,jdbcType=VARCHAR},
		#{deliveryCustomerMobilephone,jdbcType=VARCHAR},
		#{deliveryCustomerPhone,jdbcType=VARCHAR},
		#{deliveryCustomerContact,jdbcType=VARCHAR},
		#{deliveryCustomerNationCode,jdbcType=VARCHAR},
		#{deliveryCustomerProvCode,jdbcType=VARCHAR},
		#{deliveryCustomerCityCode,jdbcType=VARCHAR},
		#{deliveryCustomerDistCode,jdbcType=VARCHAR},
		#{deliveryCustomerAddress,jdbcType=VARCHAR},
		#{receiveCustomerId,jdbcType=VARCHAR},
		#{receiveCustomerCode,jdbcType=VARCHAR},
		#{receiveCustomerName,jdbcType=VARCHAR},
		#{receiveCustomerMobilephone,jdbcType=VARCHAR},
		#{receiveCustomerPhone,jdbcType=VARCHAR},
		#{receiveCustomerContact,jdbcType=VARCHAR},
		#{receiveCustomerNationCode,jdbcType=VARCHAR},
		#{receiveCustomerProvCode,jdbcType=VARCHAR},
		#{receiveCustomerCityCode,jdbcType=VARCHAR},
		#{receiveCustomerDistCode,jdbcType=VARCHAR},
		#{receiveCustomerAddress,jdbcType=VARCHAR},
		#{receiveOrgCode,jdbcType=VARCHAR}, #{productId,jdbcType=VARCHAR},
		#{productCode,jdbcType=VARCHAR},
		#{receiveMethod,jdbcType=VARCHAR},
		#{customerPickupOrgCode,jdbcType=VARCHAR},
		#{loadMethod,jdbcType=VARCHAR},
		#{targetOrgCode,jdbcType=VARCHAR},
		#{pickupToDoor,jdbcType=CHAR}, #{driverCode,jdbcType=VARCHAR},
		#{pickupCentralized,jdbcType=CHAR}, #{loadLineCode,jdbcType=VARCHAR},
		#{loadOrgCode,jdbcType=VARCHAR},
		#{lastLoadOrgCode,jdbcType=VARCHAR},
		#{preDepartureTime,jdbcType=TIMESTAMP},
		#{preCustomerPickupTime,jdbcType=TIMESTAMP},
		#{carDirectDelivery,jdbcType=CHAR}, #{goodsName,jdbcType=VARCHAR},
		#{goodsQtyTotal,jdbcType=DECIMAL},
		#{goodsWeightTotal,jdbcType=DECIMAL},
		#{goodsVolumeTotal,jdbcType=DECIMAL},
		#{goodsSize,jdbcType=VARCHAR,typeHandler=org.apache.ibatis.type.ClobTypeHandler},
		#{goodsTypeCode,jdbcType=VARCHAR}, #{preciousGoods,jdbcType=CHAR},
		#{specialShapedGoods,jdbcType=CHAR},
		#{outerNotes,jdbcType=VARCHAR,typeHandler=org.apache.ibatis.type.ClobTypeHandler},
		#{innerNotes,jdbcType=VARCHAR,typeHandler=org.apache.ibatis.type.ClobTypeHandler},
		#{goodsPackage,jdbcType=VARCHAR},
		#{insuranceAmount,jdbcType=DECIMAL}*100,
		#{codAmount,jdbcType=DECIMAL}*100, #{codRate,jdbcType=DECIMAL},
		#{codFee,jdbcType=DECIMAL}*100, #{refundType,jdbcType=VARCHAR},
		#{returnBillType,jdbcType=VARCHAR},
		#{secretPrepaid,jdbcType=CHAR},
		#{toPayAmount,jdbcType=DECIMAL}*100,
		#{prePayAmount,jdbcType=DECIMAL}*100,
		#{deliveryGoodsFee,jdbcType=DECIMAL}*100,
		#{otherFee,jdbcType=DECIMAL}*100, #{packageFee,jdbcType=DECIMAL}*100,
		#{promotionsFee,jdbcType=DECIMAL}*100,
		#{billingType,jdbcType=VARCHAR}, #{transportFee,jdbcType=DECIMAL}*100,
		#{valueAddFee,jdbcType=DECIMAL}*100, #{paidMethod,jdbcType=VARCHAR},
		#{arriveType,jdbcType=VARCHAR},
		#{active,jdbcType=CHAR},
		#{forbiddenLine,jdbcType=CHAR}, #{freightMethod,jdbcType=VARCHAR},
		#{flightShift,jdbcType=VARCHAR}, #{totalFee,jdbcType=DECIMAL}*100,
		#{promotionsCode,jdbcType=VARCHAR},
		#{createTime,jdbcType=TIMESTAMP},
		#{modifyTime,jdbcType=TIMESTAMP}, #{billTime,jdbcType=TIMESTAMP},
		#{createUserCode,jdbcType=VARCHAR},
		#{modifyUserCode,jdbcType=VARCHAR}, #{createOrgCode,jdbcType=VARCHAR},
		#{modifyOrgCode,jdbcType=VARCHAR}, #{refId,jdbcType=VARCHAR},
		#{refCode,jdbcType=VARCHAR},
		#{currencyCode,jdbcType=VARCHAR},
		#{isWholeVehicle,jdbcType=CHAR},
		#{wholeVehicleAppfee,jdbcType=DECIMAL}*100,
		#{wholeVehicleActualfee,jdbcType=DECIMAL}*100,
		#{accountName,jdbcType=VARCHAR}, #{accountCode,jdbcType=VARCHAR},
		#{accountBank,jdbcType=VARCHAR}, #{billWeight,jdbcType=DECIMAL},
		#{pickupFee,jdbcType=DECIMAL}*100,
		#{serviceFee,jdbcType=DECIMAL}*100,
		#{preArriveTime,jdbcType=TIMESTAMP},
		#{transportType,jdbcType=VARCHAR},
		#{addTime,jdbcType=TIMESTAMP},
		#{insuranceRate,jdbcType=DECIMAL},
		#{insuranceFee,jdbcType=DECIMAL}*100,
		#{unitPrice,jdbcType=DECIMAL}*100,
		#{contactAddressId,jdbcType=VARCHAR},#{flightNumberType,jdbcType=VARCHAR},
		#{collectionDepartment,jdbcType=VARCHAR},
		#{transportationRemark,jdbcType=VARCHAR,typeHandler=org.apache.ibatis.type.ClobTypeHandler},
		#{isPassOwnDepartment,jdbcType=CHAR},
		#{paperNum,jdbcType=NUMERIC},#{woodNum,jdbcType=NUMERIC},#{fibreNum,jdbcType=NUMERIC},#{salverNum,jdbcType=NUMERIC},
		#{membraneNum,jdbcType=NUMERIC},#{otherPackage,jdbcType=VARCHAR},
		#{deliverCustContactId,jdbcType=VARCHAR},#{receiverCustContactId,jdbcType=VARCHAR},
		#{pendingType,jdbcType=VARCHAR},#{licensePlateNum,jdbcType=VARCHAR},#{orderVehicleNum,jdbcType=VARCHAR},
		#{createUserName,jdbcType=VARCHAR},
		#{createUserDeptName,jdbcType=VARCHAR},
		#{receiveOrgName,jdbcType=VARCHAR},
		#{customerPickupOrgName,jdbcType=VARCHAR},
		#{loadOrgName,jdbcType=VARCHAR},
		#{lastLoadOrgName,jdbcType=VARCHAR},
		#{transferStartOrgCode,jdbcType=VARCHAR},#{transferStartOrgName,jdbcType=VARCHAR},#{kilometer,jdbcType=DECIMAL},
		#{isEconomyGoods,jdbcType=CHAR},#{economyGoodsType,jdbcType=VARCHAR},#{deliveryBigCustomer,jdbcType=CHAR},
		#{receiveBigCustomer,jdbcType=CHAR},#{isExpress,jdbcType=CHAR},
		#{freePickupGoods,jdbcType=CHAR},
		'Y'
		)
	</insert>

	<!-- 查询运单号是否存在  ECS-327090 -->
	<insert id="insertWaybillsignResult" parameterType="com.deppon.foss.module.pickup.sign.api.shared.domain.WaybillSignResultEntity" >
	    insert into PKP.T_SRV_WAYBILL_SIGN_RESULT
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null and id != ''" >
        ID,
      </if>
      <if test="waybillNo != null and waybillNo != ''" >
        WAYBILL_NO,
      </if>
      <if test="signSituation != null and signSituation != ''" >
        SIGN_SITUATION,
      </if>
      <if test="deliverymanName != null and deliverymanName != ''" >
        DELIVERYMAN_NAME,
      </if>
      <if test="signGoodsQty != null and signGoodsQty != ''" >
        SIGN_GOODS_QTY,
      </if>
      <if test="signNote != null and signNote != ''" >
        SIGN_NOTE,
      </if>
      <if test="signTime != null and signTime != ''" >
        SIGN_TIME,
      </if>
      <if test="createTime != null and createTime != ''" >
        CREATE_TIME,
      </if>
      <if test="modifyTime != null and modifyTime != ''" >
        MODIFY_TIME,
      </if>
      <if test="active != null and active != ''" >
        ACTIVE,
      </if>
      <if test="identifyType != null and identifyType != ''" >
        IDENTIFY_TYPE,
      </if>
      <if test="identifyCode != null and identifyCode != ''" >
        IDENTIFY_CODE,
      </if>
      <if test="isPdaSign != null and isPdaSign != ''" >
        IS_PDA_SIGN,
      </if>
      <if test="signStatus != null and signStatus != ''" >
        SIGN_STATUS,
      </if>
      <if test="agentCode != null and agentCode != ''" >
        AGENT_CODE,
      </if>
      <if test="isRfcing != null and isRfcing != ''" >
        IS_RFCING,
      </if>
      <if test="deliverDate != null and deliverDate != ''" >
        DELIVER_DATE,
      </if>
      <if test="arriveTime != null and arriveTime != ''" >
        ARRIVE_TIME,
      </if>
      <if test="receiveMethod != null and receiveMethod != ''" >
        RECEIVE_METHOD,
      </if>
      <if test="createOrgCode != null and createOrgCode != ''" >
        CREATE_ORG_CODE,
      </if>
      <if test="createOrgName != null and createOrgName != ''" >
        CREATE_ORG_NAME,
      </if>
      <if test="creator != null and creator != ''" >
        CREATOR,
      </if>
      <if test="creatorCode != null and creatorCode != ''" >
        CREATOR_CODE,
      </if>
      
      
      <if test="expressEmpCode != null and expressEmpCode != ''" >
        SEND_EXPRESS_EMP_CODE,
      </if>
      <if test="expressEmpName != null and expressEmpName != ''" >
        SEND_EXPRESS_EMP_NAME,
      </if>
      <if test="expressOrgCode != null and expressOrgCode != ''" >
        SEND_EXPRESS_ORG_CODE,
      </if>
      <if test="expressOrgName != null and expressOrgName != ''" >
        SEND_EXPRESS_ORG_NAME,
      </if>
      
      <if test="toPayAmount != null and toPayAmount != ''" >
        TO_PAY_AMOUNT,
      </if>
      <if test="codAmount != null and codAmount != ''" >
        COD_AMOUNT,
      </if>
      <if test="codPaymentType != null and codPaymentType != ''" >
        COD_PAYMENT_TYPE,
      </if>
      <if test="codBankTradeSerail != null and codBankTradeSerail != ''" >
        COD_BANK_TRADESERAIL,
      </if>
      <if test="totalAmount != null and totalAmount != ''" >
        TOTAL_AMOUNT,
      </if>
      <if test="totalPaymentType != null and totalPaymentType != ''" >
        TOTAL_PAYMENT_TYPE,
      </if>
      
      <if test="isPartner != null and isPartner != ''">
      	IS_PARTNER,
      </if>
      <if test="partnerName != null and partnerName != ''">
      	PARTNER_NAME,
      </if>
      <if test="partnerPhone != null and partnerPhone != ''">
      	PARTNER_PHONE,
      </if>
      IS_ECS,
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null and id != ''" >
        #{id,jdbcType=VARCHAR},
      </if>
      <if test="waybillNo != null and waybillNo != ''" >
        #{waybillNo,jdbcType=VARCHAR},
      </if>
      <if test="signSituation != null and signSituation != ''" >
        #{signSituation,jdbcType=VARCHAR},
      </if>
      <if test="deliverymanName != null and deliverymanName != ''" >
        #{deliverymanName,jdbcType=VARCHAR},
      </if>
      <if test="signGoodsQty != null and signGoodsQty != ''" >
        #{signGoodsQty,jdbcType=DECIMAL},
      </if>
      <if test="signNote != null and signNote != ''" >
        #{signNote,jdbcType=VARCHAR},
      </if>
      <if test="signTime != null and signTime != ''" >
        #{signTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createTime != null and createTime != ''" >
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="modifyTime != null and modifyTime != ''" >
        #{modifyTime,jdbcType=TIMESTAMP},
      </if>
      <if test="active != null and active != ''" >
        #{active,jdbcType=CHAR},
      </if>
      <if test="identifyType != null and identifyType != ''" >
        #{identifyType,jdbcType=VARCHAR},
      </if>
      <if test="identifyCode != null and identifyCode != ''" >
        #{identifyCode,jdbcType=VARCHAR},
      </if>
      <if test="isPdaSign != null and isPdaSign != ''" >
        #{isPdaSign,jdbcType=CHAR},
      </if>
      <if test="signStatus != null and signStatus != ''" >
        #{signStatus,jdbcType=VARCHAR},
      </if>
      <if test="agentCode != null and agentCode != ''" >
        #{agentCode,jdbcType=VARCHAR},
      </if>
       <if test="isRfcing != null and isRfcing != ''" >
        #{isRfcing,jdbcType=CHAR},
      </if>
      <if test="deliverDate != null and deliverDate != ''" >
        #{deliverDate,jdbcType=TIMESTAMP},
      </if>
      <if test="arriveTime != null and arriveTime != ''" >
        #{arriveTime,jdbcType=TIMESTAMP},
      </if>
      <if test="receiveMethod != null and receiveMethod != ''" >
        #{receiveMethod,jdbcType=VARCHAR},
      </if>
      <if test="createOrgCode != null and createOrgCode != ''" >
        #{createOrgCode,jdbcType=VARCHAR},
      </if>
      <if test="createOrgName != null and createOrgName != ''" >
        #{createOrgName,jdbcType=VARCHAR},
      </if>
      <if test="creator != null and creator != ''" >
        #{creator,jdbcType=VARCHAR},
      </if>
      <if test="creatorCode != null and creatorCode != ''" >
        #{creatorCode,jdbcType=VARCHAR},
      </if>
      
      
      <if test="expressEmpCode != null and expressEmpCode != ''" >
        #{expressEmpCode,jdbcType=VARCHAR},
      </if>
      <if test="expressEmpName != null and expressEmpName != ''" >
        #{expressEmpName,jdbcType=VARCHAR},
      </if>
      <if test="expressOrgCode != null and expressOrgCode != ''" >
        #{expressOrgCode,jdbcType=VARCHAR},
      </if>
      <if test="expressOrgName != null and expressOrgName != ''" >
        #{expressOrgName,jdbcType=VARCHAR},
      </if>
      
      <if test="toPayAmount != null and toPayAmount != ''" >
        #{toPayAmount,jdbcType=DECIMAL},
      </if>
      <if test="codAmount != null and codAmount != ''" >
        #{codAmount,jdbcType=DECIMAL},
      </if>
      <if test="codPaymentType != null and codPaymentType != ''" >
        #{codPaymentType,jdbcType=VARCHAR},
      </if>
      <if test="codBankTradeSerail != null and codBankTradeSerail != ''" >
        #{codBankTradeSerail,jdbcType=VARCHAR},
      </if>
      <if test="totalAmount != null and totalAmount != ''" >
        #{totalAmount,jdbcType=DECIMAL},
      </if>
      <if test="totalPaymentType != null and totalPaymentType != ''" >
        #{totalPaymentType,jdbcType=VARCHAR},
      </if>
      
      <if test="isPartner != null and isPartner != ''">
      	#{isPartner,jdbcType=CHAR},
      </if>
      <if test="partnerName != null and partnerName != ''">
      	#{partnerName,jdbcType=VARCHAR},
      </if>
      <if test="partnerPhone != null and partnerPhone != ''">
		#{partnerPhone,jdbcType=VARCHAR},
      </if>
      'Y',
    </trim>
  </insert>

	
	<!-- 根据运单ID修改运单表  326181 -->
	<update id="updateWaybillEntityById"
		parameterType="com.deppon.foss.module.pickup.waybill.shared.domain.WaybillEntity">
		UPDATE PKP.T_SRV_WAYBILL
		<set>
			<if test="waybillNo != null">
				WAYBILL_NO = #{waybillNo,jdbcType=VARCHAR},
			</if>
			<if test="orderNo != null">
				ORDER_NO = #{orderNo,jdbcType=VARCHAR},
			</if>
			<if test="orderChannel != null">
				ORDER_CHANNEL = #{orderChannel,jdbcType=VARCHAR},
			</if>
			<if test="orderPaidMethod != null">
				ORDER_PAID_METHOD = #{orderPaidMethod,jdbcType=VARCHAR},
			</if>
			<if test="deliveryCustomerId != null">
				DELIVERY_CUSTOMER_ID =
				#{deliveryCustomerId,jdbcType=VARCHAR},
			</if>
			<if test="deliveryCustomerCode != null">
				DELIVERY_CUSTOMER_CODE =
				#{deliveryCustomerCode,jdbcType=VARCHAR},
			</if>
			<if test="deliveryCustomerName != null">
				DELIVERY_CUSTOMER_NAME =
				#{deliveryCustomerName,jdbcType=VARCHAR},
			</if>
			<if test="deliveryCustomerMobilephone != null">
				DELIVERY_CUSTOMER_MOBILEPHONE =
				#{deliveryCustomerMobilephone,jdbcType=VARCHAR},
			</if>
			<if test="deliveryCustomerPhone != null">
				DELIVERY_CUSTOMER_PHONE =
				#{deliveryCustomerPhone,jdbcType=VARCHAR},
			</if>
			<if test="deliveryCustomerContact != null">
				DELIVERY_CUSTOMER_CONTACT =
				#{deliveryCustomerContact,jdbcType=VARCHAR},
			</if>
			<if test="deliveryCustomerNationCode != null">
				DELIVERY_CUSTOMER_NATION_CODE =
				#{deliveryCustomerNationCode,jdbcType=VARCHAR},
			</if>
			<if test="deliveryCustomerProvCode != null">
				DELIVERY_CUSTOMER_PROV_CODE =
				#{deliveryCustomerProvCode,jdbcType=VARCHAR},
			</if>
			<if test="deliveryCustomerCityCode != null">
				DELIVERY_CUSTOMER_CITY_CODE =
				#{deliveryCustomerCityCode,jdbcType=VARCHAR},
			</if>
			<if test="deliveryCustomerDistCode != null">
				DELIVERY_CUSTOMER_DIST_CODE =
				#{deliveryCustomerDistCode,jdbcType=VARCHAR},
			</if>
			<if test="deliveryCustomerAddress != null">
				DELIVERY_CUSTOMER_ADDRESS =
				#{deliveryCustomerAddress,jdbcType=VARCHAR},
			</if>
			<if test="receiveCustomerId != null">
				RECEIVE_CUSTOMER_ID =
				#{receiveCustomerId,jdbcType=VARCHAR},
			</if>
			<if test="receiveCustomerCode != null">
				RECEIVE_CUSTOMER_CODE =
				#{receiveCustomerCode,jdbcType=VARCHAR},
			</if>
			<if test="receiveCustomerName != null">
				RECEIVE_CUSTOMER_NAME =
				#{receiveCustomerName,jdbcType=VARCHAR},
			</if>
			<if test="receiveCustomerMobilephone != null">
				RECEIVE_CUSTOMER_MOBILEPHONE =
				#{receiveCustomerMobilephone,jdbcType=VARCHAR},
			</if>
			<if test="receiveCustomerPhone != null">
				RECEIVE_CUSTOMER_PHONE =
				#{receiveCustomerPhone,jdbcType=VARCHAR},
			</if>
			<if test="receiveCustomerContact != null">
				RECEIVE_CUSTOMER_CONTACT =
				#{receiveCustomerContact,jdbcType=VARCHAR},
			</if>
			<if test="receiveCustomerNationCode != null">
				RECEIVE_CUSTOMER_NATION_CODE =
				#{receiveCustomerNationCode,jdbcType=VARCHAR},
			</if>
			<if test="receiveCustomerProvCode != null">
				RECEIVE_CUSTOMER_PROV_CODE =
				#{receiveCustomerProvCode,jdbcType=VARCHAR},
			</if>
			<if test="receiveCustomerCityCode != null">
				RECEIVE_CUSTOMER_CITY_CODE =
				#{receiveCustomerCityCode,jdbcType=VARCHAR},
			</if>
			<if test="receiveCustomerDistCode != null">
				RECEIVE_CUSTOMER_DIST_CODE =
				#{receiveCustomerDistCode,jdbcType=VARCHAR},
			</if>
			<if test="receiveCustomerAddress != null">
				RECEIVE_CUSTOMER_ADDRESS =
				#{receiveCustomerAddress,jdbcType=VARCHAR},
			</if>
			<if test="receiveOrgCode != null">
				RECEIVE_ORG_CODE = #{receiveOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="productId != null">
				PRODUCT_ID = #{productId,jdbcType=VARCHAR},
			</if>
			<if test="productCode != null">
				PRODUCT_CODE = #{productCode,jdbcType=VARCHAR},
			</if>
			<if test="receiveMethod != null">
				RECEIVE_METHOD = #{receiveMethod,jdbcType=VARCHAR},
			</if>
			<if test="customerPickupOrgCode != null">
				CUSTOMER_PICKUP_ORG_CODE =
				#{customerPickupOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="loadMethod != null">
				LOAD_METHOD = #{loadMethod,jdbcType=VARCHAR},
			</if>
			<if test="targetOrgCode != null">
				TARGET_ORG_CODE = #{targetOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="pickupToDoor != null">
				PICKUP_TO_DOOR = #{pickupToDoor,jdbcType=CHAR},
			</if>
			<if test="driverCode != null">
				DRIVER_CODE = #{driverCode,jdbcType=VARCHAR},
			</if>
			<if test="pickupCentralized != null">
				PICKUP_CENTRALIZED = #{pickupCentralized,jdbcType=CHAR},
			</if>
			<if test="loadLineCode != null">
				LOAD_LINE_CODE = #{loadLineCode,jdbcType=VARCHAR},
			</if>
			<if test="loadOrgCode != null">
				LOAD_ORG_CODE = #{loadOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="lastLoadOrgCode != null">
				LAST_LOAD_ORG_CODE = #{lastLoadOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="preDepartureTime != null">
				PRE_DEPARTURE_TIME =
				#{preDepartureTime,jdbcType=TIMESTAMP},
			</if>
			<if test="preCustomerPickupTime != null">
				PRE_CUSTOMER_PICKUP_TIME =
				#{preCustomerPickupTime,jdbcType=TIMESTAMP},
			</if>
			<if test="carDirectDelivery != null">
				CAR_DIRECT_DELIVERY = #{carDirectDelivery,jdbcType=CHAR},
			</if>
			<if test="goodsName != null">
				GOODS_NAME = #{goodsName,jdbcType=VARCHAR},
			</if>
			<if test="goodsQtyTotal != null">
				GOODS_QTY_TOTAL = #{goodsQtyTotal,jdbcType=DECIMAL},
			</if>
			<if test="goodsWeightTotal != null">
				GOODS_WEIGHT_TOTAL =
				#{goodsWeightTotal,jdbcType=DECIMAL},
			</if>
			<if test="goodsVolumeTotal != null">
				GOODS_VOLUME_TOTAL =
				#{goodsVolumeTotal,jdbcType=DECIMAL},
			</if>
			<if test="goodsSize != null">
				GOODS_SIZE =
				#{goodsSize,jdbcType=VARCHAR,typeHandler=org.apache.ibatis.type.ClobTypeHandler},
			</if>
			<if test="goodsTypeCode != null">
				GOODS_TYPE_CODE = #{goodsTypeCode,jdbcType=VARCHAR},
			</if>
			<if test="preciousGoods != null">
				PRECIOUS_GOODS = #{preciousGoods,jdbcType=CHAR},
			</if>
			<if test="specialShapedGoods != null">
				SPECIAL_SHAPED_GOODS =
				#{specialShapedGoods,jdbcType=CHAR},
			</if>
			<if test="outerNotes != null">
				OUTER_NOTES =
				#{outerNotes,jdbcType=VARCHAR,typeHandler=org.apache.ibatis.type.ClobTypeHandler},
			</if>
			<if test="innerNotes != null">
				INNER_NOTES =
				#{innerNotes,jdbcType=VARCHAR,typeHandler=org.apache.ibatis.type.ClobTypeHandler},
			</if>
			<if test="goodsPackage != null">
				GOODS_PACKAGE = #{goodsPackage,jdbcType=VARCHAR},
			</if>
			<if test="insuranceAmount != null">
				INSURANCE_AMOUNT =
				#{insuranceAmount,jdbcType=DECIMAL}*100,
			</if>
			<if test="codAmount != null">
				COD_AMOUNT = #{codAmount,jdbcType=DECIMAL}*100,
			</if>
			<if test="codRate != null">
				COD_RATE = #{codRate,jdbcType=DECIMAL},
			</if>
			<if test="codFee != null">
				COD_FEE = #{codFee,jdbcType=DECIMAL}*100,
			</if>
			<if test="refundType != null">
				REFUND_TYPE = #{refundType,jdbcType=VARCHAR},
			</if>
			<if test="returnBillType != null">
				RETURN_BILL_TYPE = #{returnBillType,jdbcType=VARCHAR},
			</if>
			<if test="secretPrepaid != null">
				SECRET_PREPAID = #{secretPrepaid,jdbcType=CHAR},
			</if>
			<if test="toPayAmount != null">
				TO_PAY_AMOUNT = #{toPayAmount,jdbcType=DECIMAL}*100,
			</if>
			<if test="prePayAmount != null">
				PRE_PAY_AMOUNT = #{prePayAmount,jdbcType=DECIMAL}*100,
			</if>
			<if test="deliveryGoodsFee != null">
				DELIVERY_GOODS_FEE =
				#{deliveryGoodsFee,jdbcType=DECIMAL}*100,
			</if>
			<if test="otherFee != null">
				OTHER_FEE = #{otherFee,jdbcType=DECIMAL}*100,
			</if>
			<if test="packageFee != null">
				PACKAGE_FEE = #{packageFee,jdbcType=DECIMAL}*100,
			</if>
			<if test="promotionsFee != null">
				PROMOTIONS_FEE = #{promotionsFee,jdbcType=DECIMAL}*100,
			</if>
			<if test="billingType != null">
				BILLING_TYPE = #{billingType,jdbcType=VARCHAR},
			</if>
			<if test="transportFee != null">
				TRANSPORT_FEE = #{transportFee,jdbcType=DECIMAL}*100,
			</if>
			<if test="valueAddFee != null">
				VALUE_ADD_FEE = #{valueAddFee,jdbcType=DECIMAL}*100,
			</if>
			<if test="paidMethod != null">
				PAID_METHOD = #{paidMethod,jdbcType=VARCHAR},
			</if>
			<if test="arriveType != null">
				ARRIVE_TYPE = #{arriveType,jdbcType=VARCHAR},
			</if>
			<if test="active != null">
				ACTIVE = #{active,jdbcType=CHAR},
			</if>
			<if test="forbiddenLine != null">
				FORBIDDEN_LINE = #{forbiddenLine,jdbcType=CHAR},
			</if>
			<if test="freightMethod != null">
				FREIGHT_METHOD = #{freightMethod,jdbcType=VARCHAR},
			</if>
			<if test="flightShift != null">
				FLIGHT_SHIFT = #{flightShift,jdbcType=VARCHAR},
			</if>
			<if test="totalFee != null">
				TOTAL_FEE = #{totalFee,jdbcType=DECIMAL}*100,
			</if>
			<if test="promotionsCode != null">
				PROMOTIONS_CODE = #{promotionsCode,jdbcType=VARCHAR},
			</if>
			<if test="createTime != null">
				CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
			</if>
			<if test="modifyTime != null">
				MODIFY_TIME = #{modifyTime,jdbcType=TIMESTAMP},
			</if>
			<if test="billTime != null">
				BILL_TIME = #{billTime,jdbcType=TIMESTAMP},
			</if>
			<if test="createUserCode != null">
				CREATE_USER_CODE = #{createUserCode,jdbcType=VARCHAR},
			</if>
			<if test="modifyUserCode != null">
				MODIFY_USER_CODE = #{modifyUserCode,jdbcType=VARCHAR},
			</if>
			<if test="createOrgCode != null">
				CREATE_ORG_CODE = #{createOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="modifyOrgCode != null">
				MODIFY_ORG_CODE = #{modifyOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="refId != null">
				REF_ID = #{refId,jdbcType=VARCHAR},
			</if>
			<if test="refCode != null">
				REF_CODE = #{refCode,jdbcType=VARCHAR},
			</if>
			<if test="currencyCode != null">
				CURRENCY_CODE = #{currencyCode,jdbcType=VARCHAR},
			</if>
			<if test="isWholeVehicle != null">
				IS_WHOLE_VEHICLE = #{isWholeVehicle,jdbcType=CHAR},
			</if>
			<if test="wholeVehicleAppfee != null">
				WHOLE_VEHICLE_APPFEE =
				#{wholeVehicleAppfee,jdbcType=DECIMAL}*100,
			</if>
			<if test="wholeVehicleActualfee != null">
				WHOLE_VEHICLE_ACTUALFEE =
				#{wholeVehicleActualfee,jdbcType=DECIMAL}*100,
			</if>
			<if test="accountName != null">
				ACCOUNT_NAME = #{accountName,jdbcType=VARCHAR},
			</if>
			<if test="accountCode != null">
				ACCOUNT_CODE = #{accountCode,jdbcType=VARCHAR},
			</if>
			<if test="accountBank != null">
				ACCOUNT_BANK = #{accountBank,jdbcType=VARCHAR},
			</if>
			<if test="billWeight != null">
				BILL_WEIGHT = #{billWeight,jdbcType=DECIMAL},
			</if>
			<if test="pickupFee != null">
				PICKUP_FEE = #{pickupFee,jdbcType=DECIMAL}*100,
			</if>
			<if test="serviceFee != null">
				SERVICE_FEE = #{serviceFee,jdbcType=DECIMAL}*100,
			</if>
			<if test="preArriveTime != null">
				PRE_ARRIVE_TIME = #{preArriveTime,jdbcType=TIMESTAMP},
			</if>
			<if test="transportType != null">
				TRANSPORT_TYPE = #{transportType,jdbcType=VARCHAR},
			</if>
			<if test="addTime != null">
				ADD_TIME = #{addTime,jdbcType=TIMESTAMP},
			</if>
			<if test="insuranceRate != null">
				INSURANCE_RATE = #{insuranceRate,jdbcType=DECIMAL},
			</if>
			<if test="insuranceFee != null">
				INSURANCE_FEE = #{insuranceFee,jdbcType=DECIMAL}*100,
			</if>
			<if test="unitPrice != null">
				UNIT_PRICE = #{unitPrice,jdbcType=DECIMAL}*100,
			</if>
			<if test="contactAddressId != null">
				CONTACT_ADDRESS_ID =
				#{contactAddressId,jdbcType=VARCHAR},
			</if>
			<if test="flightNumberType != null">
				FLIGHT_NUMBER_TYPE =
				#{flightNumberType,jdbcType=VARCHAR},
			</if>
			<if test="collectionDepartment != null">
				COLLECTION_DEPARTMENT =
				#{collectionDepartment,jdbcType=VARCHAR},
			</if>
			<if test="transportationRemark != null">
				TRANSPORTATION_REMARK =
				#{transportationRemark,jdbcType=VARCHAR,typeHandler=org.apache.ibatis.type.ClobTypeHandler},
			</if>
			<if test="isPassOwnDepartment != null">
				IS_PASS_OWN_DEPARTMENT =
				#{isPassOwnDepartment,jdbcType=CHAR},
			</if>
			<if test="paperNum != null">
				PAPER_NUM=#{paperNum,jdbcType=NUMERIC},
			</if>
			<if test="woodNum != null">
				WOOD_NUM=#{woodNum,jdbcType=NUMERIC},
			</if>
			<if test="fibreNum != null">
				FIBRE_NUM=#{fibreNum,jdbcType=NUMERIC},
			</if>
			<if test="salverNum != null">
				SALVER_NUM=#{salverNum,jdbcType=NUMERIC},
			</if>
			<if test="membraneNum != null">
				MEMBRANE_NUM=#{membraneNum,jdbcType=NUMERIC},
			</if>
			<if test="otherPackage!=null">
				OTHER_PACKAGE=#{otherPackage,jdbcType=VARCHAR},
			</if>
			<if test="deliverCustContactId!=null">
				DELIVERY_CUSTOMER_CONTACT_ID=#{deliverCustContactId,jdbcType=VARCHAR},
			</if>
			<if test="receiverCustContactId!=null">
				RECEIVE_CUSTOMER_CONTACT_ID=#{receiverCustContactId,jdbcType=VARCHAR},
			</if>
			<if test="pendingType != null">
				PENDING_TYPE = #{pendingType,jdbcType=VARCHAR},
			</if>
			<if test="licensePlateNum != null">
				LICENSE_PLATE_NUM = #{licensePlateNum,jdbcType=VARCHAR},
			</if>
			<if test="orderVehicleNum != null">
				ORDER_VEHICLE_NUM = #{orderVehicleNum,jdbcType=VARCHAR},
			</if>
			<if test="createUserName != null and createUserName != '' ">
				CREATE_USER_NAME = #{createUserName,jdbcType=VARCHAR},
			</if>
			<if test="createUserDeptName != null and createUserDeptName != '' ">
				CREATE_USER_DEPT_NAME =
				#{createUserDeptName,jdbcType=VARCHAR},
			</if>
			<if test="receiveOrgName != null and receiveOrgName != '' ">
				RECEIVE_ORG_NAME = #{receiveOrgName,jdbcType=VARCHAR},
			</if>
			<if test="customerPickupOrgName != null and customerPickupOrgName != '' ">
				CUSTOMER_PICKUP_ORG_NAME =
				#{customerPickupOrgName,jdbcType=VARCHAR},
			</if>
			<if test="loadOrgName != null and loadOrgName != '' ">
				LOAD_ORG_NAME = #{loadOrgName,jdbcType=VARCHAR},
			</if>
			<if test="lastLoadOrgName != null and lastLoadOrgName != '' ">
				LAST_LOAD_ORG_NAME = #{lastLoadOrgName,jdbcType=VARCHAR},
			</if>
			<if test="transferStartOrgCode != null and transferStartOrgCode != '' ">
				TRANSFER_START_ORG_CODE =
				#{transferStartOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="transferStartOrgName != null and transferStartOrgName != '' ">
				TRANSFER_START_ORG_NAME =
				#{transferStartOrgName,jdbcType=VARCHAR},
			</if>
			<if test="kilometer != null">
				kilometer =#{kilometer,jdbcType=DECIMAL},
			</if>
			<if test="isEconomyGoods != null">
				IS_ECONOMY_GOODS = #{isEconomyGoods,jdbcType=CHAR},
			</if>
			<if test="economyGoodsType != null">
				ECONOMY_GOODS_TYPE =
				#{economyGoodsType,jdbcType=VARCHAR},
			</if>
			<if test="deliveryBigCustomer != null and deliveryBigCustomer != '' ">
				DELIVERY_BIG_CUSTOMER =
				#{deliveryBigCustomer,jdbcType=CHAR},
			</if>
			<if test="receiveBigCustomer != null and receiveBigCustomer != '' ">
				RECEIVE_BIG_CUSTOMER =
				#{receiveBigCustomer,jdbcType=CHAR},
			</if>
		</set>
		where ID = #{id,jdbcType=VARCHAR}
	</update>

	<!-- 根据运单号修改运单      326181 -->
	<update id="updateWaybillEntityByWaybillNo" parameterType="java.util.Map">
		UPDATE PKP.T_SRV_WAYBILL
		<set>
			<if test="waybill.waybillNo != null">
				WAYBILL_NO = #{waybill.waybillNo,jdbcType=VARCHAR},
			</if>
			<if test="waybill.orderNo != null">
				ORDER_NO = #{waybill.orderNo,jdbcType=VARCHAR},
			</if>
			<if test="waybill.orderChannel != null">
				ORDER_CHANNEL = #{waybill.orderChannel,jdbcType=VARCHAR},
			</if>
			<if test="waybill.orderPaidMethod != null">
				order_paid_method =
				#{waybill.orderPaidMethod,jdbcType=VARCHAR},
			</if>

			<if test="waybill.deliveryCustomerId != null">
				DELIVERY_CUSTOMER_ID =
				#{waybill.deliveryCustomerId,jdbcType=VARCHAR},
			</if>
			<if test="waybill.deliveryCustomerCode != null">
				DELIVERY_CUSTOMER_CODE =
				#{waybill.deliveryCustomerCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.deliveryCustomerName != null">
				DELIVERY_CUSTOMER_NAME =
				#{waybill.deliveryCustomerName,jdbcType=VARCHAR},
			</if>
			<if test="waybill.deliveryCustomerMobilephone != null">
				DELIVERY_CUSTOMER_MOBILEPHONE =
				#{waybill.deliveryCustomerMobilephone,jdbcType=VARCHAR},
			</if>
			<if test="waybill.deliveryCustomerPhone != null">
				DELIVERY_CUSTOMER_PHONE =
				#{waybill.deliveryCustomerPhone,jdbcType=VARCHAR},
			</if>
			<if test="waybill.deliveryCustomerContact != null">
				DELIVERY_CUSTOMER_CONTACT =
				#{waybill.deliveryCustomerContact,jdbcType=VARCHAR},
			</if>
			<if test="waybill.deliveryCustomerNationCode != null">
				DELIVERY_CUSTOMER_NATION_CODE =
				#{waybill.deliveryCustomerNationCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.deliveryCustomerProvCode != null">
				DELIVERY_CUSTOMER_PROV_CODE =
				#{waybill.deliveryCustomerProvCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.deliveryCustomerCityCode != null">
				DELIVERY_CUSTOMER_CITY_CODE =
				#{waybill.deliveryCustomerCityCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.deliveryCustomerDistCode != null">
				DELIVERY_CUSTOMER_DIST_CODE =
				#{waybill.deliveryCustomerDistCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.deliveryCustomerAddress != null">
				DELIVERY_CUSTOMER_ADDRESS =
				#{waybill.deliveryCustomerAddress,jdbcType=VARCHAR},
			</if>
			<if test="waybill.receiveCustomerId != null">
				RECEIVE_CUSTOMER_ID =
				#{waybill.receiveCustomerId,jdbcType=VARCHAR},
			</if>
			<if test="waybill.receiveCustomerCode != null">
				RECEIVE_CUSTOMER_CODE =
				#{waybill.receiveCustomerCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.receiveCustomerName != null">
				RECEIVE_CUSTOMER_NAME =
				#{waybill.receiveCustomerName,jdbcType=VARCHAR},
			</if>
			<if test="waybill.receiveCustomerMobilephone != null">
				RECEIVE_CUSTOMER_MOBILEPHONE =
				#{waybill.receiveCustomerMobilephone,jdbcType=VARCHAR},
			</if>
			<if test="waybill.receiveCustomerPhone != null">
				RECEIVE_CUSTOMER_PHONE =
				#{waybill.receiveCustomerPhone,jdbcType=VARCHAR},
			</if>
			<if test="waybill.receiveCustomerContact != null">
				RECEIVE_CUSTOMER_CONTACT =
				#{waybill.receiveCustomerContact,jdbcType=VARCHAR},
			</if>
			<if test="waybill.receiveCustomerNationCode != null">
				RECEIVE_CUSTOMER_NATION_CODE =
				#{waybill.receiveCustomerNationCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.receiveCustomerProvCode != null">
				RECEIVE_CUSTOMER_PROV_CODE =
				#{waybill.receiveCustomerProvCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.receiveCustomerCityCode != null">
				RECEIVE_CUSTOMER_CITY_CODE =
				#{waybill.receiveCustomerCityCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.receiveCustomerDistCode != null">
				RECEIVE_CUSTOMER_DIST_CODE =
				#{waybill.receiveCustomerDistCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.receiveCustomerAddress != null">
				RECEIVE_CUSTOMER_ADDRESS =
				#{waybill.receiveCustomerAddress,jdbcType=VARCHAR},
			</if>
			<if test="waybill.receiveOrgCode != null">
				RECEIVE_ORG_CODE =
				#{waybill.receiveOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.productId != null">
				PRODUCT_ID = #{waybill.productId,jdbcType=VARCHAR},
			</if>
			<if test="waybill.productCode != null">
				PRODUCT_CODE = #{waybill.productCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.receiveMethod != null">
				RECEIVE_METHOD =
				#{waybill.receiveMethod,jdbcType=VARCHAR},
			</if>
			<if test="waybill.customerPickupOrgCode != null">
				CUSTOMER_PICKUP_ORG_CODE =
				#{waybill.customerPickupOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.loadMethod != null">
				LOAD_METHOD = #{waybill.loadMethod,jdbcType=VARCHAR},
			</if>
			<if test="waybill.targetOrgCode != null">
				TARGET_ORG_CODE =
				#{waybill.targetOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.pickupToDoor != null">
				PICKUP_TO_DOOR = #{waybill.pickupToDoor,jdbcType=CHAR},
			</if>
			<if test="waybill.driverCode != null">
				DRIVER_CODE = #{waybill.driverCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.pickupCentralized != null">
				PICKUP_CENTRALIZED =
				#{waybill.pickupCentralized,jdbcType=CHAR},
			</if>
			<if test="waybill.loadLineCode != null">
				LOAD_LINE_CODE =
				#{waybill.loadLineCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.loadOrgCode != null">
				LOAD_ORG_CODE = #{waybill.loadOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.lastLoadOrgCode != null">
				LAST_LOAD_ORG_CODE =
				#{waybill.lastLoadOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.preDepartureTime != null">
				PRE_DEPARTURE_TIME =
				#{waybill.preDepartureTime,jdbcType=TIMESTAMP},
			</if>
			<if test="waybill.preCustomerPickupTime != null">
				PRE_CUSTOMER_PICKUP_TIME =
				#{waybill.preCustomerPickupTime,jdbcType=TIMESTAMP},
			</if>
			<if test="waybill.carDirectDelivery != null">
				CAR_DIRECT_DELIVERY =
				#{waybill.carDirectDelivery,jdbcType=CHAR},
			</if>
			<if test="waybill.goodsName != null">
				GOODS_NAME = #{waybill.goodsName,jdbcType=VARCHAR},
			</if>
			<if test="waybill.goodsQtyTotal != null">
				GOODS_QTY_TOTAL =
				#{waybill.goodsQtyTotal,jdbcType=DECIMAL},
			</if>
			<if test="waybill.goodsWeightTotal != null">
				GOODS_WEIGHT_TOTAL =
				#{waybill.goodsWeightTotal,jdbcType=DECIMAL},
			</if>
			<if test="waybill.goodsVolumeTotal != null">
				GOODS_VOLUME_TOTAL =
				#{waybill.goodsVolumeTotal,jdbcType=DECIMAL},
			</if>
			<if test="waybill.goodsSize != null">
				GOODS_SIZE =
				#{waybill.goodsSize,jdbcType=VARCHAR,typeHandler=org.apache.ibatis.type.ClobTypeHandler},
			</if>
			<if test="waybill.goodsTypeCode != null">
				GOODS_TYPE_CODE =
				#{waybill.goodsTypeCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.preciousGoods != null">
				PRECIOUS_GOODS = #{waybill.preciousGoods,jdbcType=CHAR},
			</if>
			<if test="waybill.specialShapedGoods != null">
				SPECIAL_SHAPED_GOODS =
				#{waybill.specialShapedGoods,jdbcType=CHAR},
			</if>
			<if test="waybill.outerNotes != null">
				OUTER_NOTES =
				#{waybill.outerNotes,jdbcType=VARCHAR,typeHandler=org.apache.ibatis.type.ClobTypeHandler},
			</if>
			<if test="waybill.innerNotes != null">
				INNER_NOTES =
				#{waybill.innerNotes,jdbcType=VARCHAR,typeHandler=org.apache.ibatis.type.ClobTypeHandler},
			</if>
			<if test="waybill.goodsPackage != null">
				GOODS_PACKAGE = #{waybill.goodsPackage,jdbcType=VARCHAR},
			</if>
			<if test="waybill.insuranceAmount != null">
				INSURANCE_AMOUNT =
				#{waybill.insuranceAmount,jdbcType=DECIMAL}*100,
			</if>
			<if test="waybill.codAmount != null">
				COD_AMOUNT = #{waybill.codAmount,jdbcType=DECIMAL}*100,
			</if>
			<if test="waybill.codRate != null">
				COD_RATE = #{waybill.codRate,jdbcType=DECIMAL},
			</if>
			<if test="waybill.codFee != null">
				COD_FEE = #{waybill.codFee,jdbcType=DECIMAL}*100,
			</if>
			<if test="waybill.refundType != null">
				REFUND_TYPE = #{waybill.refundType,jdbcType=VARCHAR},
			</if>
			<if test="waybill.returnBillType != null">
				RETURN_BILL_TYPE =
				#{waybill.returnBillType,jdbcType=VARCHAR},
			</if>
			<if test="waybill.secretPrepaid != null">
				SECRET_PREPAID = #{waybill.secretPrepaid,jdbcType=CHAR},
			</if>
			<if test="waybill.toPayAmount != null">
				TO_PAY_AMOUNT =
				#{waybill.toPayAmount,jdbcType=DECIMAL}*100,
			</if>
			<if test="waybill.prePayAmount != null">
				PRE_PAY_AMOUNT =
				#{waybill.prePayAmount,jdbcType=DECIMAL}*100,
			</if>
			<if test="waybill.deliveryGoodsFee != null">
				DELIVERY_GOODS_FEE =
				#{waybill.deliveryGoodsFee,jdbcType=DECIMAL}*100,
			</if>
			<if test="waybill.otherFee != null">
				OTHER_FEE = #{waybill.otherFee,jdbcType=DECIMAL}*100,
			</if>
			<if test="waybill.packageFee != null">
				PACKAGE_FEE = #{waybill.packageFee,jdbcType=DECIMAL}*100,
			</if>
			<if test="waybill.promotionsFee != null">
				PROMOTIONS_FEE =
				#{waybill.promotionsFee,jdbcType=DECIMAL}*100,
			</if>
			<if test="waybill.billingType != null">
				BILLING_TYPE = #{waybill.billingType,jdbcType=VARCHAR},
			</if>
			<if test="waybill.transportFee != null">
				TRANSPORT_FEE =
				#{waybill.transportFee,jdbcType=DECIMAL}*100,
			</if>
			<if test="waybill.valueAddFee != null">
				VALUE_ADD_FEE =
				#{waybill.valueAddFee,jdbcType=DECIMAL}*100,
			</if>
			<if test="waybill.paidMethod != null">
				PAID_METHOD = #{waybill.paidMethod,jdbcType=VARCHAR},
			</if>
			<if test="waybill.arriveType != null">
				ARRIVE_TYPE = #{waybill.arriveType,jdbcType=VARCHAR},
			</if>
			<if test="waybill.active != null">
				ACTIVE = #{oldActive,jdbcType=CHAR},
			</if>
			<if test="waybill.forbiddenLine != null">
				FORBIDDEN_LINE = #{waybill.forbiddenLine,jdbcType=CHAR},
			</if>
			<if test="waybill.freightMethod != null">
				FREIGHT_METHOD =
				#{waybill.freightMethod,jdbcType=VARCHAR},
			</if>
			<if test="waybill.flightShift != null">
				FLIGHT_SHIFT = #{waybill.flightShift,jdbcType=VARCHAR},
			</if>
			<if test="waybill.totalFee != null">
				TOTAL_FEE = #{waybill.totalFee,jdbcType=DECIMAL}*100,
			</if>
			<if test="waybill.promotionsCode != null">
				PROMOTIONS_CODE =
				#{waybill.promotionsCode,jdbcType=VARCHAR},
			</if>
			<!-- <if test="waybill.createTime != null">
				CREATE_TIME = #{waybill.createTime,jdbcType=TIMESTAMP},
			</if> -->
			<if test="modifyTime != null">
				MODIFY_TIME = #{modifyTime,jdbcType=TIMESTAMP},
			</if>
			<!-- <if test="waybill.billTime != null">
				BILL_TIME = #{waybill.billTime,jdbcType=TIMESTAMP},
			</if> -->
			<if test="waybill.createUserCode != null">
				CREATE_USER_CODE =
				#{waybill.createUserCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.modifyUserCode != null">
				MODIFY_USER_CODE =
				#{waybill.modifyUserCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.createOrgCode != null">
				CREATE_ORG_CODE =
				#{waybill.createOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.modifyOrgCode != null">
				MODIFY_ORG_CODE =
				#{waybill.modifyOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.refId != null">
				REF_ID = #{waybill.refId,jdbcType=VARCHAR},
			</if>
			<if test="waybill.refCode != null">
				REF_CODE = #{waybill.refCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.currencyCode != null">
				CURRENCY_CODE = #{waybill.currencyCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.isWholeVehicle != null">
				IS_WHOLE_VEHICLE =
				#{waybill.isWholeVehicle,jdbcType=CHAR},
			</if>
			<if test="waybill.wholeVehicleAppfee != null">
				WHOLE_VEHICLE_APPFEE =
				#{waybill.wholeVehicleAppfee,jdbcType=DECIMAL}*100,
			</if>
			<if test="waybill.wholeVehicleActualfee != null">
				WHOLE_VEHICLE_ACTUALFEE =
				#{waybill.wholeVehicleActualfee,jdbcType=DECIMAL}*100,
			</if>
			<if test="waybill.accountName != null">
				ACCOUNT_NAME = #{waybill.accountName,jdbcType=VARCHAR},
			</if>
			<if test="waybill.accountCode != null">
				ACCOUNT_CODE = #{waybill.accountCode,jdbcType=VARCHAR},
			</if>
			<if test="waybill.accountBank != null">
				ACCOUNT_BANK = #{waybill.accountBank,jdbcType=VARCHAR},
			</if>
			<if test="waybill.billWeight != null">
				BILL_WEIGHT = #{waybill.billWeight,jdbcType=DECIMAL},
			</if>
			<if test="waybill.pickupFee != null">
				PICKUP_FEE = #{waybill.pickupFee,jdbcType=DECIMAL}*100,
			</if>
			<if test="waybill.serviceFee != null">
				SERVICE_FEE = #{waybill.serviceFee,jdbcType=DECIMAL}*100,
			</if>
			<if test="waybill.preArriveTime != null">
				PRE_ARRIVE_TIME =
				#{waybill.preArriveTime,jdbcType=TIMESTAMP},
			</if>
			<if test="waybill.transportType != null">
				TRANSPORT_TYPE =
				#{waybill.transportType,jdbcType=VARCHAR},
			</if>
			<if test="waybill.addTime != null">
				ADD_TIME = #{waybill.addTime,jdbcType=TIMESTAMP},
			</if>
			<if test="waybill.insuranceRate != null">
				INSURANCE_RATE =
				#{waybill.insuranceRate,jdbcType=DECIMAL},
			</if>
			<if test="waybill.insuranceFee != null">
				INSURANCE_FEE =
				#{waybill.insuranceFee,jdbcType=DECIMAL}*100,
			</if>
			<if test="waybill.unitPrice != null">
				UNIT_PRICE = #{waybill.unitPrice,jdbcType=DECIMAL}*100,
			</if>
			<if test="waybill.contactAddressId != null">
				CONTACT_ADDRESS_ID =
				#{waybill.contactAddressId,jdbcType=VARCHAR},
			</if>
			<if test="waybill.flightNumberType != null">
				FLIGHT_NUMBER_TYPE =
				#{waybill.flightNumberType,jdbcType=VARCHAR},
			</if>
			<if test="waybill.collectionDepartment != null">
				COLLECTION_DEPARTMENT =
				#{waybill.collectionDepartment,jdbcType=VARCHAR},
			</if>
			<if test="waybill.transportationRemark != null">
				TRANSPORTATION_REMARK =
				#{waybill.transportationRemark,jdbcType=VARCHAR,typeHandler=org.apache.ibatis.type.ClobTypeHandler},
			</if>
			<if test="waybill.isPassOwnDepartment != null">
				IS_PASS_OWN_DEPARTMENT =
				#{waybill.isPassOwnDepartment,jdbcType=CHAR},
			</if>
			<if test="waybill.paperNum != null">
				PAPER_NUM=#{waybill.paperNum,jdbcType=NUMERIC},
			</if>
			<if test="waybill.woodNum != null">
				WOOD_NUM=#{waybill.woodNum,jdbcType=NUMERIC},
			</if>
			<if test="waybill.fibreNum != null">
				FIBRE_NUM=#{waybill.fibreNum,jdbcType=NUMERIC},
			</if>
			<if test="waybill.salverNum != null">
				SALVER_NUM=#{waybill.salverNum,jdbcType=NUMERIC},
			</if>
			<if test="waybill.membraneNum != null">
				MEMBRANE_NUM=#{waybill.membraneNum,jdbcType=NUMERIC},
			</if>
			<if test="waybill.otherPackage!=null">
				OTHER_PACKAGE=#{waybill.otherPackage,jdbcType=VARCHAR},
			</if>
			<if test="waybill.deliverCustContactId!=null">
				DELIVERY_CUSTOMER_CONTACT_ID=#{waybill.deliverCustContactId,jdbcType=VARCHAR},
			</if>
			<if test="waybill.receiverCustContactId!=null">
				RECEIVE_CUSTOMER_CONTACT_ID=#{waybill.receiverCustContactId,jdbcType=VARCHAR},
			</if>
			<if test="waybill.pendingType != null">
				PENDING_TYPE = #{waybill.pendingType,jdbcType=VARCHAR},
			</if>
			<if test="waybill.licensePlateNum != null">
				LICENSE_PLATE_NUM =
				#{waybill.licensePlateNum,jdbcType=VARCHAR},
			</if>
			<if test="waybill.orderVehicleNum != null">
				ORDER_VEHICLE_NUM =
				#{waybill.orderVehicleNum,jdbcType=VARCHAR},
			</if>
			<if
				test="waybill.createUserName != null and waybill.createUserName != '' ">
				CREATE_USER_NAME = #{waybill.createUserName,jdbcType=VARCHAR},
			</if>
			<if
				test="waybill.createUserDeptName != null and waybill.createUserDeptName != '' ">
				CREATE_USER_DEPT_NAME =
				#{waybill.createUserDeptName,jdbcType=VARCHAR},
			</if>
			<if
				test="waybill.receiveOrgName != null and waybill.receiveOrgName != '' ">
				RECEIVE_ORG_NAME = #{waybill.receiveOrgName,jdbcType=VARCHAR},
			</if>
			<if
				test="waybill.customerPickupOrgName != null and waybill.customerPickupOrgName != '' ">
				CUSTOMER_PICKUP_ORG_NAME =
				#{waybill.customerPickupOrgName,jdbcType=VARCHAR},
			</if>
			<if test="waybill.loadOrgName != null and waybill.loadOrgName != '' ">
				LOAD_ORG_NAME = #{waybill.loadOrgName,jdbcType=VARCHAR},
			</if>
			<if
				test="waybill.lastLoadOrgName != null and waybill.lastLoadOrgName != '' ">
				LAST_LOAD_ORG_NAME =
				#{waybill.lastLoadOrgName,jdbcType=VARCHAR},
			</if>
			<if
				test="waybill.transferStartOrgCode != null and waybill.transferStartOrgCode != '' ">
				TRANSFER_START_ORG_CODE =
				#{waybill.transferStartOrgCode,jdbcType=VARCHAR},
			</if>
			<if
				test="waybill.transferStartOrgName != null and waybill.transferStartOrgName != '' ">
				TRANSFER_START_ORG_NAME =
				#{waybill.transferStartOrgName,jdbcType=VARCHAR}
			</if>
			<if test="waybill.kilometer != null">
				kilometer =
				#{waybill.kilometer,jdbcType=DECIMAL},
			</if>
			<if test="waybill.isEconomyGoods != null">
				IS_ECONOMY_GOODS =
				#{waybill.isEconomyGoods,jdbcType=CHAR},
			</if>
			<if test="waybill.economyGoodsType != null">
				ECONOMY_GOODS_TYPE =
				#{waybill.economyGoodsType,jdbcType=VARCHAR},
			</if>
			<if
				test="waybill.deliveryBigCustomer != null and waybill.deliveryBigCustomer != '' ">
				DELIVERY_BIG_CUSTOMER =
				#{waybill.deliveryBigCustomer,jdbcType=CHAR},
			</if>
			<if
				test="waybill.receiveBigCustomer != null and waybill.receiveBigCustomer != '' ">
				RECEIVE_BIG_CUSTOMER =
				#{waybill.receiveBigCustomer,jdbcType=CHAR},
			</if>
			<if test="waybill.isExpress != null and waybill.isExpress!=''">
				IS_EXPRESS = #{waybill.isExpress,jdbcType=VARCHAR},
			</if>
			<if test="waybill.freePickupGoods != null and waybill.freePickupGoods!=''">
				FREE_PICKUP_GOODS = #{waybill.freePickupGoods,jdbcType=CHAR}
			</if>
		</set>
		where waybill_no = #{oldWaybillNo,jdbcType=VARCHAR}
		and active = 'Y'
	</update>
	
	<!-- 根据主键ID修改实际承运表    326181 -->
	<update id="updateActualFreightEntityById" parameterType="com.deppon.foss.module.pickup.waybill.shared.domain.ActualFreightEntity">
		UPDATE PKP.T_SRV_ACTUAL_FREIGHT
		<set>
			<if test="waybillNo != null">
				WAYBILL_NO = #{waybillNo,jdbcType=VARCHAR},
			</if>
			<if test="goodsName != null">
				GOODS_NAME = #{goodsName,jdbcType=VARCHAR},
			</if>
			<if test="weight != null">
				WEIGHT = #{weight,jdbcType=DECIMAL},
			</if>
			<if test="volume != null">
				VOLUME = #{volume,jdbcType=DECIMAL},
			</if>
			<if test="goodsQty != null">
				GOODS_QTY = #{goodsQty,jdbcType=DECIMAL},
			</if>
			<if test="dimension != null">
				DIMENSION = #{dimension,jdbcType=VARCHAR},
			</if>
			<if test="insuranceValue != null">
				INSURANCE_VALUE = #{insuranceValue,jdbcType=DECIMAL},
			</if>
			<if test="packingFee != null">
				PACKING_FEE = #{packingFee,jdbcType=DECIMAL},
			</if>
			<if test="deliverFee != null">
				DELIVER_FEE = #{deliverFee,jdbcType=DECIMAL},
			</if>
			<if test="laborFee != null">
				LABOR_FEE = #{laborFee,jdbcType=DECIMAL},
			</if>
			<if test="codAmount != null">
				COD_AMOUNT = #{codAmount,jdbcType=DECIMAL},
			</if>
			<if test="valueaddFee != null">
				VALUEADD_FEE = #{valueaddFee,jdbcType=DECIMAL},
			</if>
			<if test="freight != null">
				FREIGHT = #{freight,jdbcType=DECIMAL},
			</if>
			<if test="settleStatus != null">
				SETTLE_STATUS = #{settleStatus,jdbcType=CHAR},
			</if>
			<if test="settleTime != null">
				SETTLE_TIME = #{settleTime,jdbcType=TIMESTAMP},
			</if>
			<if test="notificationResult != null">
				NOTIFICATION_RESULT = #{notificationResult,jdbcType=VARCHAR},
			</if>
			<if test="notificationTime != null">
				NOTIFICATION_TIME = #{notificationTime,jdbcType=TIMESTAMP},
			</if>
			<if test="deliverDate != null">
				DELIVER_DATE = #{deliverDate,jdbcType=TIMESTAMP},
			</if>
			<if test="actualDeliverType != null">
				ACTUAL_DELIVER_TYPE = #{actualDeliverType,jdbcType=VARCHAR},
			</if>
			<if test="storageDay != null">
				STORAGE_DAY = #{storageDay,jdbcType=DECIMAL},
			</if>
			<if test="storageCharge != null">
				STORAGE_CHARGE = #{storageCharge,jdbcType=DECIMAL},
			</if>
			<if test="overdueDay != null">
				OVERDUE_DAY = #{overdueDay,jdbcType=DECIMAL},
			</if>
			<if test="arriveGoodsQty != null">
				ARRIVE_GOODS_QTY = #{arriveGoodsQty,jdbcType=DECIMAL},
			</if>
			<if test="arriveTime != null">
				ARRIVE_TIME = #{arriveTime,jdbcType=TIMESTAMP},
			</if>
			<if test="arrangeGoodsQty != null">
				ARRANGE_GOODS_QTY = #{arrangeGoodsQty,jdbcType=DECIMAL},
			</if>
			<if test="arriveNotoutGoodsQty != null">
				ARRIVE_NOTOUT_GOODS_QTY = #{arriveNotoutGoodsQty,jdbcType=DECIMAL},
			</if>
			<if test="exceptionGoodsQty != null">
				EXCEPTION_GOODS_QTY = #{exceptionGoodsQty,jdbcType=DECIMAL},
			</if>
			<if test="deliverRegionCode != null">
				DELIVER_REGION_CODE = #{deliverRegionCode,jdbcType=VARCHAR},
			</if>
			<if test="generateGoodsQty != null">
				GENERATE_GOODS_QTY = #{generateGoodsQty,jdbcType=DECIMAL},
			</if>
			<if test="paymentType != null">
				PAYMENT_TYPE = #{paymentType,jdbcType=VARCHAR},
			</if>
			<if test="startStockOrgCode != null">
				START_STOCK_ORG_CODE = #{startStockOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="endStockOrgCode != null">
				END_STOCK_ORG_CODE = #{endStockOrgCode,jdbcType=VARCHAR},
			</if>
            <if test="status != null">
                STATUS = #{status,jdbcType=VARCHAR},
            </if>
            <if test="channelCustId != null">
                channelCustId = #{channelCustId,jdbcType=VARCHAR},
            </if>
             <if test="goodsAreaCode != null">
                GOODS_AREA_CODE = #{goodsAreaCode,jdbcType=VARCHAR},
            </if>
            <if test="createTime != null">
				CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
			</if>
			<if test="invoice != null">
				INVOICE = #{invoice,jdbcType=VARCHAR},
			</if>
			
			<if test="specialOffer != null">
				special_offer_NO = #{specialOffer,jdbcType=VARCHAR},
			</if>
			
			<if test="startBillTime != null">
				START_BILL_TIME = #{startBillTime,jdbcType=TIMESTAMP},
			</if>
			<if test="modifyTime != null">
                MODIFY_TIME=#{modifyTime,jdbcType=TIMESTAMP},
            </if>
            <if test="bigTicketGoods != null">
                BIG_TICKET_GOODS = #{bigTicketGoods,jdbcType=CHAR},
            </if>
            <!-- WUTAO -->
            <if test="startCentralizedSettlement !=null">
            	START_CENTRALIZED_SETTLEMENT = #{startCentralizedSettlement,jdbcType=CHAR},
            </if>
             <if test="arriveCentralizedSettlement !=null">
            	 ARRIVE_CENTRALIZED_SETTLEMENT = #{arriveCentralizedSettlement,jdbcType=CHAR},
            </if>
            <!-- 添加统一计算校验 326181 -->  
           START_CONTRACT_ORG_CODE = DECODE(#{startCentralizedSettlement,jdbcType=CHAR}, 'Y', #{startContractOrgCode,jdbcType=VARCHAR}, ''),
           ARRIVE_CONTRACT_ORG_CODE = DECODE(#{arriveCentralizedSettlement,jdbcType=CHAR}, 'Y', #{arriveContractOrgCode,jdbcType=VARCHAR}, ''),
           START_REMINDER_ORG_CODE = DECODE(#{startCentralizedSettlement,jdbcType=CHAR}, 'Y', #{startReminderOrgCode,jdbcType=VARCHAR}, ''),
           ARRIVE_REMINDER_ORG_CODE = DECODE(#{arriveCentralizedSettlement,jdbcType=CHAR}, 'Y', #{arriveReminderOrgCode,jdbcType=VARCHAR}, ''),
            <!--  <if test="startContractOrgCode !=null">
            	 START_CONTRACT_ORG_CODE = #{startContractOrgCode,jdbcType=VARCHAR},
            </if>
             <if test="arriveContractOrgCode  !=null">
             	ARRIVE_CONTRACT_ORG_CODE = #{arriveContractOrgCode,jdbcType=VARCHAR},
            </if>
             <if test="startReminderOrgCode !=null">
            	 START_REMINDER_ORG_CODE = #{startReminderOrgCode,jdbcType=VARCHAR},
            </if>
             <if test=" arriveReminderOrgCode !=null">
            	 ARRIVE_REMINDER_ORG_CODE = #{arriveReminderOrgCode,jdbcType=VARCHAR},
            </if> -->
			 <if test="receiveCustomerAddressNote != null">
                RECEIVE_CUSTOMER_ADDRESS_NOTE = #{receiveCustomerAddressNote,jdbcType=VARCHAR},
            </if>
            <if test="deliveryCustomerAddressNote != null">
                DELIVERY_CUSTOMER_ADDRESS_NOTE = #{deliveryCustomerAddressNote,jdbcType=VARCHAR},
            </if>
			 <if test="businessZone != null">
				BUSINESS_ZONE = #{businessZone,jdbcType=CHAR},
			</if>
			<if test="residentialDistrict != null">
				RESIDENTIAL_DISTRICT = #{residentialDistrict,jdbcType=CHAR},
			</if>	
            <if test="isExhibitCargo != null">
                IS_EXHIBIT_CARGO = #{isExhibitCargo,jdbcType=VARCHAR},
            </if>
            <!-- 
            	纸箱总价字段
            	@author:218371-foss-zhaoyanjun
            	@date:2014-10-22上午10:34
             -->
             <if test="paperBoxTotlePrice!=null">
             	PAPER_BOX_TOTLE_PRICE=#{paperBoxTotlePrice,jdbcType=DECIMAL},
             </if>
             <!-- 
            	纤袋总价字段
            	@author:218371-foss-zhaoyanjun
            	@date:2014-10-22上午10:34
             -->
             <if test="fibelBagTotlePrice!=null">
             	FIBEL_BAG_TOTLE_PRICE=#{fibelBagTotlePrice,jdbcType=DECIMAL},
             </if>
             <!-- 
            	纸纤包装其它总价字段
            	@author:218371-foss-zhaoyanjun
            	@date:2014-10-22上午10:34
             -->
             <if test="otherTotle!=null">
             	OTHER_TOTLE=#{otherTotle,jdbcType=DECIMAL},
             </if>
             <!-- 
            	纸纤包装总价字段
            	@author:218371-foss-zhaoyanjun
            	@date:2014-10-22上午10:34
             -->
             <if test="packingTotle!=null">
             	PACKING_TOTLE=#{packingTotle,jdbcType=DECIMAL},
             </if>
             <!-- 
              	DMANA-8928 FOSS开单品名自动匹配货源品类
            	行业货源品类字段
            	@author:206860
             -->
             <if test="industrySourceCategory!=null">
             	INDUSTRY_SOURCE_CATEGORY=#{industrySourceCategory,jdbcType=VARCHAR},
             </if>
             <!-- 客户分群  @author:zhangchengfu-->
             <if test="flabelleavemonth!=null">
             	FLABELLEAVEMONTH=#{flabelleavemonth,jdbcType=VARCHAR},
             </if>
             <!-- 
            	交易流水号字段
            	@author:218371-foss-zhaoyanjun
            	@date:2014-10-22上午10:34
             -->
             <if test="transactionSerialNumber!=null">
             	TRANSACTION_NUMBER=#{transactionSerialNumber,jdbcType=VARCHAR},
             </if>
	      <if test="internalDeliveryType != null">
             	INTERNAL_DELIVERY_TYPE = #{internalDeliveryType,jdbcType=VARCHAR},
             </if>
           <if test="specialValueAddedServiceType !=null">
           SPECIAL_VALUE_ADDED_SERVICE = #{specialValueAddedServiceType,jdbcType=VARCHAR},
           </if>
             <if test="employeeNo != null">
             	EMPLOYEE_NO = #{employeeNo,jdbcType=VARCHAR},
             </if>
             <if test="isBatchCreateWaybill != null">
             	IS_BATCH_CREATE_WAYBILL = #{isBatchCreateWaybill,jdbcType=VARCHAR},
             </if>
             <if test="minTransportFee != null">
             	MIN_TRANSPORT_FEE = #{minTransportFee,jdbcType=DECIMAL},
             </if>
             <if test="dcServicefee != null">
             	 DC_SERVICEFEE = #{dcServicefee,jdbcType=DECIMAL}*100,
             </if>
		</set>
		where ID = #{id,jdbcType=VARCHAR}
	</update>
	
	<!-- 根据运单号更新实际承运表  326181-->
	<update id="updateActualFreightEntityByWaybillNo" parameterType="com.deppon.foss.module.pickup.waybill.shared.domain.ActualFreightEntity">
		UPDATE PKP.T_SRV_ACTUAL_FREIGHT
		<set>
			<if test="goodsName != null">
				GOODS_NAME = #{goodsName,jdbcType=VARCHAR},
			</if>
			<if test="weight != null">
				WEIGHT = #{weight,jdbcType=DECIMAL},
			</if>
			<if test="volume != null">
				VOLUME = #{volume,jdbcType=DECIMAL},
			</if>
			<if test="goodsQty != null">
				GOODS_QTY = #{goodsQty,jdbcType=DECIMAL},
			</if>
			<if test="dimension != null">
				DIMENSION = #{dimension,jdbcType=VARCHAR},
			</if>
			<if test="insuranceValue != null">
				INSURANCE_VALUE = #{insuranceValue,jdbcType=DECIMAL},
			</if>
			<if test="packingFee != null">
				PACKING_FEE = #{packingFee,jdbcType=DECIMAL},
			</if>
			<if test="deliverFee != null">
				DELIVER_FEE = #{deliverFee,jdbcType=DECIMAL},
			</if>
			<if test="laborFee != null">
				LABOR_FEE = #{laborFee,jdbcType=DECIMAL},
			</if>
			<if test="codAmount != null">
				COD_AMOUNT = #{codAmount,jdbcType=DECIMAL},
			</if>
			<if test="valueaddFee != null">
				VALUEADD_FEE = #{valueaddFee,jdbcType=DECIMAL},
			</if>
			<if test="freight != null">
				FREIGHT = #{freight,jdbcType=DECIMAL},
			</if>
			<if test="settleStatus != null">
				SETTLE_STATUS = #{settleStatus,jdbcType=CHAR},
			</if>
			<if test="settleTime != null">
				SETTLE_TIME = #{settleTime,jdbcType=TIMESTAMP},
			</if>
			<if test="notificationResult != null">
				NOTIFICATION_RESULT = #{notificationResult,jdbcType=VARCHAR},
			</if>
			<if test="notificationTime != null">
				NOTIFICATION_TIME = #{notificationTime,jdbcType=TIMESTAMP},
			</if>
			<if test="deliverDate != null">
				DELIVER_DATE = #{deliverDate,jdbcType=TIMESTAMP},
			</if>
			<if test="actualDeliverType != null">
				ACTUAL_DELIVER_TYPE = #{actualDeliverType,jdbcType=VARCHAR},
			</if>
			<if test="storageDay != null">
				STORAGE_DAY = #{storageDay,jdbcType=DECIMAL},
			</if>
			<if test="storageCharge != null">
				STORAGE_CHARGE = #{storageCharge,jdbcType=DECIMAL},
			</if>
			<if test="overdueDay != null">
				OVERDUE_DAY = #{overdueDay,jdbcType=DECIMAL},
			</if>
			<if test="arriveGoodsQty != null">
				ARRIVE_GOODS_QTY = #{arriveGoodsQty,jdbcType=DECIMAL},
			</if>
			<if test="arriveTime != null">
				ARRIVE_TIME = #{arriveTime,jdbcType=TIMESTAMP},
			</if>
			<if test="arrangeGoodsQty != null">
				ARRANGE_GOODS_QTY = #{arrangeGoodsQty,jdbcType=DECIMAL},
			</if>
			<if test="arriveNotoutGoodsQty != null">
				ARRIVE_NOTOUT_GOODS_QTY = #{arriveNotoutGoodsQty,jdbcType=DECIMAL},
			</if>
			<if test="exceptionGoodsQty != null">
				EXCEPTION_GOODS_QTY = #{exceptionGoodsQty,jdbcType=DECIMAL},
			</if>
			<if test="deliverRegionCode != null">
				DELIVER_REGION_CODE = #{deliverRegionCode,jdbcType=VARCHAR},
			</if>
			<if test="generateGoodsQty != null">
				GENERATE_GOODS_QTY = #{generateGoodsQty,jdbcType=DECIMAL},
			</if>
			<if test="paymentType != null">
				PAYMENT_TYPE = #{paymentType,jdbcType=VARCHAR},
			</if>
			<if test="startStockOrgCode != null">
				START_STOCK_ORG_CODE = #{startStockOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="endStockOrgCode != null">
				END_STOCK_ORG_CODE = #{endStockOrgCode,jdbcType=VARCHAR},
			</if>
            <if test="status != null">
                STATUS = #{status,jdbcType=VARCHAR},
            </if>
            <if test="channelCustId != null">
                channelCustId = #{channelCustId,jdbcType=VARCHAR},
            </if>
             <if test="goodsAreaCode != null">
                GOODS_AREA_CODE = #{goodsAreaCode,jdbcType=VARCHAR},
            </if>
            <if test="createTime != null">
				CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
			</if>
			<if test="invoice != null and invoice !='' ">
				INVOICE = #{invoice,jdbcType=VARCHAR},
			</if>
			<if test="specialOffer != null and specialOffer !='' ">
				special_offer_NO = #{specialOffer,jdbcType=VARCHAR},
			</if>
			<if test="startBillTime != null">
				START_BILL_TIME = #{startBillTime,jdbcType=TIMESTAMP},
			</if>
			<if test="modifyTime != null">
                MODIFY_TIME=#{modifyTime,jdbcType=TIMESTAMP},
            </if>
            <if test="bigTicketGoods != null">
                BIG_TICKET_GOODS = #{bigTicketGoods,jdbcType=CHAR},
            </if>
            <!-- WUTAO -->
            <if test="startCentralizedSettlement !=null and startCentralizedSettlement != '' ">
            	START_CENTRALIZED_SETTLEMENT = #{startCentralizedSettlement,jdbcType=CHAR},
            </if>
             <if test="arriveCentralizedSettlement !=null and arriveCentralizedSettlement !='' ">
            	 ARRIVE_CENTRALIZED_SETTLEMENT = #{arriveCentralizedSettlement,jdbcType=CHAR},
            </if>
             <if test="startContractOrgCode !=null  and startContractOrgCode != ''">
            	 START_CONTRACT_ORG_CODE = #{startContractOrgCode,jdbcType=VARCHAR},
            </if>
             <if test="arriveContractOrgCode and arriveContractOrgCode !='' ">
             	ARRIVE_CONTRACT_ORG_CODE = #{arriveContractOrgCode,jdbcType=VARCHAR},
            </if>
             <if test="startReminderOrgCode !=null and startReminderOrgCode !=''">
            	 START_REMINDER_ORG_CODE = #{startReminderOrgCode,jdbcType=VARCHAR},
            </if>
             <if test=" arriveReminderOrgCode !=null and arriveReminderOrgCode != ''">
            	 ARRIVE_REMINDER_ORG_CODE = #{arriveReminderOrgCode,jdbcType=VARCHAR},
            </if>
			 <if test="receiveCustomerAddressNote != null">
                RECEIVE_CUSTOMER_ADDRESS_NOTE = #{receiveCustomerAddressNote,jdbcType=VARCHAR},
            </if>
            <if test="deliveryCustomerAddressNote != null">
                DELIVERY_CUSTOMER_ADDRESS_NOTE = #{deliveryCustomerAddressNote,jdbcType=VARCHAR},
            </if>
			 <if test="businessZone != null">
				BUSINESS_ZONE = #{businessZone,jdbcType=CHAR},
			</if>
			<if test="residentialDistrict != null">
				RESIDENTIAL_DISTRICT = #{residentialDistrict,jdbcType=CHAR},
			</if>	
            <if test="isExhibitCargo != null">
                IS_EXHIBIT_CARGO = #{isExhibitCargo,jdbcType=VARCHAR},
            </if>
             <if test="paperBoxTotlePrice!=null">
             	PAPER_BOX_TOTLE_PRICE=#{paperBoxTotlePrice,jdbcType=DECIMAL},
             </if>
             <if test="fibelBagTotlePrice!=null">
             	FIBEL_BAG_TOTLE_PRICE=#{fibelBagTotlePrice,jdbcType=DECIMAL},
             </if>
             <if test="otherTotle!=null">
             	OTHER_TOTLE=#{otherTotle,jdbcType=DECIMAL},
             </if>
             <if test="packingTotle!=null">
             	PACKING_TOTLE=#{packingTotle,jdbcType=DECIMAL},
             </if>
             <if test="industrySourceCategory!=null">
             	INDUSTRY_SOURCE_CATEGORY=#{industrySourceCategory,jdbcType=VARCHAR},
             </if>
             <!-- 客户分群  @author:zhangchengfu-->
             <if test="flabelleavemonth!=null">
             	FLABELLEAVEMONTH=#{flabelleavemonth,jdbcType=VARCHAR},
             </if>
             <!-- 
            	交易流水号字段
            	@author:218371-foss-zhaoyanjun
            	@date:2014-10-22上午10:34
             -->
             <if test="transactionSerialNumber!=null">
             	TRANSACTION_NUMBER=#{transactionSerialNumber,jdbcType=VARCHAR},
             </if>
             <!-- 
            	Dmana-9885巨商汇客户运单
            	@author:218371-foss-zhaoyanjun
            	@date:2015-02-06上午09:38
             -->
             <if test="crmTransportFee != null">
                CRM_TRANSPORT_FEE = #{crmTransportFee,jdbcType=DECIMAL},
            </if>
            <!-- 
            	Dmana-9885巨商汇客户重量
            	@author:218371-foss-zhaoyanjun
            	@date:2015-02-06上午09:38
             -->
             <if test="crmWeight != null">
                CRM_WEIGHT = #{crmWeight,jdbcType=DECIMAL},
            </if>
            <!-- 
            	Dmana-9885巨商汇客户体积
            	@author:218371-foss-zhaoyanjun
            	@date:2015-02-06上午09:38
             -->
             <if test="crmVolume != null">
                CRM_VOLUME = #{crmVolume,jdbcType=DECIMAL},
            </if>
	    <if test="internalDeliveryType != null">
             	INTERNAL_DELIVERY_TYPE = #{internalDeliveryType,jdbcType=VARCHAR},
             </if>
             <if test="employeeNo != null">
             	EMPLOYEE_NO = #{employeeNo,jdbcType=VARCHAR},
             </if>
             <if test="isBatchCreateWaybill != null">
             	IS_BATCH_CREATE_WAYBILL = #{isBatchCreateWaybill,jdbcType=VARCHAR},
             </if>

             <!-- 新增的乡镇(街道) -->
             <if test="receiveCustomerVillageCode !=null">
              RECEIVE_CUSTOMER_VILLAGE_CODE=#{receiveCustomerVillageCode,jdbcType=VARCHAR},
             </if>
             <if test="minTransportFee != null">
             	MIN_TRANSPORT_FEE = #{minTransportFee,jdbcType=DECIMAL},
             </if>
             <if test="specialValueAddedServiceType !=null">
              SPECIAL_VALUE_ADDED_SERVICE = #{specialValueAddedServiceType,jdbcType=VARCHAR},
             </if>            
		</set>
		where WAYBILL_NO = #{waybillNo,jdbcType=VARCHAR}
	</update>
	
	<!-- 新增实际承运表  326181-->
	<insert id="insertActualFreightEntity" parameterType="com.deppon.foss.module.pickup.waybill.shared.domain.ActualFreightEntity">
		INSERT INTO PKP.T_SRV_ACTUAL_FREIGHT
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				ID,
			</if>
			<if test="waybillNo != null">
				WAYBILL_NO,
			</if>
			<if test="goodsName != null">
				GOODS_NAME,
			</if>
			<if test="weight != null">
				WEIGHT,
			</if>
			<if test="volume != null">
				VOLUME,
			</if>
			<if test="goodsQty != null">
				GOODS_QTY,
			</if>
			<if test="dimension != null">
				DIMENSION,
			</if>
			<if test="insuranceValue != null">
				INSURANCE_VALUE,
			</if>
			<if test="packingFee != null">
				PACKING_FEE,
			</if>
			<if test="deliverFee != null">
				DELIVER_FEE,
			</if>
			<if test="laborFee != null">
				LABOR_FEE,
			</if>
			<if test="codAmount != null">
				COD_AMOUNT,
			</if>
			<if test="valueaddFee != null">
				VALUEADD_FEE,
			</if>
			<if test="freight != null">
				FREIGHT,
			</if>
			<if test="settleStatus != null">
				SETTLE_STATUS,
			</if>
			<if test="settleTime != null">
				SETTLE_TIME,
			</if>
			<if test="notificationResult != null">
				NOTIFICATION_RESULT,
			</if>
			<if test="notificationTime != null">
				NOTIFICATION_TIME,
			</if>
			<if test="deliverDate != null">
				DELIVER_DATE,
			</if>
			<if test="actualDeliverType != null">
				ACTUAL_DELIVER_TYPE,
			</if>
			<if test="storageDay != null">
				STORAGE_DAY,
			</if>
			<if test="storageCharge != null">
				STORAGE_CHARGE,
			</if>
			<if test="overdueDay != null">
				OVERDUE_DAY,
			</if>
			<if test="arriveGoodsQty != null">
				ARRIVE_GOODS_QTY,
			</if>
			<if test="arriveTime != null">
				ARRIVE_TIME,
			</if>
			<if test="arrangeGoodsQty != null">
				ARRANGE_GOODS_QTY,
			</if>
			<if test="arriveNotoutGoodsQty != null">
				ARRIVE_NOTOUT_GOODS_QTY,
			</if>
			<if test="exceptionGoodsQty != null">
				EXCEPTION_GOODS_QTY,
			</if>
			<if test="deliverRegionCode != null">
				DELIVER_REGION_CODE,
			</if>
			<if test="generateGoodsQty != null">
				GENERATE_GOODS_QTY,
			</if>
			<if test="paymentType != null">
				PAYMENT_TYPE,
			</if>
			<if test="startStockOrgCode != null">
				START_STOCK_ORG_CODE,
			</if>
			<if test="endStockOrgCode != null">
				END_STOCK_ORG_CODE,
			</if>
            <if test="status != null">
                STATUS,
            </if>
             <if test="channelCustId != null">
                channelCustId,
            </if>
            <if test="goodsAreaCode != null">
                GOODS_AREA_CODE,
            </if>
            <if test="createTime != null">
                CREATE_TIME,
            </if>
			<if test="invoice != null and invoice != '' ">
                INVOICE,
            </if>
            <if test="isSMS != null and isSMS != '' ">
                ISSMS,
            </if>
            <if test="specialOffer != null and specialOffer != '' ">
                SPECIAL_OFFER_NO,
			</if>            
            <if test="modifyTime != null">
                MODIFY_TIME,
            </if>
            <if test="startBillTime != null">
                START_BILL_TIME,
            </if>
            <!-- 
            	是否电子发票字段
            	@author:218371-foss-zhaoyanjun
            	@date:2014-10-22上午10:34
             -->
             <if test="isElectronicInvoice!=null">
             	WHETHER_ELECTRONIC_INVOICE,
             </if>
             <!-- 
            	发票手机号码字段
            	@author:218371-foss-zhaoyanjun
            	@date:2014-10-22上午10:34
             -->
             <if test="invoiceMobilePhone!=null">
             	INVOICE_MOBILE_PHONE_NO,
             </if>
             <!-- 
            	发票邮箱字段
            	@author:218371-foss-zhaoyanjun
            	@date:2014-10-22上午10:34
             -->
             <if test="email!=null">
             	EMAIL,
             </if>
            <if test="isNextDayPending != null">
                ISNEXTDAYPENDING,
            </if>
            <if test="pendingTime != null">
                PENDING_TIME,
            </if>
            <if test="waybillType != null">
                WAYBILL_TYPE,
            </if>
			<if test="bigTicketGoods != null">
                BIG_TICKET_GOODS,
            </if>
            <!-- 添加六个新的字段，添加在导数据中；wutao -->
            <if test="startCentralizedSettlement != null">
                 START_CENTRALIZED_SETTLEMENT,
            </if>
            <if test="arriveCentralizedSettlement != null">
             	ARRIVE_CENTRALIZED_SETTLEMENT,
            </if>
            <if test="startContractOrgCode != null">
                START_CONTRACT_ORG_CODE,     
            </if>
            <if test="arriveContractOrgCode != null">
                ARRIVE_CONTRACT_ORG_CODE,
            </if>
            <if test="startReminderOrgCode != null">
                START_REMINDER_ORG_CODE,
            </if>
            <if test="arriveReminderOrgCode != null">
                ARRIVE_REMINDER_ORG_CODE,
            </if>
			<if test="receiveCustomerAddressNote != null">
                RECEIVE_CUSTOMER_ADDRESS_NOTE,
            </if>
			<if test="deliveryCustomerAddressNote != null">
                DELIVERY_CUSTOMER_ADDRESS_NOTE,
            </if>
            <!-- 
            	纸箱总价字段
            	@author:218371-foss-zhaoyanjun
            	@date:2014-10-22上午10:34
             -->
             <if test="paperBoxTotlePrice!=null">
             	PAPER_BOX_TOTLE_PRICE,
             </if>
             <!-- 
            	纤袋总价字段
            	@author:218371-foss-zhaoyanjun
            	@date:2014-10-22上午10:34
             -->
             <if test="fibelBagTotlePrice!=null">
             	FIBEL_BAG_TOTLE_PRICE,
             </if>
             <!-- 
            	纸纤包装其它总价字段
            	@author:218371-foss-zhaoyanjun
            	@date:2014-10-22上午10:34
             -->
             <if test="otherTotle!=null">
             	OTHER_TOTLE,
             </if>
             <!-- 
            	纸纤包装总价字段
            	@author:218371-foss-zhaoyanjun
            	@date:2014-10-22上午10:34
             -->
             <if test="packingTotle!=null">
             	PACKING_TOTLE,
             </if>
			  <if test="packageRemark != null">
                PACKAGE_REMARK,
            </if>
            <if test="businessZone != null and businessZone != '' ">
				BUSINESS_ZONE,
			</if>
			<if test="residentialDistrict != null and residentialDistrict != '' ">
				RESIDENTIAL_DISTRICT,
             </if>
			 <if test="isExhibitCargo != null">
                IS_EXHIBIT_CARGO,
             </if>
             <!-- DMANA-8928
            	行业货源品类字段
            	@author:206860
             -->
             <if test="industrySourceCategory!=null">
             	INDUSTRY_SOURCE_CATEGORY,
             </if>
             <!-- 客户分群  @author:zhangchengfu -->
             <if test="flabelleavemonth!=null">
             	FLABELLEAVEMONTH,
             </if>
             <!--
            	增加交易流水号
            	@author:218371-foss-zhaoyanjun
            	@date:2015-01-24上午08:50 
             -->
            <if test="transactionSerialNumber != null">
                TRANSACTION_NUMBER,
            </if>
            <!-- 
            	Dmana-9885巨商汇客户运单
            	@author:218371-foss-zhaoyanjun
            	@date:2015-02-06上午09:38
             -->
             <if test="crmTransportFee != null">
                CRM_TRANSPORT_FEE,
            </if>
            <!-- 
            	Dmana-9885巨商汇客户重量
            	@author:218371-foss-zhaoyanjun
            	@date:2015-02-06上午09:38
             -->
             <if test="crmWeight != null">
                CRM_WEIGHT,
            </if>
            <!-- 
            	Dmana-9885巨商汇客户体积
            	@author:218371-foss-zhaoyanjun
            	@date:2015-02-06上午09:38
             -->
             <if test="crmVolume != null">
                CRM_VOLUME,
            </if>
              <if test="connectionNumFee!=null">
             	CONNECTIONNUM_FEE,
             </if>
	     <if test="internalDeliveryType != null">
             	INTERNAL_DELIVERY_TYPE,
             </if>
             <if test="employeeNo != null">
             	EMPLOYEE_NO,
             </if>
             <if test="partnerBillingLogo != null">
             	PARTNER_BILLING_LOGO,
             </if>
             <if test="partnerPhome != null">
             	PARTNER_PHOME,
             </if>
             <if test="partnerName != null">
             	PARTNER_NAME,
             </if>
             <if test="isBatchCreateWaybill != null">
             	IS_BATCH_CREATE_WAYBILL,
             </if>
				
				<!-- 新增的乡镇(街道) -->
             <if test="receiveCustomerVillageCode !=null">
              RECEIVE_CUSTOMER_VILLAGE_CODE,
             </if>
             <!--新增的上门发货 -->
             <if test="homeDelivery !=null">
             HOMEDELIVERY,
             </if>
             
             <!-- 
            	pda现金交接表
            	@author:254615-foss-mabinliang
            	@date:2015-07-30
             -->
             <if test="pdaPaidMethod !=null">
                PDA_PAID_METHOD,
             </if>
              <if test="pdaPrePayAmount !=null">
                PDA_PRE_PAY_AMOUNT,
             </if>
             <!-- 新增 运费最低一票-->
             <if test="minTransportFee !=null">
                MIN_TRANSPORT_FEE,
             </if>
              <if test="dcServicefee != null">
             DC_SERVICEFEE,
             </if>
             <!-- 特殊增值服务 -->
             <if test="specialValueAddedServiceType !=null">
                SPECIAL_VALUE_ADDED_SERVICE,
             </if>
             IS_ECS,
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=VARCHAR},
			</if>
			<if test="waybillNo != null">
				#{waybillNo,jdbcType=VARCHAR},
			</if>
			<if test="goodsName != null">
				#{goodsName,jdbcType=VARCHAR},
			</if>
			<if test="weight != null">
				#{weight,jdbcType=DECIMAL},
			</if>
			<if test="volume != null">
				#{volume,jdbcType=DECIMAL},
			</if>
			<if test="goodsQty != null">
				#{goodsQty,jdbcType=DECIMAL},
			</if>
			<if test="dimension != null">
				#{dimension,jdbcType=VARCHAR},
			</if>
			<if test="insuranceValue != null">
				#{insuranceValue,jdbcType=DECIMAL},
			</if>
			<if test="packingFee != null">
				#{packingFee,jdbcType=DECIMAL},
			</if>
			<if test="deliverFee != null">
				#{deliverFee,jdbcType=DECIMAL},
			</if>
			<if test="laborFee != null">
				#{laborFee,jdbcType=DECIMAL},
			</if>
			<if test="codAmount != null">
				#{codAmount,jdbcType=DECIMAL},
			</if>
			<if test="valueaddFee != null">
				#{valueaddFee,jdbcType=DECIMAL},
			</if>
			<if test="freight != null">
				#{freight,jdbcType=DECIMAL},
			</if>
			<if test="settleStatus != null">
				#{settleStatus,jdbcType=CHAR},
			</if>
			<if test="settleTime != null">
				#{settleTime,jdbcType=TIMESTAMP},
			</if>
			<if test="notificationResult != null">
				#{notificationResult,jdbcType=VARCHAR},
			</if>
			<if test="notificationTime != null">
				#{notificationTime,jdbcType=TIMESTAMP},
			</if>
			<if test="deliverDate != null">
				#{deliverDate,jdbcType=TIMESTAMP},
			</if>
			<if test="actualDeliverType != null">
				#{actualDeliverType,jdbcType=VARCHAR},
			</if>
			<if test="storageDay != null">
				#{storageDay,jdbcType=DECIMAL},
			</if>
			<if test="storageCharge != null">
				#{storageCharge,jdbcType=DECIMAL},
			</if>
			<if test="overdueDay != null">
				#{overdueDay,jdbcType=DECIMAL},
			</if>
			<if test="arriveGoodsQty != null">
				#{arriveGoodsQty,jdbcType=DECIMAL},
			</if>
			<if test="arriveTime != null">
				#{arriveTime,jdbcType=TIMESTAMP},
			</if>
			<if test="arrangeGoodsQty != null">
				#{arrangeGoodsQty,jdbcType=DECIMAL},
			</if>
			<if test="arriveNotoutGoodsQty != null">
				#{arriveNotoutGoodsQty,jdbcType=DECIMAL},
			</if>
			<if test="exceptionGoodsQty != null">
				#{exceptionGoodsQty,jdbcType=DECIMAL},
			</if>
			<if test="deliverRegionCode != null">
				#{deliverRegionCode,jdbcType=VARCHAR},
			</if>
			<if test="generateGoodsQty != null">
				#{generateGoodsQty,jdbcType=DECIMAL},
			</if>
			<if test="paymentType != null">
				#{paymentType,jdbcType=VARCHAR},
			</if>
			<if test="startStockOrgCode != null">
				#{startStockOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="endStockOrgCode != null">
				#{endStockOrgCode,jdbcType=VARCHAR},
			</if>
            <if test="status != null">
                #{status,jdbcType=VARCHAR},
            </if>
            <if test="channelCustId != null">
				#{channelCustId,jdbcType=VARCHAR},
			</if>
			<if test="goodsAreaCode != null">
				#{goodsAreaCode,jdbcType=VARCHAR},
			</if>
			<if test="createTime != null">
				#{createTime,jdbcType=TIMESTAMP},
			</if>
			<if test="invoice != null and invoice != '' ">
				#{invoice,jdbcType=VARCHAR},
			</if>
			<if test="isSMS != null and isSMS != '' ">
				#{isSMS,jdbcType=VARCHAR},
			</if>
			<if test="specialOffer != null and specialOffer != '' ">
				#{specialOffer,jdbcType=VARCHAR},
			</if>
			<if test="modifyTime != null">
                #{modifyTime,jdbcType=TIMESTAMP},
            </if>
			<if test="startBillTime != null">
				#{startBillTime,jdbcType=TIMESTAMP},
			</if>
			<!-- 
            	是否电子发票字段
            	@author:218371-foss-zhaoyanjun
            	@date:2014-10-22上午10:34
             -->
             <if test="isElectronicInvoice!=null">
             	#{isElectronicInvoice,jdbcType=CHAR},
             </if>
             <!-- 
            	发票手机号码字段
            	@author:218371-foss-zhaoyanjun
            	@date:2014-10-22上午10:34
             -->
             <if test="invoiceMobilePhone!=null">
             	#{invoiceMobilePhone,jdbcType=VARCHAR},
             </if>
             <!-- 
            	发票邮箱字段
            	@author:218371-foss-zhaoyanjun
            	@date:2014-10-22上午10:34
             -->
             <if test="email!=null">
             	#{email,jdbcType=VARCHAR},
             </if>
			<if test="isNextDayPending != null">
			    #{isNextDayPending,jdbcType=VARCHAR},
			</if>
			<if test="pendingTime != null">
			    #{pendingTime,jdbcType=TIMESTAMP},
			</if>
			<if test="waybillType != null">
				#{waybillType,jdbcType=VARCHAR},
			</if>
			<if test="bigTicketGoods != null">
				#{bigTicketGoods,jdbcType=CHAR},
			</if>
			<!-- wutao -->
			<if test="startCentralizedSettlement != null">
				#{startCentralizedSettlement,jdbcType=CHAR},
			</if>
			<if test="arriveCentralizedSettlement != null">
				#{arriveCentralizedSettlement,jdbcType=CHAR},
			</if>
			<if test="startContractOrgCode != null">
				#{startContractOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="arriveContractOrgCode != null">
				#{arriveContractOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="startReminderOrgCode != null">
				#{startReminderOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="arriveReminderOrgCode != null">
				#{arriveReminderOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="receiveCustomerAddressNote != null">
				#{receiveCustomerAddressNote,jdbcType=CHAR},
			</if>
			<if test="deliveryCustomerAddressNote != null">
				#{deliveryCustomerAddressNote,jdbcType=CHAR},
			</if>
			<!-- 
            	纸箱总价字段
            	@author:218371-foss-zhaoyanjun
            	@date:2014-10-22上午10:34
             -->
             <if test="paperBoxTotlePrice!=null">
             	#{paperBoxTotlePrice,jdbcType=DECIMAL},
             </if>
             <!-- 
            	纤袋总价字段
            	@author:218371-foss-zhaoyanjun
            	@date:2014-10-22上午10:34
             -->
             <if test="fibelBagTotlePrice!=null">
             	#{fibelBagTotlePrice,jdbcType=DECIMAL},
             </if>
             <!-- 
            	纸纤包装其它总价字段
            	@author:218371-foss-zhaoyanjun
            	@date:2014-10-22上午10:34
             -->
             <if test="otherTotle!=null">
             	#{otherTotle,jdbcType=DECIMAL},
             </if>
             <!-- 
            	纸纤包装总价字段
            	@author:218371-foss-zhaoyanjun
            	@date:2014-10-22上午10:34
             -->
             <if test="packingTotle!=null">
             	#{packingTotle,jdbcType=DECIMAL},
             </if>
			<if test="packageRemark != null">
               #{packageRemark,jdbcType=VARCHAR},
            </if>
            <if test="businessZone != null">
				#{businessZone,jdbcType=CHAR},
			</if>
			<if test="residentialDistrict != null">
				#{residentialDistrict,jdbcType=CHAR},
			</if>
			 <if test="isExhibitCargo != null">
				#{isExhibitCargo,jdbcType=CHAR},
			 </if>
			 <!-- DMANA-8928
            	行业货源品类字段
            	@author:206860
             -->
             <if test="industrySourceCategory!=null">
             	#{industrySourceCategory,jdbcType=VARCHAR},
             </if>
             <!-- 客户分群  @author:zhangchengfu -->
             <if test="flabelleavemonth!=null">
             	#{flabelleavemonth,jdbcType=VARCHAR},
             </if>
             <!--
            	增加交易流水号
            	@author:218371-foss-zhaoyanjun
            	@date:2015-01-24上午08:50 
             -->
            <if test="transactionSerialNumber != null">
                #{transactionSerialNumber,jdbcType=VARCHAR},
            </if>
            <!-- 
            	Dmana-9885巨商汇客户运单
            	@author:218371-foss-zhaoyanjun
            	@date:2015-02-06上午09:38
             -->
             <if test="crmTransportFee != null">
                #{crmTransportFee,jdbcType=DECIMAL},
            </if>
            <!-- 
            	Dmana-9885巨商汇客户重量
            	@author:218371-foss-zhaoyanjun
            	@date:2015-02-06上午09:38
             -->
             <if test="crmWeight != null">
                #{crmWeight,jdbcType=DECIMAL},
            </if>
            <!-- 
            	Dmana-9885巨商汇客户体积
            	@author:218371-foss-zhaoyanjun
            	@date:2015-02-06上午09:38
             -->
             <if test="crmVolume != null">
                #{crmVolume,jdbcType=DECIMAL},
            </if>
             <if test="connectionNumFee !=null">
             	#{connectionNumFee,jdbcType=DECIMAL},
             </if>
	     <if test="internalDeliveryType != null">
             	#{internalDeliveryType,jdbcType=VARCHAR},
             </if>
             <if test="employeeNo != null">
             	#{employeeNo,jdbcType=VARCHAR},
             </if>
             <if test="partnerBillingLogo != null">
             	#{partnerBillingLogo,jdbcType=VARCHAR},
             </if>
             <if test="partnerPhome != null">
             	#{partnerPhome,jdbcType=VARCHAR},
             </if>
             <if test="partnerName != null">
             	#{partnerName,jdbcType=VARCHAR},
             </if>
             <if test="isBatchCreateWaybill != null">
             	#{isBatchCreateWaybill,jdbcType=VARCHAR},
             </if>
				<if test="receiveCustomerVillageCode !=null">
               #{receiveCustomerVillageCode,jdbcType=VARCHAR},
             </if>
             <if test="homeDelivery !=null"> 
             #{homeDelivery,jdbcType=CHAR},
             </if>
             <if test="pdaPaidMethod !=null">
               #{pdaPaidMethod,jdbcType=VARCHAR},
             </if>
              <if test="pdaPrePayAmount !=null">
               #{pdaPrePayAmount,jdbcType=DECIMAL}*100,
             </if>
             <if test="minTransportFee != null">
                #{minTransportFee,jdbcType=DECIMAL}*100,
             </if>
             <!--新增装卸费暂存字段 -->
             <if test="dcServicefee !=null">
               #{dcServicefee,jdbcType=DECIMAL}*100,
             </if>
             <!-- 特殊增值服务 -->
             <if test="specialValueAddedServiceType !=null">
               #{specialValueAddedServiceType,jdbcType=VARCHAR},
             </if>
             'Y',
		</trim>
	</insert>
	
	<!-- 根据运单号更新其他快递信息表   326181 -->
	<update id="updateWaybillExpressByWaybillNo"
		parameterType="com.deppon.foss.module.pickup.waybill.shared.domain.WaybillExpressEntity">
		UPDATE PKP.T_SRV_WAYBILL_EXPRESS 
		<set>
			<if test="waybillId != null and waybillId != '' ">
				WAYBILL_ID = #{waybillId,jdbcType=VARCHAR},
			</if>
			<if test="waybillNo != null and waybillNo != '' ">
				WAYBILL_NO = #{waybillNo,jdbcType=VARCHAR},
			</if>
			<if test="deliveryCustomerProvCode != null and deliveryCustomerProvCode != '' ">
				DELIVERY_CUSTOMER_PROV_CODE = #{deliveryCustomerProvCode,jdbcType=VARCHAR},
			</if>
			<if test="deliveryCustomerCityCode != null and deliveryCustomerCityCode != '' ">
				DELIVERY_CUSTOMER_CITY_CODE = #{deliveryCustomerCityCode,jdbcType=VARCHAR},
			</if>
			<if test="deliveryCustomerDistCode != null and deliveryCustomerDistCode != '' ">
				DELIVERY_CUSTOMER_DIST_CODE = #{deliveryCustomerDistCode,jdbcType=VARCHAR},
			</if>
			<if test="receiveCustomerCode != null and receiveCustomerCode != '' ">
				RECEIVE_CUSTOMER_CODE = #{receiveCustomerCode,jdbcType=VARCHAR},
			</if>
			<if test="receiveCustomerName != null and receiveCustomerName != '' ">
				RECEIVE_CUSTOMER_NAME = #{receiveCustomerName,jdbcType=VARCHAR},
			</if>
			<if test="receiveCustomerMobilephone != null and receiveCustomerMobilephone != '' ">
				RECEIVE_CUSTOMER_MOBILEPHONE = #{receiveCustomerMobilephone,jdbcType=VARCHAR},
			</if>
			<if test="receiveCustomerPhone != null and receiveCustomerPhone != '' ">
				RECEIVE_CUSTOMER_PHONE = #{receiveCustomerPhone,jdbcType=VARCHAR},
			</if>
			<if test="receiveCustomerContact != null and receiveCustomerContact != '' ">
				RECEIVE_CUSTOMER_CONTACT = #{receiveCustomerContact,jdbcType=VARCHAR},
			</if>
			<if test="receiveCustomerProvCode != null and receiveCustomerProvCode != '' ">
				RECEIVE_CUSTOMER_PROV_CODE = #{receiveCustomerProvCode,jdbcType=VARCHAR},
			</if>
			<if test="receiveCustomerCityCode != null and receiveCustomerCityCode != '' ">
				RECEIVE_CUSTOMER_CITY_CODE = #{receiveCustomerCityCode,jdbcType=VARCHAR},
			</if>
			<if test="receiveCustomerDistCode != null and receiveCustomerDistCode != '' ">
				RECEIVE_CUSTOMER_DIST_CODE = #{receiveCustomerDistCode,jdbcType=VARCHAR},
			</if>
			<if test="receiveCustomerAddress != null and receiveCustomerAddress != '' ">
				RECEIVE_CUSTOMER_ADDRESS = #{receiveCustomerAddress,jdbcType=VARCHAR},
			</if>
			<if test="receiveMethod != null and receiveMethod != '' ">
				RECEIVE_METHOD = #{receiveMethod,jdbcType=VARCHAR},
			</if>
			<if test="targetOrgCode != null and targetOrgCode != '' ">
				TARGET_ORG_CODE = #{targetOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="billTime != null and billTime != '' ">
				BILL_TIME = #{billTime,jdbcType=TIMESTAMP},
			</if>
			<if test="createOrgCode != null and createOrgCode != '' ">
				CREATE_ORG_CODE = #{createOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="isAddCode != null and isAddCode != '' ">
				IS_ADD_CODE = #{isAddCode,jdbcType=CHAR},
			</if>
			<if test="addCodeTime != null and addCodeTime != '' ">
				ADD_CODE_TIME = #{addCodeTime,jdbcType=TIMESTAMP},
			</if>
			<if test="returnType != null and returnType != '' ">
				RETURN_TYPE = #{returnType,jdbcType=VARCHAR},
			</if>
			<if test="originalWaybillNo != null and originalWaybillNo != '' ">
				ORIGINAL_WAYBILL_NO = #{originalWaybillNo,jdbcType=VARCHAR},
			</if>
			<if test="expressEmpCode != null and expressEmpCode != '' ">
				EXPRESS_EMP_CODE = #{expressEmpCode,jdbcType=VARCHAR},
			</if>
			<if test="expressEmpName != null and expressEmpName != '' ">
				EXPRESS_EMP_NAME = #{expressEmpName,jdbcType=VARCHAR},
			</if>
			<if test="expressOrgCode != null and expressOrgCode != '' ">
				EXPRESS_ORG_CODE = #{expressOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="expressOrgName != null and expressOrgName != '' ">
				EXPRESS_ORG_NAME = #{expressOrgName,jdbcType=VARCHAR},
			</if>
			<if test="pdaSerial != null and pdaSerial != '' ">
				PDA_SERIAL = #{pdaSerial,jdbcType=VARCHAR},
			</if>
			<if test="bankTradeSerail != null and bankTradeSerail != '' ">
				BANK_TRADE_SERIAL = #{bankTradeSerail,jdbcType=VARCHAR},
			</if>
			<if test="customerPickupOrgCode != null and customerPickupOrgCode != '' ">
				CUSTOMER_PICKUP_ORG_CODE = #{customerPickupOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="customerPickupOrgName != null and customerPickupOrgName != '' ">
				CUSTOMER_PICKUP_ORG_NAME = #{customerPickupOrgName,jdbcType=VARCHAR},
			</if>
			<if test="receiveOrgCode != null and receiveOrgCode != '' ">
				RECEIVE_ORG_CODE = #{receiveOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="receiveOrgName != null and receiveOrgName != '' ">
				RECEIVE_ORG_NAME = #{receiveOrgName,jdbcType=VARCHAR},
			</if>
			<if test="canReturnCargo != null and canReturnCargo != '' ">
				CAN_RETURN_CARGO = #{canReturnCargo,jdbcType=VARCHAR},
			</if>
			<if test="lastOutFieldCode != null and lastOutFieldCode != '' ">
				LAST_OUTFIELD_CODE = #{lastOutFieldCode,jdbcType=VARCHAR},
			</if>
			<if test="changeVolume != null and changeVolume != '' ">
				CHANGE_VOLUME = #{changeVolume,jdbcType=VARCHAR},
			</if>
			<if test="volumeWeight != null and volumeWeight != '' ">
				VOLUME_WEIGHT = #{volumeWeight,jdbcType=DECIMAL},
			</if>
			<if test="modifyDate != null" >
        		MODIFY_TIME = #{modifyDate,jdbcType=TIMESTAMP},
			</if>
		</set>
		where WAYBILL_NO = #{waybillNo,jdbcType=VARCHAR}
	</update>
	
	<!-- 新增其他快递信息表  326181 -->
	<insert id="insertWaybillExpressEntity"
		parameterType="com.deppon.foss.module.pickup.waybill.shared.domain.WaybillExpressEntity">
		INSERT INTO PKP.T_SRV_WAYBILL_EXPRESS (
		ID, 
		WAYBILL_ID, 
		WAYBILL_NO, 
		DELIVERY_CUSTOMER_PROV_CODE,
		DELIVERY_CUSTOMER_CITY_CODE, 
		DELIVERY_CUSTOMER_DIST_CODE, 
		RECEIVE_CUSTOMER_CODE, 
		RECEIVE_CUSTOMER_NAME, 
		RECEIVE_CUSTOMER_MOBILEPHONE, 
		RECEIVE_CUSTOMER_PHONE, 
		RECEIVE_CUSTOMER_CONTACT, 
		RECEIVE_CUSTOMER_PROV_CODE,
		RECEIVE_CUSTOMER_CITY_CODE,
		RECEIVE_CUSTOMER_DIST_CODE,
		RECEIVE_CUSTOMER_ADDRESS,
		RECEIVE_METHOD,
		TARGET_ORG_CODE,
		BILL_TIME,
		CREATE_ORG_CODE,
		IS_ADD_CODE,
		ADD_CODE_TIME,
		RETURN_TYPE,
		ORIGINAL_WAYBILL_NO,
		EXPRESS_EMP_CODE,
		EXPRESS_EMP_NAME,
		EXPRESS_ORG_CODE,
		EXPRESS_ORG_NAME,
		PDA_SERIAL,
		BANK_TRADE_SERIAL,
		CUSTOMER_PICKUP_ORG_CODE,
		CUSTOMER_PICKUP_ORG_NAME,
		RECEIVE_ORG_CODE,
		RECEIVE_ORG_NAME,
		CAN_RETURN_CARGO,
		LAST_OUTFIELD_CODE,
		CHANGE_VOLUME,
		VOLUME_WEIGHT,
		MODIFY_TIME,
		INNER_PICKUP_FEE_BURDEN_DEPT,
		CREATE_TIME,
		DELIVERY_EMPLOYEE_CODE,
		IS_ECS
		)	values (
		#{id,jdbcType=VARCHAR},
		#{waybillId,jdbcType=VARCHAR},
		#{waybillNo,jdbcType=VARCHAR},
		#{deliveryCustomerProvCode,jdbcType=VARCHAR},
		#{deliveryCustomerCityCode,jdbcType=VARCHAR},
		#{deliveryCustomerDistCode,jdbcType=VARCHAR},
		#{receiveCustomerCode,jdbcType=VARCHAR},
		#{receiveCustomerName,jdbcType=VARCHAR},
		#{receiveCustomerMobilephone,jdbcType=VARCHAR},
		#{receiveCustomerPhone,jdbcType=VARCHAR},
		#{receiveCustomerContact,jdbcType=VARCHAR},
		#{receiveCustomerProvCode,jdbcType=VARCHAR},
		#{receiveCustomerCityCode,jdbcType=VARCHAR},
		#{receiveCustomerDistCode,jdbcType=VARCHAR},
		#{receiveCustomerAddress,jdbcType=VARCHAR},
		#{receiveMethod,jdbcType=VARCHAR},
		#{targetOrgCode,jdbcType=VARCHAR},
		#{billTime,jdbcType=TIMESTAMP},
		#{createOrgCode,jdbcType=VARCHAR},
		#{isAddCode,jdbcType=CHAR},
		#{addCodeTime,jdbcType=TIMESTAMP},
		#{returnType,jdbcType=VARCHAR},
		#{originalWaybillNo,jdbcType=VARCHAR},
		#{expressEmpCode,jdbcType=VARCHAR},
		#{expressEmpName,jdbcType=VARCHAR},
		#{expressOrgCode,jdbcType=VARCHAR},
		#{expressOrgName,jdbcType=VARCHAR},
		#{pdaSerial,jdbcType=VARCHAR},
		#{bankTradeSerail,jdbcType=VARCHAR},
		#{customerPickupOrgCode,jdbcType=VARCHAR},
		#{customerPickupOrgName,jdbcType=VARCHAR},
		#{receiveOrgCode,jdbcType=VARCHAR},
		#{receiveOrgName,jdbcType=VARCHAR},
		#{canReturnCargo,jdbcType=VARCHAR},
		#{lastOutFieldCode,jdbcType=VARCHAR},
		#{changeVolume,jdbcType=VARCHAR},
		#{volumeWeight,jdbcType=DECIMAL},
		#{modifyDate,jdbcType=TIMESTAMP},
		#{innerPickupFeeBurdenDept,jdbcType=VARCHAR},
		#{createTime,jdbcType=TIMESTAMP},
		#{deliveryEmployeeCode,jdbcType=VARCHAR},
		'Y'
		)
	</insert>
	
	<!-- 根据主键ID更新运单更改表  326181 -->
	<update id="updateWaybillRfcEntityById"
		parameterType="com.deppon.foss.module.pickup.waybill.shared.domain.WaybillRfcEntity">
		update PKP.T_SRV_WAYBILLRFC
		<set>
			<if test="waybillNo != null">
				WAYBILL_NO = #{waybillNo,jdbcType=VARCHAR},
			</if>
			<if test="rfcSource != null">
				RFC_SOURCE = #{rfcSource,jdbcType=VARCHAR},
			</if>
			<if test="rfcType != null">
				RFC_TYPE = #{rfcType,jdbcType=VARCHAR},
			</if>
			<if test="rfcReason != null">
				RFC_REASON = #{rfcReason,jdbcType=VARCHAR},
			</if>
			<if test="draftOrgName != null">
				DRAFT_ORG_NAME = #{draftOrgName,jdbcType=VARCHAR},
			</if>
			<if test="draftOrgCode != null">
				DRAFT_ORG_CODE = #{draftOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="drafter != null">
				DRAFTER = #{drafter,jdbcType=VARCHAR},
			</if>
			<if test="drafterCode != null">
				DRAFTER_CODE = #{drafterCode,jdbcType=VARCHAR},
			</if>
			<if test="draftTime != null">
				DRAFT_TIME = #{draftTime,jdbcType=TIMESTAMP},
			</if>
			<if test="notes != null">
				NOTES = #{notes,jdbcType=VARCHAR},
			</if>
			<if test="status != null">
				STATUS = #{status,jdbcType=VARCHAR},
			</if>
			<if test="operator != null">
				OPERATOR = #{operator,jdbcType=VARCHAR},
			</if>
			<if test="operatorCode != null">
				OPERATOR_CODE = #{operatorCode,jdbcType=VARCHAR},
			</if>
			<if test="operateOrgName != null">
				OPERATE_ORG_NAME = #{operateOrgName,jdbcType=VARCHAR},
			</if>
			<if test="operateOrgCode != null">
				OPERATE_ORG_CODE = #{operateOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="operateTime != null">
				OPERATE_TIME = #{operateTime,jdbcType=TIMESTAMP},
			</if>
			<if test="oldVersionWaybillId != null">
				OLD_VERSION_WAYBILL_ID =
				#{oldVersionWaybillId,jdbcType=VARCHAR},
			</if>
			<if test="newVersionWaybillId != null">
				NEW_VERSION_WAYBILL_ID =
				#{newVersionWaybillId,jdbcType=VARCHAR},
			</if>
			<if test="isFinanceChange != null">
				IS_FINANCE_CHANGE = #{isFinanceChange,jdbcType=VARCHAR},
			</if>
			<if test="changeItems != null">
				CHANGE_ITEMS = #{changeItems,jdbcType=VARCHAR},
			</if>
			<if test="receiverSms != null">
				RECEIVER_SMS = #{receiverSms,jdbcType=VARCHAR},
			</if>
			<if test="deliverSms != null">
				DELIVER_SMS = #{deliverSms,jdbcType=VARCHAR},
			</if>
			<if test="isChangeDestination != null">
				IS_CHANGE_DESTINATION =
				#{isChangeDestination,jdbcType=VARCHAR},
			</if>
			<if test="needWriteOff != null">
				NEED_WRITE_OFF = #{needWriteOff,jdbcType=VARCHAR},
			</if>
			<if test="writeOffStatus != null">
				WRITE_OFF_STATUS = #{writeOffStatus,jdbcType=VARCHAR},
			</if>
			<if test="writeOffNotes != null">
				WRITE_OFF_NOTES = #{writeOffNotes,jdbcType=VARCHAR},
			</if>
			<if test="pdaNotice != null">
				PDA_NOTICE = #{pdaNotice,jdbcType=VARCHAR},
			</if>
			<if test="transportFee != null">
				TRANSPORT_FEE = #{transportFee,jdbcType=DECIMAL},
			</if>
			<if test="transportFeeRate != null">
				TRANSPORT_FEE_RATE = #{transportFeeRate,jdbcType=DECIMAL},
			</if>
			<if test="isChangeWaybillNo != null">
				IS_CHANGE_WAYBILL_NO = #{isChangeWaybillNo,jdbcType=VARCHAR},
			</if>
			<if test=" isLabourHandle != null">
				IS_LABOUR_HANDLE = #{isLabourHandle,jdbcType=VARCHAR},
			</if>
		</set>
		where ID = #{id,jdbcType=VARCHAR}
	</update>
	
	<!-- 新增运单更改表  326181 -->
	<insert id="insertWaybillRfcEntity"
		parameterType="com.deppon.foss.module.pickup.waybill.shared.domain.WaybillRfcEntity">
		INSERT INTO PKP.T_SRV_WAYBILLRFC
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				ID,
			</if>
			<if test="waybillNo != null">
				WAYBILL_NO,
			</if>
			<if test="rfcSource != null">
				RFC_SOURCE,
			</if>
			<if test="rfcType != null">
				RFC_TYPE,
			</if>
			<if test="rfcReason != null">
				RFC_REASON,
			</if>
			<if test="draftOrgName != null">
				DRAFT_ORG_NAME,
			</if>
			<if test="draftOrgCode != null">
				DRAFT_ORG_CODE,
			</if>
			<if test="drafter != null">
				DRAFTER,
			</if>
			<if test="drafterCode != null">
				DRAFTER_CODE,
			</if>
			<if test="draftTime != null">
				DRAFT_TIME,
			</if>
			<if test="notes != null">
				NOTES,
			</if>
			<if test="status != null">
				STATUS,
			</if>
			<if test="operator != null">
				OPERATOR,
			</if>
			<if test="operatorCode != null">
				OPERATOR_CODE,
			</if>
			<if test="operateOrgName != null">
				OPERATE_ORG_NAME,
			</if>
			<if test="operateOrgCode != null">
				OPERATE_ORG_CODE,
			</if>
			<if test="operateTime != null">
				OPERATE_TIME,
			</if>
			<if test="oldVersionWaybillId != null">
				OLD_VERSION_WAYBILL_ID,
			</if>
			<if test="newVersionWaybillId != null">
				NEW_VERSION_WAYBILL_ID,
			</if>
			<if test="isFinanceChange != null">
				IS_FINANCE_CHANGE,
			</if>
			<if test="changeItems != null">
				CHANGE_ITEMS,
			</if>
			<if test="receiverSms != null">
				RECEIVER_SMS,
			</if>
			<if test="deliverSms != null">
				DELIVER_SMS,
			</if>
			<if test="isChangeDestination != null">
				IS_CHANGE_DESTINATION,
			</if>
			<if test="needWriteOff != null">
				NEED_WRITE_OFF,
			</if>
			<if test="writeOffStatus != null">
				WRITE_OFF_STATUS,
			</if>
			<if test="writeOffNotes != null">
				WRITE_OFF_NOTES,
			</if>
			<if test="pdaNotice != null">
				PDA_NOTICE,
			</if>
			<if test="transportFee != null">
				TRANSPORT_FEE,
			</if>
			<if test="transportFeeRate != null">
				TRANSPORT_FEE_RATE,
			</if>
			<if test="isChangeWaybillNo != null">
				IS_CHANGE_WAYBILL_NO,
			</if>
			<if test="isLabourHandle != null">
				IS_LABOUR_HANDLE,
			</if>
			IS_ECS,
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=VARCHAR},
			</if>
			<if test="waybillNo != null">
				#{waybillNo,jdbcType=VARCHAR},
			</if>
			<if test="rfcSource != null">
				#{rfcSource,jdbcType=VARCHAR},
			</if>
			<if test="rfcType != null">
				#{rfcType,jdbcType=VARCHAR},
			</if>
			<if test="rfcReason != null">
				#{rfcReason,jdbcType=VARCHAR},
			</if>
			<if test="draftOrgName != null">
				#{draftOrgName,jdbcType=VARCHAR},
			</if>
			<if test="draftOrgCode != null">
				#{draftOrgCode,jdbcType=VARCHAR},
			</if>
			<if test="drafter != null">
				#{drafter,jdbcType=VARCHAR},
			</if>
			<if test="drafterCode != null">
				#{drafterCode,jdbcType=VARCHAR},
			</if>
			<if test="draftTime != null">
				#{draftTime,jdbcType=TIMESTAMP},
			</if>
			<if test="notes != null">
				#{notes,jdbcType=VARCHAR},
			</if>
			<if test="status != null">
				#{status,jdbcType=VARCHAR},
			</if>
			<if test="operator != null">
				#{operator,jdbcType=VARCHAR},
			</if>
			<if test="operatorCode != null">
				#{operatorCode,jdbcType=VARCHAR},
			</if>
			<if test="operateOrgName != null">
				#{operateOrgName,jdbcType=VARCHAR},
			</if>
			<if test="operateOrgCode != null">
				#{operateOrgCode,jdbcTypTe=VARCHAR},
			</if>
			<if test="operateTime != null">
				#{operateTime,jdbcType=TIMESTAMP},
			</if>
			<if test="oldVersionWaybillId != null">
				#{oldVersionWaybillId,jdbcType=VARCHAR},
			</if>
			<if test="newVersionWaybillId != null">
				#{newVersionWaybillId,jdbcType=VARCHAR},
			</if>
			<if test="isFinanceChange != null">
				#{isFinanceChange,jdbcType=VARCHAR},
			</if>
			<if test="changeItems != null">
				#{changeItems,jdbcType=VARCHAR},
			</if>
			<if test="receiverSms != null">
				#{receiverSms,jdbcType=VARCHAR},
			</if>
			<if test="deliverSms != null">
				#{deliverSms,jdbcType=VARCHAR},
			</if>
			<if test="isChangeDestination != null">
				#{isChangeDestination,jdbcType=VARCHAR},
			</if>
			<if test="needWriteOff != null">
				#{needWriteOff,jdbcType=VARCHAR},
			</if>
			<if test="writeOffStatus != null">
				#{writeOffStatus,jdbcType=VARCHAR},
			</if>
			<if test="writeOffNotes != null">
				#{writeOffNotes,jdbcType=VARCHAR},
			</if>
			<if test="pdaNotice != null">
				#{pdaNotice,jdbcType=VARCHAR},
			</if>
			<if test="transportFee != null">
				#{transportFee,jdbcType=DECIMAL},
			</if>
			<if test="transportFeeRate != null">
				#{transportFeeRate,jdbcType=DECIMAL},
			</if>
			<if test="isChangeWaybillNo != null">
				#{isChangeWaybillNo,jdbcType=VARCHAR},
			</if>
			<if test="isLabourHandle != null">
				#{isLabourHandle,jdbcType=DECIMAL},
			</if>
			'Y',
			
		</trim>
	</insert>
	
	<!-- 通过运单号来查询未受理更改单 -->
	<select id="queryWaybillRFcByWaybillNos"
		parameterType="com.deppon.foss.module.pickup.waybill.shared.dto.WaybillFRcQueryByWaybillNosDto"
		resultType="java.lang.String">
		SELECT /*模块：接送货-运单-通过运单号集合拿到待处理的更改单*/
		WAYBILL_NO FROM PKP.T_SRV_WAYBILLRFC
		WHERE IS_ECS = 'Y' AND 
		STATUS=#{preAudit,jdbcType=VARCHAR} AND
		WAYBILL_NO IN
		<foreach collection="waybillNos" item="item" index="index"
			open="(" separator=" , " close=")">
			#{item,jdbcType=VARCHAR}
		</foreach>
		UNION ALL
		SELECT WAYBILL_NO FROM PKP.T_SRV_WAYBILLRFC
		WHERE IS_ECS = 'Y' AND
		STATUS=#{preAccecpt,jdbcType=VARCHAR} AND
		WAYBILL_NO IN
		<foreach collection="waybillNos" item="item" index="index"
			open="(" separator=" , " close=")">
			#{item,jdbcType=VARCHAR}
		</foreach>
	</select>
</mapper>