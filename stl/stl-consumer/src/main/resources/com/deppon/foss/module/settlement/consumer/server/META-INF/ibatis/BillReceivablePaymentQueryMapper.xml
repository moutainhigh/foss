<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="foss.stl.BillReceivablePaymentQueryDao" >
<resultMap id="BaseCashinResultMap" type="com.deppon.foss.module.settlement.common.api.shared.domain.BillCashCollectionEntity" >
    <id column="ID" property="id" jdbcType="VARCHAR" />
    <result column="CASH_COLLECTION_NO" property="cashCollectionNo" jdbcType="VARCHAR" />
    <result column="SOURCE_BILL_NO" property="sourceBillNo" jdbcType="VARCHAR" />
    <result column="WAYBILL_ID" property="waybillId" jdbcType="VARCHAR" />
    <result column="WAYBILL_NO" property="waybillNo" jdbcType="VARCHAR" />
    <result column="SOURCE_BILL_TYPE" property="sourceBillType" jdbcType="VARCHAR" />
    <result column="CUSTOMER_CODE" property="customerCode" jdbcType="VARCHAR" />
    <result column="CUSTOMER_NAME" property="customerName" jdbcType="VARCHAR" />
    <result column="CREATE_ORG_CODE" property="createOrgCode" jdbcType="VARCHAR" />
    <result column="CREATE_ORG_NAME" property="createOrgName" jdbcType="VARCHAR" />
    <result column="COLLECTION_ORG_CODE" property="collectionOrgCode" jdbcType="VARCHAR" />
    <result column="COLLECTION_ORG_NAME" property="collectionOrgName" jdbcType="VARCHAR" />
    <result column="COLLECTION_COMPANY_CODE" property="collectionCompanyCode" jdbcType="VARCHAR" />
    <result column="COLLECTION_COMPANY_NAME" property="collectionCompanyName" jdbcType="VARCHAR" />
    <result column="GENERATING_ORG_CODE" property="generatingOrgCode" jdbcType="VARCHAR" />
    <result column="GENERATING_ORG_NAME" property="generatingOrgName" jdbcType="VARCHAR" />
    <result column="GENERATING_COMPANY_CODE" property="generatingCompanyCode" jdbcType="VARCHAR" />
    <result column="GENERATING_COMPANY_NAME" property="generatingCompanyName" jdbcType="VARCHAR" />
    <result column="AMOUNT" property="amount" jdbcType="DECIMAL" />
    <result column="CURRENCY_CODE" property="currencyCode" jdbcType="VARCHAR" />
    <result column="PRODUCT_CODE" property="productCode" jdbcType="VARCHAR" />
    <result column="PRODUCT_ID" property="productId" jdbcType="VARCHAR" />
    <result column="TRANSPORT_FEE" property="transportFee" jdbcType="DECIMAL" />
    <result column="PICKUP_FEE" property="pickupFee" jdbcType="DECIMAL" />
    <result column="DELIVERY_GOODS_FEE" property="deliveryGoodsFee" jdbcType="DECIMAL" />
    <result column="PACKAGING_FEE" property="packagingFee" jdbcType="DECIMAL" />
    <result column="COD_FEE" property="codFee" jdbcType="DECIMAL" />
    <result column="INSURANCE_FEE" property="insuranceFee" jdbcType="DECIMAL" />
    <result column="OTHER_FEE" property="otherFee" jdbcType="DECIMAL" />
    <result column="VALUE_ADD_FEE" property="valueAddFee" jdbcType="DECIMAL" />
    <result column="PROMOTIONS_FEE" property="promotionsFee" jdbcType="DECIMAL" />
    <result column="CONREVEN_DATE" property="conrevenDate" jdbcType="TIMESTAMP" />
    <result column="BILL_TYPE" property="billType" jdbcType="VARCHAR" />
    <result column="STATUS" property="status" jdbcType="VARCHAR" />
    <result column="ACTIVE" property="active" jdbcType="CHAR" />
    <result column="IS_RED_BACK" property="isRedBack" jdbcType="CHAR" />
    <result column="PAYMENT_TYPE" property="paymentType" jdbcType="VARCHAR" />
    <result column="CREATE_USER_CODE" property="createUserCode" jdbcType="VARCHAR" />
    <result column="CREATE_USER_NAME" property="createUserName" jdbcType="VARCHAR" />
    <result column="AUDIT_USER_CODE" property="auditUserCode" jdbcType="VARCHAR" />
    <result column="AUDIT_USER_NAME" property="auditUserName" jdbcType="VARCHAR" />
    <result column="MODIFY_USER_CODE" property="modifyUserCode" jdbcType="VARCHAR" />
    <result column="MODIFY_USER_NAME" property="modifyUserName" jdbcType="VARCHAR" />
    <result column="CASH_CONFIRM_USER_CODE" property="cashConfirmUserCode" jdbcType="VARCHAR" />
    <result column="CASH_CONFIRM_USER_NAME" property="cashConfirmUserName" jdbcType="VARCHAR" />
    <result column="BUSINESS_DATE" property="businessDate" jdbcType="TIMESTAMP" />
    <result column="ACCOUNT_DATE" property="accountDate" jdbcType="TIMESTAMP" />
    <result column="CREATE_TIME" property="createTime" jdbcType="TIMESTAMP" />
    <result column="MODIFY_TIME" property="modifyTime" jdbcType="TIMESTAMP" />
    <result column="CASH_CONFIRM_TIME" property="cashConfirmTime" jdbcType="TIMESTAMP" />
    <result column="IS_INIT" property="isInit" jdbcType="CHAR" />
    <result column="NOTES" property="notes" jdbcType="VARCHAR" />
    <result column="VERSION_NO" property="versionNo" jdbcType="DECIMAL" />
    <result column="COLLECTION_TYPE" property="collectionType" jdbcType="VARCHAR" />
    <result column="ORIG_ORG_CODE" property="origOrgCode" jdbcType="VARCHAR" />
    <result column="ORIG_ORG_NAME" property="origOrgName" jdbcType="VARCHAR" />
    <result column="DEST_ORG_CODE" property="destOrgCode" jdbcType="VARCHAR" />
    <result column="DEST_ORG_NAME" property="destOrgName" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Ca_Column_List" >
    ID, CASH_COLLECTION_NO, SOURCE_BILL_NO, WAYBILL_ID, WAYBILL_NO, SOURCE_BILL_TYPE, CUSTOMER_CODE, CUSTOMER_NAME, 
    CREATE_ORG_CODE, CREATE_ORG_NAME, COLLECTION_ORG_CODE, COLLECTION_ORG_NAME, COLLECTION_COMPANY_CODE, 
    COLLECTION_COMPANY_NAME, GENERATING_ORG_CODE, GENERATING_ORG_NAME, GENERATING_COMPANY_CODE, 
    GENERATING_COMPANY_NAME, AMOUNT/100 AMOUNT, CURRENCY_CODE, PRODUCT_CODE,PRODUCT_ID, TRANSPORT_FEE/100 TRANSPORT_FEE, PICKUP_FEE/100 PICKUP_FEE,
    DELIVERY_GOODS_FEE/100 DELIVERY_GOODS_FEE, PACKAGING_FEE/100 PACKAGING_FEE, COD_FEE/100 COD_FEE, INSURANCE_FEE/100 INSURANCE_FEE, OTHER_FEE/100 OTHER_FEE, VALUE_ADD_FEE/100 VALUE_ADD_FEE,PROMOTIONS_FEE/100 PROMOTIONS_FEE,
    CONREVEN_DATE, BILL_TYPE, STATUS, ACTIVE, IS_RED_BACK, PAYMENT_TYPE, CREATE_USER_CODE, 
    CREATE_USER_NAME, AUDIT_USER_CODE, AUDIT_USER_NAME, MODIFY_USER_CODE, MODIFY_USER_NAME, 
    CASH_CONFIRM_USER_CODE, CASH_CONFIRM_USER_NAME, 
    BUSINESS_DATE, ACCOUNT_DATE, CREATE_TIME, MODIFY_TIME,  CASH_CONFIRM_TIME, 
    IS_INIT, NOTES, VERSION_NO,COLLECTION_TYPE,
    ORIG_ORG_CODE,ORIG_ORG_NAME,DEST_ORG_CODE,DEST_ORG_NAME
  </sql>
  
<!-- 应收单查询ResultMap -->
<resultMap id="BaseResultMap"
		type="com.deppon.foss.module.settlement.common.api.shared.domain.BillReceivableEntity">
		<id column="ID" property="id" jdbcType="VARCHAR" />
		<result column="RECEIVABLE_NO" property="receivableNo"
			jdbcType="VARCHAR" />
		<result column="WAYBILL_NO" property="waybillNo" jdbcType="VARCHAR" />
		<result column="WAYBILL_ID" property="waybillId" jdbcType="VARCHAR" />
		<result column="CREATE_TYPE" property="createType" jdbcType="VARCHAR" />
		<result column="SOURCE_BILL_NO" property="sourceBillNo"
			jdbcType="VARCHAR" />
		<result column="SOURCE_BILL_TYPE" property="sourceBillType"
			jdbcType="VARCHAR" />
		<result column="BILL_TYPE" property="billType" jdbcType="VARCHAR" />
		<result column="RECEIVABLE_ORG_CODE" property="receivableOrgCode"
			jdbcType="VARCHAR" />
		<result column="RECEIVABLE_ORG_NAME" property="receivableOrgName"
			jdbcType="VARCHAR" />
		<result column="GENERATING_ORG_CODE" property="generatingOrgCode"
			jdbcType="VARCHAR" />
		<result column="GENERATING_ORG_NAME" property="generatingOrgName"
			jdbcType="VARCHAR" />
		<result column="GENERATING_COM_CODE" property="generatingComCode"
			jdbcType="VARCHAR" />
		<result column="GENERATING_COM_NAME" property="generatingComName"
			jdbcType="VARCHAR" />
		<result column="DUNNING_ORG_CODE" property="dunningOrgCode"
			jdbcType="VARCHAR" />
		<result column="DUNNING_ORG_NAME" property="dunningOrgName"
			jdbcType="VARCHAR" />
		<result column="ORIG_ORG_CODE" property="origOrgCode" jdbcType="VARCHAR" />
		<result column="ORIG_ORG_NAME" property="origOrgName" jdbcType="VARCHAR" />
		<result column="DEST_ORG_CODE" property="destOrgCode" jdbcType="VARCHAR" />
		<result column="DEST_ORG_NAME" property="destOrgName" jdbcType="VARCHAR" />
		<result column="CUSTOMER_CODE" property="customerCode"
			jdbcType="VARCHAR" />
		<result column="CUSTOMER_NAME" property="customerName"
			jdbcType="VARCHAR" />
		<result column="DELIVERY_CUSTOMER_CODE" property="deliveryCustomerCode"
			jdbcType="VARCHAR" />
		<result column="DELIVERY_CUSTOMER_NAME" property="deliveryCustomerName"
			jdbcType="VARCHAR" />
		<result column="RECEIVE_CUSTOMER_CODE" property="receiveCustomerCode"
			jdbcType="VARCHAR" />
		<result column="RECEIVE_CUSTOMER_NAME" property="receiveCustomerName"
			jdbcType="VARCHAR" />
		<result column="AMOUNT" property="amount" jdbcType="DECIMAL" />
		<result column="VERIFY_AMOUNT" property="verifyAmount"
			jdbcType="DECIMAL" />
		<result column="UNVERIFY_AMOUNT" property="unverifyAmount"
			jdbcType="DECIMAL" />
		<result column="CURRENCY_CODE" property="currencyCode"
			jdbcType="VARCHAR" />
		<result column="BUSINESS_DATE" property="businessDate"
			jdbcType="TIMESTAMP" />
		<result column="ACCOUNT_DATE" property="accountDate" jdbcType="TIMESTAMP" />
		<result column="CONREVEN_DATE" property="conrevenDate"
			jdbcType="TIMESTAMP" />
		<result column="PAYMENT_TYPE" property="paymentType" jdbcType="VARCHAR" />
		<result column="PRODUCT_CODE" property="productCode" jdbcType="VARCHAR" />
		<result column="PRODUCT_ID" property="productId" jdbcType="VARCHAR" />
		<result column="TRANSPORT_FEE" property="transportFee"
			jdbcType="DECIMAL" />
		<result column="PICKUP_FEE" property="pickupFee" jdbcType="DECIMAL" />
		<result column="DELIVERY_GOODS_FEE" property="deliveryGoodsFee"
			jdbcType="DECIMAL" />
		<result column="PACKAGING_FEE" property="packagingFee"
			jdbcType="DECIMAL" />
		<result column="COD_FEE" property="codFee" jdbcType="DECIMAL" />
		<result column="INSURANCE_FEE" property="insuranceFee"
			jdbcType="DECIMAL" />
		<result column="OTHER_FEE" property="otherFee" jdbcType="DECIMAL" />
		<result column="VALUE_ADD_FEE" property="valueAddFee" jdbcType="DECIMAL" />
		<result column="PROMOTIONS_FEE" property="promotionsFee"
			jdbcType="DECIMAL" />
		<result column="GOODS_NAME" property="goodsName" jdbcType="VARCHAR" />
		<result column="BILL_WEIGHT" property="billWeight" jdbcType="DECIMAL" />
		<result column="RECEIVE_METHOD" property="receiveMethod"
			jdbcType="VARCHAR" />
		<result column="CUSTOMER_PICKUP_ORG_CODE" property="customerPickupOrgCode"
			jdbcType="VARCHAR" />
		<result column="GOODS_QTY_TOTAL" property="goodsQtyTotal"
			jdbcType="DECIMAL" />
		<result column="GOODS_VOLUME_TOTAL" property="goodsVolumeTotal"
			jdbcType="DECIMAL" />
		<result column="TARGET_ORG_CODE" property="targetOrgCode"
			jdbcType="VARCHAR" />
		<result column="VERSION_NO" property="versionNo" jdbcType="DECIMAL" />
		<result column="ACTIVE" property="active" jdbcType="CHAR" />
		<result column="IS_RED_BACK" property="isRedBack" jdbcType="CHAR" />
		<result column="IS_INIT" property="isInit" jdbcType="CHAR" />
		<result column="CREATE_USER_CODE" property="createUserCode"
			jdbcType="VARCHAR" />
		<result column="CREATE_USER_NAME" property="createUserName"
			jdbcType="VARCHAR" />
		<result column="CREATE_ORG_CODE" property="createOrgCode"
			jdbcType="VARCHAR" />
		<result column="CREATE_ORG_NAME" property="createOrgName"
			jdbcType="VARCHAR" />
		<result column="CREATE_TIME" property="createTime" jdbcType="TIMESTAMP" />
		<result column="MODIFY_TIME" property="modifyTime" jdbcType="TIMESTAMP" />
		<result column="MODIFY_USER_CODE" property="modifyUserCode"
			jdbcType="VARCHAR" />
		<result column="MODIFY_USER_NAME" property="modifyUserName"
			jdbcType="VARCHAR" />
		<result column="STATEMENT_BILL_NO" property="statementBillNo"
			jdbcType="VARCHAR" />
		<result column="UNLOCK_DATE_TIME" property="unlockDateTime"
			jdbcType="TIMESTAMP" />
		<result column="LOCK_CUSTOMER_CODE" property="lockCustomerCode"
			jdbcType="VARCHAR" />
		<result column="LOCK_CUSTOMER_NAME" property="lockCustomerName"
			jdbcType="VARCHAR" />
		<result column="COLLECTION_TYPE" property="collectionType"
			jdbcType="VARCHAR" />
		<result column="AUDIT_USER_CODE" property="auditUserCode"
			jdbcType="VARCHAR" />
		<result column="AUDIT_USER_NAME" property="auditUserName"
			jdbcType="VARCHAR" />
		<result column="APPROVE_STATUS" property="approveStatus"
			jdbcType="VARCHAR" />
		<result column="AUDIT_DATE" property="auditDate" jdbcType="TIMESTAMP" />
		<result column="NOTES" property="notes" jdbcType="VARCHAR" />
	</resultMap>

<!-- 应付单基本类型 -->
	
	 <resultMap id="BasePayableResultMap" type="com.deppon.foss.module.settlement.common.api.shared.domain.BillPayableEntity" >
    <id column="ID" property="id" jdbcType="VARCHAR" />
    <result column="PAYABLE_NO" property="payableNo" jdbcType="VARCHAR" />
    <result column="WAYBILL_NO" property="waybillNo" jdbcType="VARCHAR" />
    <result column="WAYBILL_ID" property="waybillId" jdbcType="VARCHAR" />
    <result column="PAYMENT_NO" property="paymentNo" jdbcType="VARCHAR" />
    <result column="CREATE_TYPE" property="createType" jdbcType="VARCHAR" />
    <result column="BILL_TYPE" property="billType" jdbcType="VARCHAR" />
    <result column="SOURCE_BILL_NO" property="sourceBillNo" jdbcType="VARCHAR" />
    <result column="SOURCE_BILL_TYPE" property="sourceBillType" jdbcType="VARCHAR" />
    <result column="COD_TYPE" property="codType" jdbcType="VARCHAR" />
    <result column="PAYABLE_ORG_CODE" property="payableOrgCode" jdbcType="VARCHAR" />
    <result column="PAYABLE_ORG_NAME" property="payableOrgName" jdbcType="VARCHAR" />
    <result column="PAYABLE_COM_CODE" property="payableComCode" jdbcType="VARCHAR" />
    <result column="PAYABLE_COM_NAME" property="payableComName" jdbcType="VARCHAR" />
    <result column="ORIG_ORG_CODE" property="origOrgCode" jdbcType="VARCHAR" />
    <result column="ORIG_ORG_NAME" property="origOrgName" jdbcType="VARCHAR" />
    <result column="DEST_ORG_CODE" property="destOrgCode" jdbcType="VARCHAR" />
    <result column="DEST_ORG_NAME" property="destOrgName" jdbcType="VARCHAR" />
    <result column="CUSTOMER_CODE" property="customerCode" jdbcType="VARCHAR" />
    <result column="CUSTOMER_NAME" property="customerName" jdbcType="VARCHAR" />
    <result column="AMOUNT" property="amount" jdbcType="DECIMAL" />
    <result column="VERIFY_AMOUNT" property="verifyAmount" jdbcType="DECIMAL" />
    <result column="UNVERIFY_AMOUNT" property="unverifyAmount" jdbcType="DECIMAL" />
    <result column="CURRENCY_CODE" property="currencyCode" jdbcType="VARCHAR" />
    <result column="PRODUCT_CODE" property="productCode" jdbcType="VARCHAR" />
    <result column="PRODUCT_ID" property="productId" jdbcType="VARCHAR" />
    <result column="ACCOUNT_DATE" property="accountDate" jdbcType="TIMESTAMP" />
    <result column="BUSINESS_DATE" property="businessDate" jdbcType="TIMESTAMP" />
    <result column="SIGN_DATE" property="signDate" jdbcType="TIMESTAMP" />
    <result column="EFFECTIVE_DATE" property="effectiveDate" jdbcType="TIMESTAMP" />
    <result column="CREATE_USER_NAME" property="createUserName" jdbcType="VARCHAR" />
    <result column="CREATE_USER_CODE" property="createUserCode" jdbcType="VARCHAR" />
    <result column="CREATE_ORG_CODE" property="createOrgCode" jdbcType="VARCHAR" />
    <result column="CREATE_ORG_NAME" property="createOrgName" jdbcType="VARCHAR" />
    <result column="ACTIVE" property="active" jdbcType="CHAR" />
    <result column="IS_RED_BACK" property="isRedBack" jdbcType="CHAR" />
    <result column="IS_INIT" property="isInit" jdbcType="CHAR" />
    <result column="VERSION_NO" property="versionNo" jdbcType="DECIMAL" />
    <result column="EFFECTIVE_STATUS" property="effectiveStatus" jdbcType="CHAR" />
    <result column="EFFECTIVE_USER_NAME" property="effectiveUserName" jdbcType="VARCHAR" />
    <result column="EFFECTIVE_USER_CODE" property="effectiveUserCode" jdbcType="VARCHAR" />
    <result column="FROZEN_STATUS" property="frozenStatus" jdbcType="CHAR" />
    <result column="FROZEN_TIME" property="frozenTime" jdbcType="TIMESTAMP" />
    <result column="FROZEN_USER_NAME" property="frozenUserName" jdbcType="VARCHAR" />
    <result column="FROZEN_USER_CODE" property="frozenUserCode" jdbcType="VARCHAR" />
    <result column="PAY_STATUS" property="payStatus" jdbcType="CHAR" />
    <result column="STATEMENT_BILL_NO" property="statementBillNo" jdbcType="VARCHAR" />
    <result column="CUSTOMER_CONTACT" property="customerContact" jdbcType="VARCHAR" />
    <result column="CUSTOMER_CONTACT_NAME" property="customerContactName" jdbcType="VARCHAR" />
    <result column="CUSTOMER_PHONE" property="customerPhone" jdbcType="VARCHAR" />
    <result column="CREATE_TIME" property="createTime" jdbcType="TIMESTAMP" />
    <result column="MODIFY_TIME" property="modifyTime" jdbcType="TIMESTAMP" />
    <result column="MODIFY_USER_NAME" property="modifyUserName" jdbcType="VARCHAR" />
    <result column="MODIFY_USER_CODE" property="modifyUserCode" jdbcType="VARCHAR" />
    <result column="WORKFLOW_NO" property="workflowNo" jdbcType="VARCHAR" />
    <result column="LGDRIVER_CODE" property="lgdriverCode" jdbcType="VARCHAR" />
    <result column="LGDRIVER_NAME" property="lgdriverName" jdbcType="VARCHAR" />
    <result column="PAYER_TYPE" property="payerType" jdbcType="VARCHAR" />
    <result column="PAYABLE_TYPE" property="payableType" jdbcType="VARCHAR" />
    <result column="DELIVER_FEE" property="deliverFee" jdbcType="DECIMAL" />
    <result column="OUTGOING_FEE" property="outgoingFee" jdbcType="DECIMAL" />
    <result column="AUDIT_USER_CODE" property="auditUserCode" jdbcType="VARCHAR" />
    <result column="AUDIT_USER_NAME" property="auditUserName" jdbcType="VARCHAR" />
    <result column="AUDIT_DATE" property="auditDate" jdbcType="TIMESTAMP" />
    <result column="APPROVE_STATUS" property="approveStatus" jdbcType="VARCHAR" />
    <result column="NOTES" property="notes" jdbcType="VARCHAR" />
    <result column="PAYEE_NAME" property="payeeName" jdbcType="VARCHAR" />
    <result column="BANK_HQ_CODE" property="bankHqCode" jdbcType="VARCHAR" />
    <result column="BANK_HQ_NAME" property="bankHqName" jdbcType="VARCHAR" />
    <result column="ACCOUNT_NO" property="accountNo" jdbcType="VARCHAR" />
    <result column="PROVINCE_CODE" property="provinceCode" jdbcType="VARCHAR" />
    <result column="PROVINCE_NAME" property="provinceName" jdbcType="VARCHAR" />
    <result column="CITY_CODE" property="cityCode" jdbcType="VARCHAR" />
    <result column="CITY_NAME" property="cityName" jdbcType="VARCHAR" />
    <result column="BANK_BRANCH_CODE" property="bankBranchCode" jdbcType="VARCHAR" />
    <result column="BANK_BRANCH_NAME" property="bankBranchName" jdbcType="VARCHAR" />
    <result column="PAYMENT_NOTES" property="paymentNotes" jdbcType="VARCHAR" />
    <result column="PAYMENT_AMOUNT" property="paymentAmount" jdbcType="DECIMAL" />
    <result column="LAST_PAYMENT_TIME" property="lastPaymentTime" jdbcType="TIMESTAMP" /><!-- 最后付款日期 -->
    <result column="PAYMENT_CATEGORIES" property="paymentCategories" jdbcType="VARCHAR" /><!-- 支付类别 -->
    <result column="IS_WRITEOFF" property="isWriteoff" jdbcType="CHAR" /><!-- 是否核销 -->
    <result column="ACCOUNT_TYPE" property="accountType" jdbcType="VARCHAR" /><!-- 账户类型-->
  </resultMap>
  
<!-- 还款单查询ResultMap -->
<resultMap id="RepaymentBillResultMap" type="com.deppon.foss.module.settlement.common.api.shared.domain.BillRepaymentEntity" >
    <id column="ID" property="id" jdbcType="VARCHAR" />
    <result column="REPAYMENT_NO" property="repaymentNo" jdbcType="VARCHAR" />
    <result column="ONLINE_PAYMENT_NO" property="onlinePaymentNo" jdbcType="VARCHAR" />
    <result column="CUSTOMER_CODE" property="customerCode" jdbcType="VARCHAR" />
    <result column="CUSTOMER_NAME" property="customerName" jdbcType="VARCHAR" />
    <result column="CURRENCY_CODE" property="currencyCode" jdbcType="VARCHAR" />
    <result column="AMOUNT" property="amount" jdbcType="DECIMAL" />
    <result column="TRUE_AMOUNT" property="trueAmount" jdbcType="DECIMAL" />
    <result column="BVERIFY_AMOUNT" property="bverifyAmount" jdbcType="DECIMAL" />
    <result column="AUDIT_STATUS" property="auditStatus" jdbcType="VARCHAR" />
    <result column="CREATE_TYPE" property="createType" jdbcType="VARCHAR" />
    <result column="OA_PAYMENT_NO" property="oaPaymentNo" jdbcType="VARCHAR" />
    <result column="CREATE_ORG_CODE" property="createOrgCode" jdbcType="VARCHAR" />
    <result column="CREATE_ORG_NAME" property="createOrgName" jdbcType="VARCHAR" />
    <result column="COLLECTION_ORG_CODE" property="collectionOrgCode" jdbcType="VARCHAR" />
    <result column="COLLECTION_ORG_NAME" property="collectionOrgName" jdbcType="VARCHAR" />
    <result column="COLLECTION_COMPANY_CODE" property="collectionCompanyCode" jdbcType="VARCHAR" />
    <result column="COLLECTION_COMPANY_NAME" property="collectionCompanyName" jdbcType="VARCHAR" />
    <result column="GENERATING_ORG_CODE" property="generatingOrgCode" jdbcType="VARCHAR" />
    <result column="GENERATING_ORG_NAME" property="generatingOrgName" jdbcType="VARCHAR" />
    <result column="GENERATING_COMPANY_CODE" property="generatingCompanyCode" jdbcType="VARCHAR" />
    <result column="GENERATING_COMPANY_NAME" property="generatingCompanyName" jdbcType="VARCHAR" />
    <result column="CONREVEN_DATE" property="conrevenDate" jdbcType="TIMESTAMP" />
    <result column="BILL_TYPE" property="billType" jdbcType="VARCHAR" />
    <result column="STATUS" property="status" jdbcType="VARCHAR" />
    <result column="ACTIVE" property="active" jdbcType="CHAR" />
    <result column="IS_RED_BACK" property="isRedBack" jdbcType="CHAR" />
    <result column="PAYMENT_TYPE" property="paymentType" jdbcType="VARCHAR" />
    <result column="CREATE_USER_CODE" property="createUserCode" jdbcType="VARCHAR" />
    <result column="CREATE_USER_NAME" property="createUserName" jdbcType="VARCHAR" />
    <result column="AUDIT_USER_CODE" property="auditUserCode" jdbcType="VARCHAR" />
    <result column="AUDIT_USER_NAME" property="auditUserName" jdbcType="VARCHAR" />
    <result column="MODIFY_USER_CODE" property="modifyUserCode" jdbcType="VARCHAR" />
    <result column="MODIFY_USER_NAME" property="modifyUserName" jdbcType="VARCHAR" />
    <result column="DISABLE_USER_CODE" property="disableUserCode" jdbcType="VARCHAR" />
    <result column="DISABLE_USER_NAME" property="disableUserName" jdbcType="VARCHAR" />
    <result column="CASH_CONFIRM_USER_CODE" property="cashConfirmUserCode" jdbcType="VARCHAR" />
    <result column="CASH_CONFIRM_USER_NAME" property="cashConfirmUserName" jdbcType="VARCHAR" />
    <result column="BUSINESS_DATE" property="businessDate" jdbcType="TIMESTAMP" />
    <result column="ACCOUNT_DATE" property="accountDate" jdbcType="TIMESTAMP" />
    <result column="CREATE_TIME" property="createTime" jdbcType="TIMESTAMP" />
    <result column="MODIFY_TIME" property="modifyTime" jdbcType="TIMESTAMP" />
    <result column="DISABLE_TIME" property="disableTime" jdbcType="TIMESTAMP" />
    <result column="CASH_CONFIRM_TIME" property="cashConfirmTime" jdbcType="TIMESTAMP" />
    <result column="IS_INIT" property="isInit" jdbcType="CHAR" />
    <result column="NOTES" property="notes" jdbcType="VARCHAR" />
    <result column="VERSION_NO" property="versionNo" jdbcType="DECIMAL" />
    <result column="SOURCE_BILL_NO" property="sourceBillNo" jdbcType="VARCHAR" />
  </resultMap>
   <sql id="Base_Pa_Column_List" >
    ID, PAYABLE_NO, WAYBILL_NO, WAYBILL_ID, PAYMENT_NO, CREATE_TYPE, BILL_TYPE, SOURCE_BILL_NO, SOURCE_BILL_TYPE,COD_TYPE,
    PAYABLE_ORG_CODE, PAYABLE_ORG_NAME, PAYABLE_COM_CODE, PAYABLE_COM_NAME, ORIG_ORG_CODE, 
    ORIG_ORG_NAME, DEST_ORG_CODE, DEST_ORG_NAME, CUSTOMER_CODE, CUSTOMER_NAME, AMOUNT/100 AMOUNT, 
    VERIFY_AMOUNT/100 VERIFY_AMOUNT, UNVERIFY_AMOUNT/100 UNVERIFY_AMOUNT, CURRENCY_CODE,PRODUCT_CODE,PRODUCT_ID, ACCOUNT_DATE, BUSINESS_DATE, SIGN_DATE, 
    EFFECTIVE_DATE, CREATE_USER_NAME, CREATE_USER_CODE, CREATE_ORG_CODE, CREATE_ORG_NAME, 
    ACTIVE, IS_RED_BACK, IS_INIT, VERSION_NO, EFFECTIVE_STATUS, EFFECTIVE_USER_NAME, 
    EFFECTIVE_USER_CODE, FROZEN_STATUS, FROZEN_TIME, FROZEN_USER_NAME, FROZEN_USER_CODE, 
    PAY_STATUS, STATEMENT_BILL_NO,  CUSTOMER_CONTACT, 
    CUSTOMER_CONTACT_NAME, CUSTOMER_PHONE, CREATE_TIME, MODIFY_TIME, 
    MODIFY_USER_NAME, MODIFY_USER_CODE, 
    WORKFLOW_NO, LGDRIVER_CODE, LGDRIVER_NAME, PAYER_TYPE, PAYABLE_TYPE, DELIVER_FEE/100 DELIVER_FEE, 
    OUTGOING_FEE/100 OUTGOING_FEE, AUDIT_USER_CODE, AUDIT_USER_NAME, AUDIT_DATE, APPROVE_STATUS, NOTES
    ,PAYEE_NAME,BANK_HQ_CODE,BANK_HQ_NAME,ACCOUNT_NO,PROVINCE_CODE,PROVINCE_NAME,
    CITY_CODE,CITY_NAME,BANK_BRANCH_CODE,BANK_BRANCH_NAME,PAYMENT_NOTES,PAYMENT_AMOUNT/100 PAYMENT_AMOUNT
    ,LAST_PAYMENT_TIME,PAYMENT_CATEGORIES,IS_WRITEOFF,ACCOUNT_TYPE
  </sql>
  <sql id="Base_Re_Column_List">
		ID, RECEIVABLE_NO, WAYBILL_NO, WAYBILL_ID, CREATE_TYPE, SOURCE_BILL_NO,
		SOURCE_BILL_TYPE,
		BILL_TYPE, RECEIVABLE_ORG_CODE, RECEIVABLE_ORG_NAME, GENERATING_ORG_CODE,
		GENERATING_ORG_NAME,
		GENERATING_COM_CODE, GENERATING_COM_NAME, DUNNING_ORG_CODE, DUNNING_ORG_NAME,
		ORIG_ORG_CODE,
		ORIG_ORG_NAME, DEST_ORG_CODE, DEST_ORG_NAME, CUSTOMER_CODE,
		CUSTOMER_NAME,DELIVERY_CUSTOMER_CODE,DELIVERY_CUSTOMER_NAME,
		RECEIVE_CUSTOMER_CODE,RECEIVE_CUSTOMER_NAME,
		AMOUNT/100 AMOUNT, VERIFY_AMOUNT/100 VERIFY_AMOUNT, UNVERIFY_AMOUNT/100
		UNVERIFY_AMOUNT,
		CURRENCY_CODE, BUSINESS_DATE, ACCOUNT_DATE, CONREVEN_DATE, PAYMENT_TYPE,
		PRODUCT_CODE,
		PRODUCT_ID, 
		TRANSPORT_FEE/100 TRANSPORT_FEE,PICKUP_FEE/100 PICKUP_FEE,
		DELIVERY_GOODS_FEE/100 DELIVERY_GOODS_FEE, PACKAGING_FEE/100
		PACKAGING_FEE,
		COD_FEE/100 COD_FEE, INSURANCE_FEE/100 INSURANCE_FEE, OTHER_FEE/100 OTHER_FEE,
		VALUE_ADD_FEE/100 VALUE_ADD_FEE, PROMOTIONS_FEE/100 PROMOTIONS_FEE,
		GOODS_NAME,
		BILL_WEIGHT,RECEIVE_METHOD,CUSTOMER_PICKUP_ORG_CODE,GOODS_QTY_TOTAL,
		GOODS_VOLUME_TOTAL, TARGET_ORG_CODE, VERSION_NO,
		ACTIVE, IS_RED_BACK, IS_INIT, CREATE_USER_CODE, CREATE_USER_NAME,
		CREATE_ORG_CODE,
		CREATE_ORG_NAME, CREATE_TIME, MODIFY_TIME, MODIFY_USER_CODE, MODIFY_USER_NAME,
		STATEMENT_BILL_NO,
		UNLOCK_DATE_TIME, LOCK_CUSTOMER_CODE, LOCK_CUSTOMER_NAME,
		COLLECTION_TYPE, AUDIT_USER_CODE, AUDIT_USER_NAME,
		APPROVE_STATUS, AUDIT_DATE, NOTES
	</sql>
  
  <!-- 通过运单单号获得还款单信息 -->
  <select id="queryRepaymentBillByWayBillNos" resultMap="RepaymentBillResultMap" parameterType="java.util.Map" >
	SELECT/*结算-客户管理-通过运单单号获得还款单信息 */
	repayment.ID,repayment.REPAYMENT_NO,repayment.ONLINE_PAYMENT_NO,repayment.CUSTOMER_CODE,repayment.CUSTOMER_NAME,repayment.CURRENCY_CODE,
	repayment.AMOUNT/100 AMOUNT,repayment.TRUE_AMOUNT/100
	TRUE_AMOUNT,repayment.BVERIFY_AMOUNT/100
	BVERIFY_AMOUNT,repayment.AUDIT_STATUS,repayment.CREATE_TYPE,repayment.OA_PAYMENT_NO,repayment.CREATE_ORG_CODE,
	repayment.CREATE_ORG_NAME, repayment.COLLECTION_ORG_CODE,
	repayment.COLLECTION_ORG_NAME, repayment.COLLECTION_COMPANY_CODE,
	repayment.COLLECTION_COMPANY_NAME,repayment.GENERATING_ORG_CODE,
	repayment.GENERATING_ORG_NAME, repayment.GENERATING_COMPANY_CODE,
	repayment.GENERATING_COMPANY_NAME,repayment.CONREVEN_DATE,
	repayment.BILL_TYPE, repayment.STATUS, repayment.ACTIVE,
	repayment.IS_RED_BACK, repayment.PAYMENT_TYPE,
	repayment.CREATE_USER_CODE,repayment.CREATE_USER_NAME,
	repayment.AUDIT_USER_CODE, repayment.AUDIT_USER_NAME,
	repayment.MODIFY_USER_CODE,
	repayment.MODIFY_USER_NAME,repayment.DISABLE_USER_CODE,
	repayment.DISABLE_USER_NAME, repayment.CASH_CONFIRM_USER_CODE,
	repayment.CASH_CONFIRM_USER_NAME,
	repayment.BUSINESS_DATE,repayment.ACCOUNT_DATE, repayment.CREATE_TIME,
	repayment.MODIFY_TIME, repayment.DISABLE_TIME,
	repayment.CASH_CONFIRM_TIME,
	repayment.IS_INIT,repayment.NOTES,repayment.VERSION_NO,
	repayment.SOURCE_BILL_NO
	FROM STL.T_STL_BILL_REPAYMENT repayment 
	WHERE repayment.repayment_no IN (
        SELECT writeoff.begin_no 
        FROM STL.T_STL_BILL_WRITEOFF writeoff 
        WHERE writeoff.BEGIN_NO =repayment.REPAYMENT_NO 
        AND writeoff.END_WAYBILL_NO IN
        <foreach collection="wayBillNos"  index="index" item="item"  open="(" separator="," close=")">  
		        #{item} 
		</foreach>
		<if test="isRedBack!=null and isRedBack!='' ">
			and writeoff.is_red_back=#{isRedBack}
		</if>	
  		)		
	<if test="orgCodes!=null">
		and repayment.COLLECTION_ORG_CODE IN
		<foreach collection="orgCodes"  index="index" item="item"  open="(" separator="," close=")">  
		        #{item} 
		</foreach>
	</if>	
		
	<if test="active!=null and active!='' ">
		AND repayment.ACTIVE=#{active}
	</if>
  </select>
  
  <!-- 付款单查询ResultMap -->
    <resultMap id="PaymentBillResultMap" type="com.deppon.foss.module.settlement.common.api.shared.domain.BillPaymentEntity" >
    <id column="ID" property="id" jdbcType="VARCHAR" />
    <result column="PAYMENT_NO" property="paymentNo" jdbcType="VARCHAR" />
    <result column="CURRENCY_CODE" property="currencyCode" jdbcType="VARCHAR" />
    <result column="AMOUNT" property="amount" jdbcType="DECIMAL" />
    <result column="CUSTOMER_CODE" property="customerCode" jdbcType="VARCHAR" />
    <result column="CUSTOMER_NAME" property="customerName" jdbcType="VARCHAR" />
    <result column="WORKFLOW_NO" property="workflowNo" jdbcType="VARCHAR" />
    <result column="REMIT_STATUS" property="remitStatus" jdbcType="VARCHAR" />
    <result column="AUDIT_STATUS" property="auditStatus" jdbcType="VARCHAR" />
    <result column="SOURCE_BILL_NO" property="sourceBillNo" jdbcType="VARCHAR" />
    <result column="SOURCE_BILL_TYPE" property="sourceBillType" jdbcType="VARCHAR" />
    <result column="PAYMENT_ORG_CODE" property="paymentOrgCode" jdbcType="VARCHAR" />
    <result column="PAYMENT_ORG_NAME" property="paymentOrgName" jdbcType="VARCHAR" />
    <result column="PAYMENT_COMPANY_CODE" property="paymentCompanyCode" jdbcType="VARCHAR" />
    <result column="PAYMENT_COMPANY_NAME" property="paymentCompanyName" jdbcType="VARCHAR" />
    <result column="ACTIVE" property="active" jdbcType="CHAR" />
    <result column="IS_RED_BACK" property="isRedBack" jdbcType="CHAR" />
    <result column="CREATE_USER_CODE" property="createUserCode" jdbcType="VARCHAR" />
    <result column="CREATE_USER_NAME" property="createUserName" jdbcType="VARCHAR" />
    <result column="AUDIT_USER_CODE" property="auditUserCode" jdbcType="VARCHAR" />
    <result column="AUDIT_USER_NAME" property="auditUserName" jdbcType="VARCHAR" />
    <result column="MODIFY_USER_CODE" property="modifyUserCode" jdbcType="VARCHAR" />
    <result column="MODIFY_USER_NAME" property="modifyUserName" jdbcType="VARCHAR" />
    <result column="DISABLE_USER_CODE" property="disableUserCode" jdbcType="VARCHAR" />
    <result column="DISABLE_USER_NAME" property="disableUserName" jdbcType="VARCHAR" />
    <result column="BUSINESS_DATE" property="businessDate" jdbcType="TIMESTAMP" />
    <result column="ACCOUNT_DATE" property="accountDate" jdbcType="TIMESTAMP" />
    <result column="CREATE_TIME" property="createTime" jdbcType="TIMESTAMP" />
    <result column="MODIFY_TIME" property="modifyTime" jdbcType="TIMESTAMP" />
    <result column="DISABLE_TIME" property="disableTime" jdbcType="TIMESTAMP" />
    <result column="BILL_TYPE" property="billType" jdbcType="VARCHAR" />
    <result column="IS_INIT" property="isInit" jdbcType="CHAR" />
    <result column="PAYMENT_TYPE" property="paymentType" jdbcType="VARCHAR" />
    <result column="MOBILE_PHONE" property="mobilePhone" jdbcType="VARCHAR" />
    <result column="ACCOUNT_NO" property="accountNo" jdbcType="VARCHAR" />
    <result column="PAYEE_NAME" property="payeeName" jdbcType="VARCHAR" />
    <result column="ACCOUNT_TYPE" property="accountType" jdbcType="VARCHAR" />
    <result column="PROVINCE_CODE" property="provinceCode" jdbcType="VARCHAR" />
    <result column="CITY_CODE" property="cityCode" jdbcType="VARCHAR" />
    <result column="BANK_HQ_NAME" property="bankHqName" jdbcType="VARCHAR" />
    <result column="BANK_BRANCH_NAME" property="bankBranchName" jdbcType="VARCHAR" />
    <result column="BANK_BRANCH_CODE" property="bankBranchCode" jdbcType="VARCHAR" />
    <result column="AUDIT_OPINION" property="auditOpinion" jdbcType="VARCHAR" />
    <result column="DISABLE_OPINION" property="disableOpinion" jdbcType="VARCHAR" />
    <result column="APPLY_WORK_FLOW_NO" property="applyWorkFlowNo" jdbcType="VARCHAR" />
    <result column="NOTES" property="notes" jdbcType="VARCHAR" />
    <result column="VERSION_NO" property="versionNo" jdbcType="DECIMAL" />
    
    <result column="PROVINCE_NAME" property="provinceName" jdbcType="VARCHAR" /><!-- 后面增加字段 -->
    <result column="BANK_HQ_CODE" property="bankHqName" jdbcType="VARCHAR" />
    <result column="CITY_NAME" property="cityName" jdbcType="VARCHAR" />
    
  </resultMap>
  
  
  <!-- 通过运单单号获得付款单信息 -->
  <select id="queryPaymentBillByWayBillNos" resultMap="PaymentBillResultMap" parameterType="java.util.Map" >
	SELECT/*结算-客户管理-通过运单单号获得付款单信息 */
	payment.ID, payment.PAYMENT_NO, payment.CURRENCY_CODE, payment.AMOUNT/100 AMOUNT, payment.CUSTOMER_CODE, payment.CUSTOMER_NAME, payment.WORKFLOW_NO, 
    payment.REMIT_STATUS, payment.AUDIT_STATUS, payment.SOURCE_BILL_NO, payment.SOURCE_BILL_TYPE, payment.PAYMENT_ORG_CODE, payment.PAYMENT_ORG_NAME, 
    payment.PAYMENT_COMPANY_CODE, payment.PAYMENT_COMPANY_NAME, payment.ACTIVE, payment.IS_RED_BACK, payment.CREATE_USER_CODE, 
    payment.CREATE_USER_NAME, payment.AUDIT_USER_CODE, payment.AUDIT_USER_NAME, payment.MODIFY_USER_CODE, payment.MODIFY_USER_NAME, 
    payment.DISABLE_USER_CODE, payment.DISABLE_USER_NAME, payment.BUSINESS_DATE, payment.ACCOUNT_DATE, payment.CREATE_TIME, payment.MODIFY_TIME, 
    payment.DISABLE_TIME, payment.BILL_TYPE, payment.IS_INIT, payment.PAYMENT_TYPE, payment.MOBILE_PHONE, payment.ACCOUNT_NO, payment.PAYEE_NAME, 
    payment.ACCOUNT_TYPE, payment.PROVINCE_CODE, payment.CITY_CODE, payment.BANK_HQ_NAME, payment.BANK_BRANCH_NAME, 
    payment.BANK_BRANCH_CODE, payment.AUDIT_OPINION, payment.DISABLE_OPINION, payment.APPLY_WORK_FLOW_NO, payment.NOTES, payment.VERSION_NO,
    payment.PROVINCE_NAME,payment.BANK_HQ_CODE,payment.CITY_NAME
	FROM STL.T_STL_BILL_PAYMENT payment left join STL.T_STL_BILL_PAYABLE
	payable on payment.PAYMENT_NO = payable.PAYMENT_NO WHERE payable.WAYBILL_NO IN
		<foreach collection="wayBillNos"  index="index" item="item"  open="(" separator="," close=")">  
		        #{item} 
		</foreach>
		
	<if test="orgCodes!=null">
		and payment.PAYMENT_ORG_CODE IN
		<foreach collection="orgCodes"  index="index" item="item"  open="(" separator="," close=")">  
		        #{item} 
		</foreach>
	</if>		
		
	<if test="active!=null and active!='' ">
		AND payable.ACTIVE=#{active}
	</if>
  </select>
  
  <!-- 核销单查询ResultMap -->
  <resultMap id="WriteoffBillResultMap" type="com.deppon.foss.module.settlement.common.api.shared.domain.BillWriteoffEntity" >
    <result column="ID" property="id" jdbcType="VARCHAR" />
    <result column="WRITEOFF_BATCH_NO" property="writeoffBatchNo" jdbcType="VARCHAR" />
    <result column="WRITEOFF_BILL_NO" property="writeoffBillNo" jdbcType="VARCHAR" />
    <result column="BEGIN_NO" property="beginNo" jdbcType="VARCHAR" />
    <result column="END_NO" property="endNo" jdbcType="VARCHAR" />
    <result column="STATEMENT_BILL_NO" property="statementBillNo" jdbcType="VARCHAR" />
    <result column="CREATE_TYPE" property="createType" jdbcType="VARCHAR" />
    <result column="WRITEOFF_TYPE" property="writeoffType" jdbcType="VARCHAR" />
    <result column="ORG_CODE" property="orgCode" jdbcType="VARCHAR" />
    <result column="ORG_NAME" property="orgName" jdbcType="VARCHAR" />
    <result column="CUSTOMER_CODE" property="customerCode" jdbcType="VARCHAR" />
    <result column="CUSTOMER_NAME" property="customerName" jdbcType="VARCHAR" />
    <result column="AMOUNT" property="amount" jdbcType="DECIMAL" />
    <result column="ACTIVE" property="active" jdbcType="CHAR" />
    <result column="IS_RED_BACK" property="isRedBack" jdbcType="CHAR" />
    <result column="CREATE_USER_CODE" property="createUserCode" jdbcType="VARCHAR" />
    <result column="CREATE_USER_NAME" property="createUserName" jdbcType="VARCHAR" />
    <result column="RED_IMPACT_USER_CODE" property="redImpactUserCode" jdbcType="VARCHAR" />
    <result column="RED_IMPACT_USER_NAME" property="redImpactUserName" jdbcType="VARCHAR" />
    <result column="WRITEOFF_TIME" property="writeoffTime" jdbcType="TIMESTAMP" />
    <result column="ACCOUNT_DATE" property="accountDate" jdbcType="TIMESTAMP" />
    <result column="IS_INIT" property="isInit" jdbcType="CHAR" />
    <result column="VERSION_NO" property="versionNo" jdbcType="DECIMAL" />
  	<result column="BEGIN_WAYBILL_NO" property="beginWaybillNo" jdbcType="VARCHAR"/>
  	<result column="END_WAYBILL_NO" property="endWaybillNo" jdbcType="VARCHAR"/>
  </resultMap>
  <sql id="WriteoffBill_Column_List" >
    ID, WRITEOFF_BATCH_NO, WRITEOFF_BILL_NO, BEGIN_NO, END_NO, STATEMENT_BILL_NO, 
    CREATE_TYPE, WRITEOFF_TYPE, ORG_CODE, ORG_NAME, CUSTOMER_CODE, CUSTOMER_NAME, AMOUNT/100 AMOUNT, 
    ACTIVE, IS_RED_BACK, CREATE_USER_CODE, CREATE_USER_NAME, RED_IMPACT_USER_CODE, RED_IMPACT_USER_NAME, 
    WRITEOFF_TIME, ACCOUNT_DATE, IS_INIT, VERSION_NO,BEGIN_WAYBILL_NO,END_WAYBILL_NO
  </sql>
  
  <!-- 通过运单单号获得核销单信息 -->
  <select id="queryWriteoffBillByWayBillNos" resultMap="WriteoffBillResultMap" parameterType="java.util.Map" >
    SELECT /*结算-客户管理-通过运单单号获得核销单信息 */
    <include refid="WriteoffBill_Column_List" />
    FROM STL.T_STL_BILL_WRITEOFF writeoff WHERE writeoff.BEGIN_WAYBILL_NO IN
		<foreach collection="wayBillNos"  index="index" item="item"  open="(" separator="," close=")">  
		        #{item} 
		</foreach>
		
		<if test="orgCodes!=null">
			and writeoff.ORG_CODE IN
			<foreach collection="orgCodes"  index="index" item="item"  open="(" separator="," close=")">  
			        #{item} 
			</foreach>
		</if>
	
			<if test="active!=null and active!='' ">
		AND writeoff.ACTIVE=#{active}
	</if>
	UNION 
	SELECT 
    <include refid="WriteoffBill_Column_List" />
    FROM STL.T_STL_BILL_WRITEOFF writeoff WHERE writeoff.END_WAYBILL_NO IN
		<foreach collection="wayBillNos"  index="index" item="item"  open="(" separator="," close=")">  
		        #{item} 
		</foreach>
		
		<if test="orgCodes!=null">
			and writeoff.ORG_CODE IN
			<foreach collection="orgCodes"  index="index" item="item"  open="(" separator="," close=")">  
			        #{item} 
			</foreach>
		</if>		
		
	<if test="active!=null and active!='' ">
		AND writeoff.ACTIVE=#{active}
	</if>
  </select>
  
  <select id="selectByWaybillNosAndOrgCodes" resultMap="BaseResultMap" parameterType="java.util.Map" >
    SELECT /*结算-客户管理-通过运单单号获得应收单信息 */
    <include refid="Base_Re_Column_List" />
    FROM STL.T_STL_BILL_RECEIVABLE T  WHERE
	WAYBILL_NO IN
	<foreach collection="waybillNos"  index="index" item="item"  open="(" separator="," close=")">  
		     #{item} 
	</foreach>	
	 <if test="active!=null and active!='' ">
		AND ACTIVE=#{active}
	</if> 
	
  </select>
  
  
  <select id="selectPayableByWaybillNosAndOrgCodes" resultMap="BasePayableResultMap" parameterType="java.util.Map" >
    SELECT /*结算-客户管理-通过运单单号获得应付单信息 */
    <include refid="Base_Pa_Column_List" />
    from STL.T_STL_BILL_PAYABLE T  WHERE
	WAYBILL_NO IN
	<foreach collection="waybillNos"  index="index" item="item"  open="(" separator="," close=")">  
		     #{item} 
	</foreach>
	<if test="active!=null and active!='' ">
		AND ACTIVE=#{active}
	</if>
	
  </select>
  
  
   <!-- 根据来源单号集合和部门编码集合，查询现金收款单信息 -->
  <select id="selectBySourceBillNOsAndOrgCodes" resultMap="BaseCashinResultMap" parameterType="java.util.Map" >
    SELECT /*结算-客户管理-根据来源单号集合和部门编码集合，查询现金收款单信息 */
    <include refid="Base_Ca_Column_List" />
    from STL.T_STL_BILL_CASH_COLLECTION  T
     WHERE   SOURCE_BILL_NO IN
	<foreach collection="sourceBillNos"  index="index" item="item"  open="(" separator="," close=")">  
		        #{item} 
	</foreach>
	<if test="sourceBillType!=null and sourceBillType!='' ">
		AND SOURCE_BILL_TYPE=#{sourceBillType}
	</if>
	<if test="active!=null and active!='' ">
		AND ACTIVE=#{active}
	</if>
	
  </select>
</mapper>