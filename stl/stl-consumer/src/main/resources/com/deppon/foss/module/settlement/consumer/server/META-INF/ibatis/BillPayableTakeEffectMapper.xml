<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="foss.stl.BillPayableEntityDao" >

  <!-- 根据单据类型记账日期等查询应付单信息(关联应收单中未核销金额为0的数据)   -->
  <select id="queryBillPayableLaborFee" resultMap="BaseResultMap" parameterType="java.util.Map">
    SELECT /*结算-客户管理-根据单据类型记账日期等查询应付单信息(关联应收单中未核销金额为0的数据) */
    T.ID,
       T.PAYABLE_NO,
       T.WAYBILL_NO,
       T.WAYBILL_ID,
       T.PAYMENT_NO,
       T.CREATE_TYPE,
       T.BILL_TYPE,
       T.SOURCE_BILL_NO,
       T.SOURCE_BILL_TYPE,
       T.COD_TYPE,
       T.PAYABLE_ORG_CODE,
       T.PAYABLE_ORG_NAME,
       T.PAYABLE_COM_CODE,
       T.PAYABLE_COM_NAME,
       T.ORIG_ORG_CODE,
       T.ORIG_ORG_NAME,
       T.DEST_ORG_CODE,
       T.DEST_ORG_NAME,
       T.CUSTOMER_CODE,
       T.CUSTOMER_NAME,
       T.AMOUNT / 100 AMOUNT,
       T.VERIFY_AMOUNT / 100 VERIFY_AMOUNT,
       T.UNVERIFY_AMOUNT / 100 UNVERIFY_AMOUNT,
       T.CURRENCY_CODE,
       T.PRODUCT_CODE,
       T.PRODUCT_ID,
       T.ACCOUNT_DATE,
       T.BUSINESS_DATE,
       T.SIGN_DATE,
       T.EFFECTIVE_DATE,
       T.CREATE_USER_NAME,
       T.CREATE_USER_CODE,
       T.CREATE_ORG_CODE,
       T.CREATE_ORG_NAME,
       T.ACTIVE,
       T.IS_RED_BACK,
       T.IS_INIT,
       T.VERSION_NO,
       T.EFFECTIVE_STATUS,
       T.EFFECTIVE_USER_NAME,
       T.EFFECTIVE_USER_CODE,
       T.FROZEN_STATUS,
       T.FROZEN_TIME,
       T.FROZEN_USER_NAME,
       T.FROZEN_USER_CODE,
       T.PAY_STATUS,
       T.PAYMENT_STATUS,
       T.STATEMENT_BILL_NO,
       T.CUSTOMER_CONTACT,
       T.CUSTOMER_CONTACT_NAME,
       T.CUSTOMER_PHONE,
       T.CREATE_TIME,
       T.MODIFY_TIME,
       T.MODIFY_USER_NAME,
       T.MODIFY_USER_CODE,
       T.OTHERSIDE_ORG_CODE,
       T.OTHERSIDE_ORG_NAME,
       T.WORKFLOW_NO,
       T.LGDRIVER_CODE,
       T.LGDRIVER_NAME,
       T.PAYER_TYPE,
       T.PAYABLE_TYPE,
       T.DELIVER_FEE / 100 DELIVER_FEE,
       T.OUTGOING_FEE / 100 OUTGOING_FEE,
       T.AUDIT_USER_CODE,
       T.AUDIT_USER_NAME,
       T.AUDIT_DATE,
       T.APPROVE_STATUS,
       T.IS_DISABLE,
       T.DISABLE_USER_CODE,
       T.DISABLE_USER_NAME,
       T.DISABLE_TIME,
       T.NOTES,
       T.PAYEE_NAME,
       T.BANK_HQ_CODE,
       T.BANK_HQ_NAME,
       T.ACCOUNT_NO,
       T.PROVINCE_CODE,
       T.PROVINCE_NAME,
       T.CITY_CODE,
       T.CITY_NAME,
       T.BANK_BRANCH_CODE,
       T.BANK_BRANCH_NAME,
       T.PAYMENT_NOTES,
       T.PAYMENT_AMOUNT / 100 PAYMENT_AMOUNT,
       T.LAST_PAYMENT_TIME
    FROM STL.T_STL_BILL_PAYABLE T 
    WHERE
    	<![CDATA[ T.ACCOUNT_DATE >= #{startAccountDate} and T.ACCOUNT_DATE < #{endAccountDate} ]]> 
     	AND T.BILL_TYPE = #{billType}
      	AND T.ACTIVE = #{active}
      	AND T.SIGN_DATE IS NOT NULL
 	  	AND T.EFFECTIVE_STATUS = #{effectiveStatus}
  </select>
</mapper>