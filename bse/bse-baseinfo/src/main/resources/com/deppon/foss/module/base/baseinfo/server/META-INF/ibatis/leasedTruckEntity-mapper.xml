<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<!-- "外请车（拖头、挂车、厢式车）" -->
<mapper namespace="foss.bse.bse-baseinfo.leasedtruck">
	<resultMap id="leasedTruckResultMap"
		type="com.deppon.foss.module.base.baseinfo.api.shared.domain.LeasedTruckEntity">
		<id column="ID" property="id" jdbcType="VARCHAR" />
		<result column="VEHICLE_NO" property="vehicleNo" jdbcType="VARCHAR" />
		<result column="VEHICLE_FRAME_NO" property="vehicleFrameNo" jdbcType="VARCHAR" />
		<result column="ENGINE_NO" property="engineNo" jdbcType="VARCHAR" />
		<result column="BRIDGE" property="bridge" jdbcType="VARCHAR" />
		<result column="DEAD_LOAD" property="deadLoad" jdbcType="DECIMAL" />
		<result column="SELF_WEIGHT" property="selfWeight" jdbcType="DECIMAL" />
		<result column="BEGIN_TIME" property="beginTime" jdbcType="TIMESTAMP" />
		<result column="END_TIME" property="endTime" jdbcType="TIMESTAMP" />
		<result column="PLAT" property="plat" jdbcType="CHAR" />
		<result column="TAIL_BOARD" property="tailBoard" jdbcType="CHAR" />
		<result column="VEHICLE_LENGTH" property="vehicleLength" jdbcType="DECIMAL" />
		<result column="VEHICLE_WIDTH" property="vehicleWidth" jdbcType="DECIMAL" />
		<result column="VEHICLE_HEIGHT" property="vehicleHeight" jdbcType="DECIMAL" />
		<result column="OPEN_VEHICLE" property="openVehicle" jdbcType="CHAR" />
		<result column="RAIL_VEHICLE" property="railVehicle" jdbcType="CHAR" />
		<result column="MATERIAL" property="material" jdbcType="VARCHAR" />
		<result column="SELF_VOLUME" property="selfVolume" jdbcType="DECIMAL" />
		<result column="GPS" property="gps" jdbcType="CHAR" />
		<result column="GPS_PROVIDER" property="gpsProvider" jdbcType="VARCHAR" />
		<result column="BARGAIN_VEHICLE" property="bargainVehicle" jdbcType="CHAR" />
		<result column="OPERATING_LIC" property="operatingLic" jdbcType="VARCHAR" />
		<result column="BEGIN_TIME_OPERATING_LIC" property="beginTimeOperatingLic" jdbcType="TIMESTAMP" />
		<result column="END_TIME_OPERATING_LIC" property="endTimeOperatingLic" jdbcType="TIMESTAMP" />
		<result column="DRIVING_LICENSE" property="drivingLicense" jdbcType="VARCHAR" />
		<result column="BEGIN_TIME_DRIVING_LIC" property="beginTimeDrivingLic" jdbcType="TIMESTAMP" />
		<result column="END_TIME_DRIVING_LIC" property="endTimeDrivingLic" jdbcType="TIMESTAMP" />
		<result column="INSURE_CARD" property="insureCard" jdbcType="VARCHAR" />
		<result column="BEGIN_TIME_INSURE_CARD" property="beginTimeInsureCard" jdbcType="TIMESTAMP" />
		<result column="END_TIME_INSURE_CARD" property="endTimeInsureCard" jdbcType="TIMESTAMP" />
		<result column="CONTACT" property="contact" jdbcType="VARCHAR" />
		<result column="CONTACT_PHONE" property="contactPhone" jdbcType="VARCHAR" />
		<result column="CONTACT_ADDRESS" property="contactAddress" jdbcType="VARCHAR" />
		<result column="GPS_NO" property="gpsNo" jdbcType="VARCHAR" />
		<result column="STATUS" property="status" jdbcType="VARCHAR" />
		<result column="CREATE_TIME" property="createDate" jdbcType="TIMESTAMP" />
		<result column="MODIFY_TIME" property="modifyDate" jdbcType="TIMESTAMP" />
		<result column="ACTIVE" property="active" jdbcType="CHAR" />
		<result column="CREATE_USER_CODE" property="createUser" jdbcType="VARCHAR" />
		<result column="MODIFY_USER_CODE" property="modifyUser" jdbcType="VARCHAR" />
		<result column="NOTES" property="notes" jdbcType="VARCHAR" />
		<result column="VEHICLE_TYPE" property="vehicleType" jdbcType="VARCHAR" />
		<result column="VEHICLE_LENGHT_CODE" property="vehicleLengthCode" jdbcType="VARCHAR" />
		<result column="VEHICLE_LENGHT_NAME" property="vehicleLengthName" jdbcType="VARCHAR" />
		<result column="BARGAIN_ROUTE" property="bargainRoute" jdbcType="VARCHAR" />
		<result column="PRODUCING_AREA" property="producingArea" jdbcType="VARCHAR" />
		<result column="BRAND" property="brand" jdbcType="VARCHAR" />
		<result column="LEASED_DRIVER_ID_CARD" property="leasedDriverIdCard" jdbcType="VARCHAR" />
		<!-- 外请司机表  司机姓名和司机电话 -->
		<result column="DRIVER_NAME" property="leasedDriverName" jdbcType="VARCHAR" />
		<result column="DRIVER_PHONE" property="driverPhone" jdbcType="VARCHAR" />
		<!-- 创建人部门和修改人所在部门 -->
		<result column="CREATE_USER_DEPT" property="createUserDept" jdbcType="VARCHAR"/>
		<result column="MODIFY_USER_DEPT" property="modifyUserDept" jdbcType="VARCHAR"/>
		<!-- 绑定的车队和操作人 -->
		<result column="ORG_CODE" property="orgCode" jdbcType="VARCHAR"/>
		<result column="NAME" property="name" jdbcType="VARCHAR"/>
		<result column="OPERATOR_NAME" property="operatorName" jdbcType="VARCHAR"/>
		<result column="MEASURE_EMPLOYEE_CODE" property="measureEmployeeCode" jdbcType="VARCHAR"/>
		<result column="MEASURE_MANAGER_CODE" property="measureManagerCode" jdbcType="VARCHAR"/>
		<result column="MEASURE_SENIOR_MANAGER_CODE" property="measureSeniorManagerCode" jdbcType="VARCHAR"/>
		<result column="MEASURE_EMPLOYEE_NAME" property="measureEmployeeName" jdbcType="VARCHAR"/>
		<result column="MEASURE_MANAGER_NAME" property="measureManagerName" jdbcType="VARCHAR"/>
		<result column="MEASURE_SENIOR_MANAGER_NAME" property="measureSeniorManagerName" jdbcType="VARCHAR"/>
	</resultMap>
	<sql id="leasedTruck_ResultMap_Param">
		<![CDATA[
			T.ID, T.VEHICLE_NO, T.VEHICLE_FRAME_NO, T.ENGINE_NO, T.BRIDGE, T.DEAD_LOAD,
			T.SELF_WEIGHT, T.BEGIN_TIME,
			T.END_TIME, T.PLAT, T.TAIL_BOARD, T.VEHICLE_LENGTH, T.VEHICLE_WIDTH, T.VEHICLE_HEIGHT,
			T.OPEN_VEHICLE,
			T.RAIL_VEHICLE, T.MATERIAL, T.SELF_VOLUME, T.GPS, T.GPS_PROVIDER, T.BARGAIN_VEHICLE,
			T.OPERATING_LIC,
			T.BEGIN_TIME_OPERATING_LIC, T.END_TIME_OPERATING_LIC, T.DRIVING_LICENSE, T.BEGIN_TIME_DRIVING_LIC,
			T.END_TIME_DRIVING_LIC, T.INSURE_CARD, T.BEGIN_TIME_INSURE_CARD,
			T.END_TIME_INSURE_CARD,
			T.CONTACT, T.CONTACT_PHONE, T.CONTACT_ADDRESS, T.GPS_NO, T.STATUS, T.CREATE_TIME,
			T.MODIFY_TIME,
			T.ACTIVE, T.CREATE_USER_CODE, T.MODIFY_USER_CODE, T.NOTES, T.VEHICLE_TYPE,
			T.VEHICLE_LENGHT_CODE,
			T.BARGAIN_ROUTE,T.PRODUCING_AREA,T.BRAND,T.LEASED_DRIVER_ID_CARD,
			D.DRIVER_NAME,D.DRIVER_PHONE,
			T.CREATE_USER_DEPT,T.MODIFY_USER_DEPT,
			T.MEASURE_EMPLOYEE_CODE,T.MEASURE_EMPLOYEE_NAME,T.MEASURE_MANAGER_CODE,
			T.MEASURE_MANAGER_NAME,T.MEASURE_SENIOR_MANAGER_CODE,T.MEASURE_SENIOR_MANAGER_NAME
			
		]]>
	</sql>
	<sql id="leasedTruckDriver_ResultMap_Param">
		<![CDATA[
			T.ID, T.VEHICLE_NO, T.VEHICLE_FRAME_NO, T.ENGINE_NO, T.BRIDGE, T.DEAD_LOAD,
			T.SELF_WEIGHT, T.BEGIN_TIME,
			T.END_TIME, T.PLAT, T.TAIL_BOARD, T.VEHICLE_LENGTH, T.VEHICLE_WIDTH, T.VEHICLE_HEIGHT,
			T.OPEN_VEHICLE,
			T.RAIL_VEHICLE, T.MATERIAL, T.SELF_VOLUME, T.GPS, T.GPS_PROVIDER, T.BARGAIN_VEHICLE,
			T.OPERATING_LIC,
			T.BEGIN_TIME_OPERATING_LIC, T.END_TIME_OPERATING_LIC, T.DRIVING_LICENSE, T.BEGIN_TIME_DRIVING_LIC,
			T.END_TIME_DRIVING_LIC, T.INSURE_CARD, T.BEGIN_TIME_INSURE_CARD,
			T.END_TIME_INSURE_CARD,
			T.CONTACT, T.CONTACT_PHONE, T.CONTACT_ADDRESS, T.GPS_NO, T.STATUS, T.CREATE_TIME,
			T.MODIFY_TIME,
			T.ACTIVE, T.CREATE_USER_CODE, T.MODIFY_USER_CODE, T.NOTES, T.VEHICLE_TYPE,
			T.VEHICLE_LENGHT_CODE,
			T.BARGAIN_ROUTE,T.PRODUCING_AREA,T.BRAND,T.LEASED_DRIVER_ID_CARD,
			T.CREATE_USER_DEPT,T.MODIFY_USER_DEPT,
			T.MEASURE_EMPLOYEE_CODE,T.MEASURE_EMPLOYEE_NAME,T.MEASURE_MANAGER_CODE,
			T.MEASURE_MANAGER_NAME,T.MEASURE_SENIOR_MANAGER_CODE,T.MEASURE_SENIOR_MANAGER_NAME
		]]>
	</sql>
	
	<!-- 根据entity精确查询的查询条件 ，如果属性为空，则此属性不作为条件 -->
	<sql id="leasedTruck_Pagination_Where_Base_Param">
		<trim prefix="WHERE" prefixOverrides="AND | OR">
			<if test="id != null and id != ''">
				T.ID = #{id,jdbcType=VARCHAR}
			</if>
			<if test="vehicleFrameNo != null and vehicleFrameNo != ''">
				AND T.VEHICLE_FRAME_NO = #{vehicleFrameNo,jdbcType=VARCHAR}
			</if>
			<if test="engineNo != null and engineNo != ''">
				AND T.ENGINE_NO = #{engineNo,jdbcType=VARCHAR}
			</if>
			<if test="bridge != null and bridge != ''">
				AND T.BRIDGE = #{bridge,jdbcType=VARCHAR}
			</if>
			<if test="deadLoad != null and deadLoad != ''">
				AND T.DEAD_LOAD = #{deadLoad,jdbcType=DECIMAL}
			</if>
			<if test="selfWeight != null and selfWeight != ''">
				AND T.SELF_WEIGHT = #{selfWeight,jdbcType=DECIMAL}
			</if>
			<if test="beginTime != null and beginTime != ''">
				AND T.BEGIN_TIME = #{beginTime,jdbcType=TIMESTAMP}
			</if>
			<if test="endTime != null and endTime != ''">
				AND T.END_TIME = #{endTime,jdbcType=TIMESTAMP}
			</if>
			<if test="plat != null and plat != ''">
				<![CDATA[ AND T.PLAT = #{plat,jdbcType=CHAR} ]]>
			</if>
			<if test="tailBoard != null and tailBoard != ''">
				AND T.TAIL_BOARD = #{tailBoard,jdbcType=CHAR}
			</if>
			<if test="vehicleLength != null and vehicleLength != ''">
				AND T.VEHICLE_LENGTH = #{vehicleLength,jdbcType=DECIMAL}
			</if>
			<if test="vehicleWidth != null and vehicleWidth != ''">
				AND T.VEHICLE_WIDTH = #{vehicleWidth,jdbcType=DECIMAL}
			</if>
			<if test="vehicleHeight != null and vehicleHeight != ''">
				AND T.VEHICLE_HEIGHT = #{vehicleHeight,jdbcType=DECIMAL}
			</if>
			<if test="openVehicle != null and openVehicle != ''">
				AND T.OPEN_VEHICLE = #{openVehicle,jdbcType=CHAR}
			</if>
			<if test="railVehicle != null and railVehicle != ''">
				AND T.RAIL_VEHICLE = #{railVehicle,jdbcType=CHAR}
			</if>
			<if test="material != null and material != ''">
				AND T.MATERIAL = #{material,jdbcType=VARCHAR}
			</if>
			<if test="selfVolume != null and selfVolume != ''">
				AND T.SELF_VOLUME = #{selfVolume,jdbcType=DECIMAL}
			</if>
			<if test="gps != null and gps != ''">
				<![CDATA[ AND T.GPS = #{gps,jdbcType=CHAR} ]]>
			</if>
			<if test="gpsProvider != null and gpsProvider != ''">
				AND T.GPS_PROVIDER = #{gpsProvider,jdbcType=VARCHAR}
			</if>
			<if test="bargainVehicle != null and bargainVehicle != ''">
				AND T.BARGAIN_VEHICLE = #{bargainVehicle,jdbcType=CHAR}
			</if>
			<if test="beginTimeOperatingLic != null and beginTimeOperatingLic != ''">
				AND T.BEGIN_TIME_OPERATING_LIC = #{beginTimeOperatingLic,jdbcType=TIMESTAMP}
			</if>
			<if test="endTimeOperatingLic != null and endTimeOperatingLic != ''">
				AND T.END_TIME_OPERATING_LIC = #{endTimeOperatingLic,jdbcType=TIMESTAMP}
			</if>
			<if test="beginTimeDrivingLic != null and beginTimeDrivingLic != ''">
				AND T.BEGIN_TIME_DRIVING_LIC = #{beginTimeDrivingLic,jdbcType=TIMESTAMP}
			</if>
			<if test="endTimeDrivingLic != null and endTimeDrivingLic != ''">
				AND T.END_TIME_DRIVING_LIC = #{endTimeDrivingLic,jdbcType=TIMESTAMP}
			</if>
			<if test="insureCard != null and insureCard != ''">
				AND T.INSURE_CARD = #{insureCard,jdbcType=VARCHAR}
			</if>
			<if test="beginTimeInsureCard != null and beginTimeInsureCard != ''">
				AND T.BEGIN_TIME_INSURE_CARD = #{beginTimeInsureCard,jdbcType=TIMESTAMP}
			</if>
			<if test="endTimeInsureCard != null and endTimeInsureCard != ''">
				AND T.END_TIME_INSURE_CARD = #{endTimeInsureCard,jdbcType=TIMESTAMP}
			</if>
			<if test="contact != null and contact != ''">
				AND T.CONTACT = #{contact,jdbcType=VARCHAR}
			</if>
			<if test="contactPhone != null and contactPhone != ''">
				AND T.CONTACT_PHONE = #{contactPhone,jdbcType=VARCHAR}
			</if>
			<if test="contactAddress != null and contactAddress != ''">
				AND T.CONTACT_ADDRESS = #{contactAddress,jdbcType=VARCHAR}
			</if>
			<if test="gpsNo != null and gpsNo != ''">
				AND T.GPS_NO = #{gpsNo,jdbcType=VARCHAR}
			</if>
			<if test="status != null and status != ''">
				AND T.STATUS = #{status,jdbcType=VARCHAR}
			</if>
			<if test="createDate != null and createDate != ''">
				AND T.CREATE_TIME = #{createDate,jdbcType=TIMESTAMP}
			</if>
			<if test="modifyDate != null and modifyDate != ''">
				AND T.MODIFY_TIME = #{modifyDate,jdbcType=TIMESTAMP}
			</if>
			<if test="active != null and active != ''">
				AND T.ACTIVE = #{active,jdbcType=CHAR}
			</if>
			<if test="createUser != null and createUser != ''">
				AND T.CREATE_USER_CODE = #{createUser,jdbcType=VARCHAR}
			</if>
			<if test="modifyUser != null and modifyUser != ''">
				AND T.MODIFY_USER_CODE = #{modifyUser,jdbcType=VARCHAR}
			</if>
			<if test="notes != null and notes != ''">
				AND T.NOTES = #{notes,jdbcType=VARCHAR}
			</if>
			<if test="vehicleType != null and vehicleType != ''">
				AND T.VEHICLE_TYPE = #{vehicleType,jdbcType=VARCHAR}
			</if>
			<if test="vehicleLengthCode != null and vehicleLengthCode != ''">
				AND T.VEHICLE_LENGHT_CODE = #{vehicleLengthCode,jdbcType=VARCHAR}
			</if>
			
			<if test="bargainRoute != null and bargainRoute != ''">
				AND T.BARGAIN_ROUTE = #{bargainRoute,jdbcType=VARCHAR}
			</if>
			<if test="producingArea != null and producingArea != ''">
				AND T.PRODUCING_AREA = #{producingArea,jdbcType=VARCHAR}
			</if>
			<if test="brand != null and brand != ''">
				AND T.BRAND = #{brand,jdbcType=VARCHAR}
			</if>
			<if test="createUserDept != null and createUserDept !=''">
				AND T.CREATE_USER_DEPT =#{createUserDept,jdbcType=VARCHAR}
			</if>
			<if test="modifyUserDept != null and modifyUserDept != ''">
				AND T.MODIFY_USER_DEPT =#{modifyUserDept,jdbcType=VARCHAR}
			</if>
		</trim>
	</sql>
	<sql id="leasedTruck_pagination_Where_Like_Param">
		<include refid="leasedTruck_Pagination_Where_Base_Param"/>
		<if test="vehicleNo != null and vehicleNo != ''">
			AND T.VEHICLE_NO like CONCAT(CONCAT('%', #{vehicleNo,jdbcType=VARCHAR}), '%')
		</if>
		<if test="operatingLic != null and operatingLic != ''">
			AND T.OPERATING_LIC like CONCAT(CONCAT('%', #{operatingLic,jdbcType=VARCHAR}), '%')
		</if>
		<if test="drivingLicense != null and drivingLicense != ''">
			AND T.DRIVING_LICENSE like CONCAT(CONCAT('%', #{drivingLicense,jdbcType=VARCHAR}), '%')
		</if>
		<if test="leasedDriverName != null and leasedDriverName != ''">
			AND D.DRIVER_NAME like CONCAT(CONCAT('%', #{leasedDriverName,jdbcType=VARCHAR}), '%')
		</if>
		<if test="driverPhone != null and driverPhone != ''">
			AND D.DRIVER_PHONE like CONCAT(CONCAT('%', #{driverPhone,jdbcType=VARCHAR}), '%')
		</if>
		<if test="leasedDriverIdCard != null and leasedDriverIdCard != ''">
			AND T.LEASED_DRIVER_ID_CARD like CONCAT(CONCAT('%', #{leasedDriverIdCard,jdbcType=VARCHAR}), '%')
		</if>
		ORDER BY T.CREATE_TIME DESC,T.VEHICLE_NO
	</sql>
	<sql id="leasedTruck_pagination_Where_Equals_Param">
		<include refid="leasedTruck_Pagination_Where_Base_Param"/>
		<if test="vehicleNo != null and vehicleNo != ''">
			AND T.VEHICLE_NO = #{vehicleNo,jdbcType=VARCHAR}
		</if>
		<if test="operatingLic != null and operatingLic != ''">
			AND T.OPERATING_LIC = #{operatingLic,jdbcType=VARCHAR}
		</if>
		<if test="drivingLicense != null and drivingLicense != ''">
			AND T.DRIVING_LICENSE = #{drivingLicense,jdbcType=VARCHAR}
		</if>
	</sql>
	<!-- 查询外请车（拖头、挂车、厢式车）信息 -->
	<select id="queryLeasedVehicleListBySelective" resultMap="leasedTruckResultMap"
		parameterType="com.deppon.foss.module.base.baseinfo.api.shared.domain.LeasedTruckEntity">
		select
		/** 综合:查询外请车（拖头、挂车、厢式车）信息  **/
		<include refid="leasedTruckDriver_ResultMap_Param" />
		from BSE.T_BAS_LEASED_TRUCK T
		<include refid="leasedTruck_pagination_Where_Equals_Param"/>
	</select>
	<select id="queryLeasedVehicleListBySelectiveCondition" resultMap="leasedTruckResultMap"
		parameterType="com.deppon.foss.module.base.baseinfo.api.shared.domain.LeasedTruckEntity">
		select
		<include refid="leasedTruck_ResultMap_Param" />
		from BSE.T_BAS_LEASED_TRUCK T
		LEFT JOIN BSE.T_BAS_LEASED_DRIVER D ON T.LEASED_DRIVER_ID_CARD = D.ID_CARD
		AND D.ACTIVE='Y'
		<include refid="leasedTruck_pagination_Where_Like_Param"/>
	</select>
	
	<select id="queryLeasedVehicleRecordCountBySelectiveCondition" resultType="java.lang.Long"
		parameterType="com.deppon.foss.module.base.baseinfo.api.shared.domain.LeasedTruckEntity">
		<![CDATA[ select count(*) from BSE.T_BAS_LEASED_TRUCK T 
		LEFT JOIN BSE.T_BAS_LEASED_DRIVER D ON T.LEASED_DRIVER_ID_CARD = D.ID_CARD AND D.ACTIVE='Y' ]]>
		<include refid="leasedTruck_pagination_Where_Like_Param"/>
	</select>
	<!-- 删除外请车（拖头、挂车、厢式车）信息  -->
	<delete id="deleteLeasedVehicle" parameterType="java.lang.String">
		delete/** 综合:删除外请车（拖头、挂车、厢式车）信息  **/ from BSE.T_BAS_LEASED_TRUCK
		where ID = #{id,jdbcType=VARCHAR}
		
	</delete>
	<!-- 新增外请车（拖头、挂车、厢式车）信息  -->
	<insert id="addLeasedVehicle"
		parameterType="com.deppon.foss.module.base.baseinfo.api.shared.domain.LeasedTruckEntity">
		<![CDATA[ 
			insert/** 综合:新增外请车（拖头、挂车、厢式车）信息  **/ into BSE.T_BAS_LEASED_TRUCK (ID, VEHICLE_NO, VEHICLE_FRAME_NO,
			ENGINE_NO, BRIDGE, DEAD_LOAD,
			SELF_WEIGHT, BEGIN_TIME, END_TIME,
			PLAT, TAIL_BOARD, VEHICLE_LENGTH,
			VEHICLE_WIDTH, VEHICLE_HEIGHT, OPEN_VEHICLE,
			RAIL_VEHICLE, MATERIAL, SELF_VOLUME,
			GPS, GPS_PROVIDER, BARGAIN_VEHICLE,
			OPERATING_LIC, BEGIN_TIME_OPERATING_LIC, END_TIME_OPERATING_LIC,
			DRIVING_LICENSE, BEGIN_TIME_DRIVING_LIC, END_TIME_DRIVING_LIC,
			INSURE_CARD, BEGIN_TIME_INSURE_CARD, END_TIME_INSURE_CARD,
			CONTACT, CONTACT_PHONE, CONTACT_ADDRESS,
			GPS_NO, STATUS, CREATE_TIME,
			MODIFY_TIME, ACTIVE, CREATE_USER_CODE,
			MODIFY_USER_CODE, NOTES, VEHICLE_TYPE,
			VEHICLE_LENGHT_CODE,
			BARGAIN_ROUTE,PRODUCING_AREA,BRAND,LEASED_DRIVER_ID_CARD,
			CREATE_USER_DEPT,MODIFY_USER_DEPT,MEASURE_EMPLOYEE_CODE,
			MEASURE_MANAGER_CODE,MEASURE_SENIOR_MANAGER_CODE,MEASURE_EMPLOYEE_NAME,
			MEASURE_MANAGER_NAME,MEASURE_SENIOR_MANAGER_NAME
			)
		]]>
		values (#{id,jdbcType=VARCHAR}, #{vehicleNo,jdbcType=VARCHAR},
		#{vehicleFrameNo,jdbcType=VARCHAR},
		#{engineNo,jdbcType=VARCHAR}, #{bridge,jdbcType=VARCHAR}, #{deadLoad,jdbcType=DECIMAL},
		#{selfWeight,jdbcType=DECIMAL}, #{beginTime,jdbcType=TIMESTAMP},
		#{endTime,jdbcType=TIMESTAMP},
		#{plat,jdbcType=CHAR}, #{tailBoard,jdbcType=CHAR}, #{vehicleLength,jdbcType=DECIMAL},
		#{vehicleWidth,jdbcType=DECIMAL}, #{vehicleHeight,jdbcType=DECIMAL},
		#{openVehicle,jdbcType=CHAR},
		#{railVehicle,jdbcType=CHAR}, #{material,jdbcType=VARCHAR}, #{selfVolume,jdbcType=DECIMAL},
		#{gps,jdbcType=CHAR}, #{gpsProvider,jdbcType=VARCHAR},
		#{bargainVehicle,jdbcType=CHAR},
		#{operatingLic,jdbcType=VARCHAR}, #{beginTimeOperatingLic,jdbcType=TIMESTAMP},
		#{endTimeOperatingLic,jdbcType=TIMESTAMP},
		#{drivingLicense,jdbcType=VARCHAR},
		#{beginTimeDrivingLic,jdbcType=TIMESTAMP},
		#{endTimeDrivingLic,jdbcType=TIMESTAMP},
		#{insureCard,jdbcType=VARCHAR}, #{beginTimeInsureCard,jdbcType=TIMESTAMP},
		#{endTimeInsureCard,jdbcType=TIMESTAMP},
		#{contact,jdbcType=VARCHAR}, #{contactPhone,jdbcType=VARCHAR}, #{contactAddress,jdbcType=VARCHAR},
		#{gpsNo,jdbcType=VARCHAR}, #{status,jdbcType=VARCHAR},
		#{createDate,jdbcType=TIMESTAMP},
		#{modifyDate,jdbcType=TIMESTAMP}, #{active,jdbcType=CHAR}, #{createUser,jdbcType=VARCHAR},
		#{modifyUser,jdbcType=VARCHAR}, #{notes,jdbcType=VARCHAR},
		#{vehicleType,jdbcType=VARCHAR},
		#{vehicleLengthCode,jdbcType=VARCHAR},
		#{bargainRoute,jdbcType=VARCHAR},
		#{producingArea,jdbcType=VARCHAR},
		#{brand,jdbcType=VARCHAR},
		#{leasedDriverIdCard,jdbcType=VARCHAR},
		#{createUserDept,jdbcType=VARCHAR},
		#{modifyUserDept,jdbcType=VARCHAR},
		#{measureEmployeeCode,jdbcType=VARCHAR},
		#{measureManagerCode,jdbcType=VARCHAR},
		#{measureSeniorManagerCode,jdbcType=VARCHAR},
		#{measureEmployeeName,jdbcType=VARCHAR},
		#{measureManagerName,jdbcType=VARCHAR},
		#{measureSeniorManagerName,jdbcType=VARCHAR}
		)
	</insert>
	<insert id="addLeasedVehicleBySelective"
		parameterType="com.deppon.foss.module.base.baseinfo.api.shared.domain.LeasedTruckEntity">
		insert into BSE.T_BAS_LEASED_TRUCK
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				ID,
			</if>
			<if test="vehicleNo != null">
				VEHICLE_NO,
			</if>
			<if test="vehicleFrameNo != null">
				VEHICLE_FRAME_NO,
			</if>
			<if test="engineNo != null">
				ENGINE_NO,
			</if>
			<if test="bridge != null">
				BRIDGE,
			</if>
			<if test="deadLoad != null">
				DEAD_LOAD,
			</if>
			<if test="selfWeight != null">
				SELF_WEIGHT,
			</if>
			<if test="beginTime != null">
				BEGIN_TIME,
			</if>
			<if test="endTime != null">
				END_TIME,
			</if>
			<if test="plat != null">
				PLAT,
			</if>
			<if test="tailBoard != null">
				TAIL_BOARD,
			</if>
			<if test="vehicleLength != null">
				VEHICLE_LENGTH,
			</if>
			<if test="vehicleWidth != null">
				VEHICLE_WIDTH,
			</if>
			<if test="vehicleHeight != null">
				VEHICLE_HEIGHT,
			</if>
			<if test="openVehicle != null">
				OPEN_VEHICLE,
			</if>
			<if test="railVehicle != null">
				RAIL_VEHICLE,
			</if>
			<if test="material != null">
				MATERIAL,
			</if>
			<if test="selfVolume != null">
				SELF_VOLUME,
			</if>
			<if test="gps != null">
				GPS,
			</if>
			<if test="gpsProvider != null">
				GPS_PROVIDER,
			</if>
			<if test="bargainVehicle != null">
				BARGAIN_VEHICLE,
			</if>
			<if test="operatingLic != null">
				OPERATING_LIC,
			</if>
			<if test="beginTimeOperatingLic != null">
				BEGIN_TIME_OPERATING_LIC,
			</if>
			<if test="endTimeOperatingLic != null">
				END_TIME_OPERATING_LIC,
			</if>
			<if test="drivingLicense != null">
				DRIVING_LICENSE,
			</if>
			<if test="beginTimeDrivingLic != null">
				BEGIN_TIME_DRIVING_LIC,
			</if>
			<if test="endTimeDrivingLic != null">
				END_TIME_DRIVING_LIC,
			</if>
			<if test="insureCard != null">
				INSURE_CARD,
			</if>
			<if test="beginTimeInsureCard != null">
				BEGIN_TIME_INSURE_CARD,
			</if>
			<if test="endTimeInsureCard != null">
				END_TIME_INSURE_CARD,
			</if>
			<if test="contact != null">
				CONTACT,
			</if>
			<if test="contactPhone != null">
				CONTACT_PHONE,
			</if>
			<if test="contactAddress != null">
				CONTACT_ADDRESS,
			</if>
			<if test="gpsNo != null">
				GPS_NO,
			</if>
			<if test="status != null">
				STATUS,
			</if>
			<if test="createDate != null">
				CREATE_TIME,
			</if>
			<if test="modifyDate != null">
				MODIFY_TIME,
			</if>
			<if test="active != null">
				ACTIVE,
			</if>
			<if test="createUser != null">
				CREATE_USER_CODE,
			</if>
			<if test="modifyUser != null">
				MODIFY_USER_CODE,
			</if>
			<if test="notes != null">
				NOTES,
			</if>
			<if test="vehicleType != null">
				VEHICLE_TYPE,
			</if>
			<if test="vehicleLengthCode != null">
				VEHICLE_LENGHT_CODE,
			</if>
			<if test="bargainRoute != null">
				BARGAIN_ROUTE,
			</if>
			<if test="producingArea != null">
				PRODUCING_AREA,
			</if>
			<if test="brand != null">
				BRAND,
			</if>
			<if test="leasedDriverIdCard != null">
				LEASED_DRIVER_ID_CARD,
			</if>
			<if test="createUserDept != null">
				CREATE_USER_DEPT, 
			</if>
			<if test="modifyUserDept != null">
				MODIFY_USER_DEPT
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=VARCHAR},
			</if>
			<if test="vehicleNo != null">
				#{vehicleNo,jdbcType=VARCHAR},
			</if>
			<if test="vehicleFrameNo != null">
				#{vehicleFrameNo,jdbcType=VARCHAR},
			</if>
			<if test="engineNo != null">
				#{engineNo,jdbcType=VARCHAR},
			</if>
			<if test="bridge != null">
				#{bridge,jdbcType=VARCHAR},
			</if>
			<if test="deadLoad != null">
				#{deadLoad,jdbcType=DECIMAL},
			</if>
			<if test="selfWeight != null">
				#{selfWeight,jdbcType=DECIMAL},
			</if>
			<if test="beginTime != null">
				#{beginTime,jdbcType=TIMESTAMP},
			</if>
			<if test="endTime != null">
				#{endTime,jdbcType=TIMESTAMP},
			</if>
			<if test="plat != null">
				#{plat,jdbcType=CHAR},
			</if>
			<if test="tailBoard != null">
				#{tailBoard,jdbcType=CHAR},
			</if>
			<if test="vehicleLength != null">
				#{vehicleLength,jdbcType=DECIMAL},
			</if>
			<if test="vehicleWidth != null">
				#{vehicleWidth,jdbcType=DECIMAL},
			</if>
			<if test="vehicleHeight != null">
				#{vehicleHeight,jdbcType=DECIMAL},
			</if>
			<if test="openVehicle != null">
				#{openVehicle,jdbcType=CHAR},
			</if>
			<if test="railVehicle != null">
				#{railVehicle,jdbcType=CHAR},
			</if>
			<if test="material != null">
				#{material,jdbcType=VARCHAR},
			</if>
			<if test="selfVolume != null">
				#{selfVolume,jdbcType=DECIMAL},
			</if>
			<if test="gps != null">
				#{gps,jdbcType=CHAR},
			</if>
			<if test="gpsProvider != null">
				#{gpsProvider,jdbcType=VARCHAR},
			</if>
			<if test="bargainVehicle != null">
				#{bargainVehicle,jdbcType=CHAR},
			</if>
			<if test="operatingLic != null">
				#{operatingLic,jdbcType=VARCHAR},
			</if>
			<if test="beginTimeOperatingLic != null">
				#{beginTimeOperatingLic,jdbcType=TIMESTAMP},
			</if>
			<if test="endTimeOperatingLic != null">
				#{endTimeOperatingLic,jdbcType=TIMESTAMP},
			</if>
			<if test="drivingLicense != null">
				#{drivingLicense,jdbcType=VARCHAR},
			</if>
			<if test="beginTimeDrivingLic != null">
				#{beginTimeDrivingLic,jdbcType=TIMESTAMP},
			</if>
			<if test="endTimeDrivingLic != null">
				#{endTimeDrivingLic,jdbcType=TIMESTAMP},
			</if>
			<if test="insureCard != null">
				#{insureCard,jdbcType=VARCHAR},
			</if>
			<if test="beginTimeInsureCard != null">
				#{beginTimeInsureCard,jdbcType=TIMESTAMP},
			</if>
			<if test="endTimeInsureCard != null">
				#{endTimeInsureCard,jdbcType=TIMESTAMP},
			</if>
			<if test="contact != null">
				#{contact,jdbcType=VARCHAR},
			</if>
			<if test="contactPhone != null">
				#{contactPhone,jdbcType=VARCHAR},
			</if>
			<if test="contactAddress != null">
				#{contactAddress,jdbcType=VARCHAR},
			</if>
			<if test="gpsNo != null">
				#{gpsNo,jdbcType=VARCHAR},
			</if>
			<if test="status != null">
				#{status,jdbcType=VARCHAR},
			</if>
			<if test="createDate != null">
				#{createDate,jdbcType=TIMESTAMP},
			</if>
			<if test="modifyDate != null">
				#{modifyDate,jdbcType=TIMESTAMP},
			</if>
			<if test="active != null">
				#{active,jdbcType=CHAR},
			</if>
			<if test="createUser != null">
				#{createUser,jdbcType=VARCHAR},
			</if>
			<if test="modifyUser != null">
				#{modifyUser,jdbcType=VARCHAR},
			</if>
			<if test="notes != null">
				#{notes,jdbcType=VARCHAR},
			</if>
			<if test="vehicleType != null">
				#{vehicleType,jdbcType=VARCHAR},
			</if>
			<if test="vehicleLengthCode != null">
				#{vehicleLengthCode,jdbcType=VARCHAR},
			</if>
			<if test="bargainRoute != null">
				#{bargainRoute,jdbcType=VARCHAR},
			</if>
			<if test="producingArea != null">
				#{producingArea,jdbcType=VARCHAR},
			</if>
			<if test="brand != null">
				#{brand,jdbcType=VARCHAR},
			</if>
			<if test="leasedDriverIdCard != null">
				#{leasedDriverIdCard,jdbcType=VARCHAR},
			</if>
			<if test="createUserDept != null">
				#{createUserDept,jdbcType=VARCHAR},
			</if>
			<if test="modifyUserDept != null">
				#{modifyUserDept,jdbcType=VARCHAR}
			</if>
		</trim>
	</insert>
	<!-- 修改外请车（拖头、挂车、厢式车）信息  -->
	<update id="updateLeasedVehicleBySelective"
		parameterType="com.deppon.foss.module.base.baseinfo.api.shared.domain.LeasedTruckEntity">
		update/** 综合:修改外请车（拖头、挂车、厢式车）信息  **/ BSE.T_BAS_LEASED_TRUCK
		<set>
			<if test="vehicleNo != null">
				VEHICLE_NO = #{vehicleNo,jdbcType=VARCHAR},
			</if>
			<if test="vehicleFrameNo != null">
				VEHICLE_FRAME_NO = #{vehicleFrameNo,jdbcType=VARCHAR},
			</if>
			<if test="engineNo != null">
				ENGINE_NO = #{engineNo,jdbcType=VARCHAR},
			</if>
			<if test="bridge != null">
				BRIDGE = #{bridge,jdbcType=VARCHAR},
			</if>
			<if test="deadLoad != null">
				DEAD_LOAD = #{deadLoad,jdbcType=DECIMAL},
			</if>
			<if test="selfWeight != null">
				SELF_WEIGHT = #{selfWeight,jdbcType=DECIMAL},
			</if>
			<if test="beginTime != null">
				BEGIN_TIME = #{beginTime,jdbcType=TIMESTAMP},
			</if>
			<if test="endTime != null">
				END_TIME = #{endTime,jdbcType=TIMESTAMP},
			</if>
			<if test="plat != null">
				<![CDATA[ PLAT = #{plat,jdbcType=CHAR}, ]]>
			</if>
			<if test="tailBoard != null">
				TAIL_BOARD = #{tailBoard,jdbcType=CHAR},
			</if>
			<if test="vehicleLength != null">
				VEHICLE_LENGTH = #{vehicleLength,jdbcType=DECIMAL},
			</if>
			<if test="vehicleWidth != null">
				VEHICLE_WIDTH = #{vehicleWidth,jdbcType=DECIMAL},
			</if>
			<if test="vehicleHeight != null">
				VEHICLE_HEIGHT = #{vehicleHeight,jdbcType=DECIMAL},
			</if>
			<if test="openVehicle != null">
				OPEN_VEHICLE = #{openVehicle,jdbcType=CHAR},
			</if>
			<if test="railVehicle != null">
				RAIL_VEHICLE = #{railVehicle,jdbcType=CHAR},
			</if>
			<if test="material != null">
				MATERIAL = #{material,jdbcType=VARCHAR},
			</if>
			<if test="selfVolume != null">
				SELF_VOLUME = #{selfVolume,jdbcType=DECIMAL},
			</if>
			<if test="gps != null">
				<![CDATA[ GPS = #{gps,jdbcType=CHAR}, ]]>
			</if>
			<if test="gpsProvider != null">
				GPS_PROVIDER = #{gpsProvider,jdbcType=VARCHAR},
			</if>
			<if test="bargainVehicle != null">
				BARGAIN_VEHICLE = #{bargainVehicle,jdbcType=CHAR},
			</if>
			<if test="operatingLic != null">
				OPERATING_LIC = #{operatingLic,jdbcType=VARCHAR},
			</if>
			<if test="beginTimeOperatingLic != null">
				BEGIN_TIME_OPERATING_LIC = #{beginTimeOperatingLic,jdbcType=TIMESTAMP},
			</if>
			<if test="endTimeOperatingLic != null">
				END_TIME_OPERATING_LIC = #{endTimeOperatingLic,jdbcType=TIMESTAMP},
			</if>
			<if test="drivingLicense != null">
				DRIVING_LICENSE = #{drivingLicense,jdbcType=VARCHAR},
			</if>
			<if test="beginTimeDrivingLic != null">
				BEGIN_TIME_DRIVING_LIC = #{beginTimeDrivingLic,jdbcType=TIMESTAMP},
			</if>
			<if test="endTimeDrivingLic != null">
				END_TIME_DRIVING_LIC = #{endTimeDrivingLic,jdbcType=TIMESTAMP},
			</if>
			<if test="insureCard != null">
				INSURE_CARD = #{insureCard,jdbcType=VARCHAR},
			</if>
			<if test="beginTimeInsureCard != null">
				BEGIN_TIME_INSURE_CARD = #{beginTimeInsureCard,jdbcType=TIMESTAMP},
			</if>
			<if test="endTimeInsureCard != null">
				END_TIME_INSURE_CARD = #{endTimeInsureCard,jdbcType=TIMESTAMP},
			</if>
			<if test="contact != null">
				CONTACT = #{contact,jdbcType=VARCHAR},
			</if>
			<if test="contactPhone != null">
				CONTACT_PHONE = #{contactPhone,jdbcType=VARCHAR},
			</if>
			<if test="contactAddress != null">
				CONTACT_ADDRESS = #{contactAddress,jdbcType=VARCHAR},
			</if>
			<if test="gpsNo != null">
				GPS_NO = #{gpsNo,jdbcType=VARCHAR},
			</if>
			<if test="status != null">
				STATUS = #{status,jdbcType=VARCHAR},
			</if>
			<if test="createDate != null">
				CREATE_TIME = #{createDate,jdbcType=TIMESTAMP},
			</if>
			<if test="modifyDate != null">
				MODIFY_TIME = #{modifyDate,jdbcType=TIMESTAMP},
			</if>
			<if test="active != null">
				ACTIVE = #{active,jdbcType=CHAR},
			</if>
			<if test="createUser != null">
				CREATE_USER_CODE = #{createUser,jdbcType=VARCHAR},
			</if>
			<if test="modifyUser != null">
				MODIFY_USER_CODE = #{modifyUser,jdbcType=VARCHAR},
			</if>
			<if test="notes != null">
				NOTES = #{notes,jdbcType=VARCHAR},
			</if>
			<if test="vehicleType != null">
				VEHICLE_TYPE = #{vehicleType,jdbcType=VARCHAR},
			</if>
			<if test="vehicleLengthCode != null">
				VEHICLE_LENGHT_CODE = #{vehicleLengthCode,jdbcType=VARCHAR},
			</if>
			<if test="bargainRoute != null">
				BARGAIN_ROUTE = #{bargainRoute,jdbcType=VARCHAR},
			</if>
			<if test="producingArea != null">
				PRODUCING_AREA = #{producingArea,jdbcType=VARCHAR},
			</if>
			<if test="brand != null">
				BRAND = #{brand,jdbcType=VARCHAR},
			</if>
			<if test="leasedDriverIdCard != null">
				LEASED_DRIVER_ID_CARD = #{leasedDriverIdCard,jdbcType=VARCHAR},
			</if>
			<if test="createUserDept != null">
				CREATE_USER_DEPT =#{createUserDept,jdbcType=VARCHAR}, 
			</if>
			<if test="modifyUserDept != null">
				MODIFY_USER_DEPT =#{modifyUserDept,jdbcType=VARCHAR},
			</if>
			<if test="measureEmployeeName != null">
				MEASURE_EMPLOYEE_NAME =#{measureEmployeeName,jdbcType=VARCHAR},
			</if>
			<if test="measureManagerName != null">
				MEASURE_MANAGER_NAME =#{measureManagerName,jdbcType=VARCHAR},
			</if>
			<if test="measureSeniorManagerName != null">
				MEASURE_SENIOR_MANAGER_NAME =#{measureSeniorManagerName,jdbcType=VARCHAR},
			</if>
			<if test="measureEmployeeCode != null">
				MEASURE_EMPLOYEE_CODE =#{measureEmployeeCode,jdbcType=VARCHAR},
			</if>
			<if test="measureManagerCode != null">
				MEASURE_MANAGER_CODE =#{measureManagerCode,jdbcType=VARCHAR},
			</if>
			<if test="measureSeniorManagerCode != null">
				MEASURE_SENIOR_MANAGER_CODE =#{measureSeniorManagerCode,jdbcType=VARCHAR},
			</if>
		</set>
		where ID = #{id,jdbcType=VARCHAR}
	</update>
	<update id="updateLeasedVehicleActiveStatusByBatchIds" parameterType="java.util.Map">
		<![CDATA[ update BSE.T_BAS_LEASED_TRUCK ]]>
		<set>
			<if test="modifyUser != null">
				MODIFY_USER_CODE = #{modifyUser,jdbcType=VARCHAR},
			</if>
			<if test="modifyDate != null">
				MODIFY_TIME = #{modifyDate,jdbcType=TIMESTAMP},
			</if>
			<if test="modifyUserDept != null">
				MODIFY_USER_DEPT =#{modifyUserDept,jdbcType=VARCHAR},
			</if>
			<if test="active != null">
				ACTIVE = #{active,jdbcType=CHAR},
			</if>
		</set>
		<trim prefix="WHERE" prefixOverrides="AND | OR">
			<foreach collection="ids" item="id">
				<if test="id != null and id != ''">
					OR ID = #{id,jdbcType=VARCHAR}
				</if>
			</foreach>
		</trim>
	</update>
	<update id="updateLeasedVehicle"
		parameterType="com.deppon.foss.module.base.baseinfo.api.shared.domain.LeasedTruckEntity">
		update BSE.T_BAS_LEASED_TRUCK
		set VEHICLE_NO = #{vehicleNo,jdbcType=VARCHAR},
		VEHICLE_FRAME_NO = #{vehicleFrameNo,jdbcType=VARCHAR},
		ENGINE_NO = #{engineNo,jdbcType=VARCHAR},
		BRIDGE = #{bridge,jdbcType=VARCHAR},
		DEAD_LOAD = #{deadLoad,jdbcType=DECIMAL},
		SELF_WEIGHT = #{selfWeight,jdbcType=DECIMAL},
		BEGIN_TIME = #{beginTime,jdbcType=TIMESTAMP},
		END_TIME = #{endTime,jdbcType=TIMESTAMP},
		<![CDATA[ PLAT = #{plat,jdbcType=CHAR}, ]]>
		TAIL_BOARD = #{tailBoard,jdbcType=CHAR},
		VEHICLE_LENGTH = #{vehicleLength,jdbcType=DECIMAL},
		VEHICLE_WIDTH = #{vehicleWidth,jdbcType=DECIMAL},
		VEHICLE_HEIGHT = #{vehicleHeight,jdbcType=DECIMAL},
		OPEN_VEHICLE = #{openVehicle,jdbcType=CHAR},
		RAIL_VEHICLE = #{railVehicle,jdbcType=CHAR},
		MATERIAL = #{material,jdbcType=VARCHAR},
		SELF_VOLUME = #{selfVolume,jdbcType=DECIMAL},
		<![CDATA[ GPS = #{gps,jdbcType=CHAR}, ]]>
		GPS_PROVIDER = #{gpsProvider,jdbcType=VARCHAR},
		BARGAIN_VEHICLE = #{bargainVehicle,jdbcType=CHAR},
		OPERATING_LIC = #{operatingLic,jdbcType=VARCHAR},
		BEGIN_TIME_OPERATING_LIC = #{beginTimeOperatingLic,jdbcType=TIMESTAMP},
		END_TIME_OPERATING_LIC = #{endTimeOperatingLic,jdbcType=TIMESTAMP},
		DRIVING_LICENSE = #{drivingLicense,jdbcType=VARCHAR},
		BEGIN_TIME_DRIVING_LIC = #{beginTimeDrivingLic,jdbcType=TIMESTAMP},
		END_TIME_DRIVING_LIC = #{endTimeDrivingLic,jdbcType=TIMESTAMP},
		INSURE_CARD = #{insureCard,jdbcType=VARCHAR},
		BEGIN_TIME_INSURE_CARD = #{beginTimeInsureCard,jdbcType=TIMESTAMP},
		END_TIME_INSURE_CARD = #{endTimeInsureCard,jdbcType=TIMESTAMP},
		CONTACT = #{contact,jdbcType=VARCHAR},
		CONTACT_PHONE = #{contactPhone,jdbcType=VARCHAR},
		CONTACT_ADDRESS = #{contactAddress,jdbcType=VARCHAR},
		GPS_NO = #{gpsNo,jdbcType=VARCHAR},
		STATUS = #{status,jdbcType=VARCHAR},
		CREATE_TIME = #{createDate,jdbcType=TIMESTAMP},
		MODIFY_TIME = #{modifyDate,jdbcType=TIMESTAMP},
		ACTIVE = #{active,jdbcType=CHAR},
		CREATE_USER_CODE = #{createUser,jdbcType=VARCHAR},
		MODIFY_USER_CODE = #{modifyUser,jdbcType=VARCHAR},
		NOTES = #{notes,jdbcType=VARCHAR},
		VEHICLE_TYPE = #{vehicleType,jdbcType=VARCHAR},
		VEHICLE_LENGHT_CODE = #{vehicleLengthCode,jdbcType=VARCHAR},
		BARGAIN_ROUTE = #{bargainRoute,jdbcType=VARCHAR},
		PRODUCING_AREA = #{producingArea,jdbcType=VARCHAR},
		BRAND = #{brand,jdbcType=VARCHAR},
		LEASED_DRIVER_ID_CARD = #{leasedDriverIdCard,jdbcType=VARCHAR},
		CREATE_USER_DEPT =#{createUserDept,jdbcType=VARCHAR}, 
		MODIFY_USER_DEPT =#{modifyUserDept,jdbcType=VARCHAR}
		where ID = #{id,jdbcType=VARCHAR}
	</update>
	<!-- 接口服务 -->
	<resultMap id="leasedVehicleBaseDtoResultMap"
		type="com.deppon.foss.module.base.baseinfo.api.shared.dto.VehicleBaseDto">
		<result column="DTO_VEHICLE_NO" property="vehicleNo" jdbcType="VARCHAR" />
	    <result column="DTO_VEHICLE_DEADLOAD" property="vehicleDeadLoad" jdbcType="DECIMAL" />
	    <result column="DTO_VEHICLE_SELFVOLUME" property="vehicleSelfVolume" jdbcType="DECIMAL" />
	    <result column="DTO_VEHICLE_GPS" property="vehicleGps" jdbcType="CHAR" />
	    <result column="DTO_VEHICLE_TAILBOARD" property="tailBoard" jdbcType="VARCHAR" />
	    <result column="DTO_VEHICLE_OPENVEHICLE" property="openVehicle" jdbcType="VARCHAR" />
	    <result column="DTO_VEHICLE_LENGTH" property="vehicleLength" jdbcType="DECIMAL" />
	    <result column="DTO_VEHICLE_WIDTH" property="vehicleWidth" jdbcType="DECIMAL" />
	    <result column="DTO_VEHICLE_HEIGHT" property="vehicleHeight" jdbcType="DECIMAL" />
	    <result column="DTO_VEHICLE_LENGTHCODE" property="vehicleLengthCode" jdbcType="VARCHAR" />
	    <result column="DTO_VEHICLE_BARGAINVEHICLE" property="bargainVehicle" jdbcType="VARCHAR" />
	    <result column="DTO_VEHICLE_TYPE" property="vehicleType" jdbcType="VARCHAR" />
	    <result column="DTO_BEGIN_TIME" property="beginTime" jdbcType="TIMESTAMP" />
	    <result column="DTO_END_TIME" property="endTime" jdbcType="TIMESTAMP" />
	</resultMap>
	<resultMap id="leasedDriverBaseDtoResultMap"
		type="com.deppon.foss.module.base.baseinfo.api.shared.dto.DriverBaseDto">
		<result column="DTO_DRIVER_IDCARD" property="driverIdCard" jdbcType="VARCHAR" />
		<result column="DTO_DRIVER_NAME" property="driverName" jdbcType="VARCHAR" />
		<result column="DTO_DRIVER_PHONE" property="driverPhone" jdbcType="VARCHAR" />
	</resultMap>
	<sql id="leasedVehicleBaseDto_ResultMap_Param">
		<![CDATA[ 
			truck.VEHICLE_NO as DTO_VEHICLE_NO,
			truck.DEAD_LOAD as DTO_VEHICLE_DEADLOAD,
			truck.SELF_VOLUME as DTO_VEHICLE_SELFVOLUME,
			truck.GPS as DTO_VEHICLE_GPS,
			truck.TAIL_BOARD as DTO_VEHICLE_TAILBOARD,
			truck.OPEN_VEHICLE as DTO_VEHICLE_OPENVEHICLE,
			truck.VEHICLE_LENGTH as DTO_VEHICLE_LENGTH,
			truck.VEHICLE_WIDTH as DTO_VEHICLE_WIDTH,
			truck.VEHICLE_HEIGHT as DTO_VEHICLE_HEIGHT,
			truck.VEHICLE_LENGHT_CODE as DTO_VEHICLE_LENGTHCODE,
			truck.BARGAIN_VEHICLE as DTO_VEHICLE_BARGAINVEHICLE,
			truck.VEHICLE_TYPE as DTO_VEHICLE_TYPE,
			truck.BEGIN_TIME as DTO_BEGIN_TIME,
			truck.END_TIME as DTO_END_TIME
		]]>
	</sql>
	<sql id="leasedVehicleAssociationDto_ResultMap_Param">
		<![CDATA[ 
			vetype.VEHICLE_LENGTH as DTO_VEHICLE_VEHICLELENGTH,
			vetype.VEHICLE_LENGTH_NAME as DTO_VEHICLE_LENGTHNAME
		]]>
	</sql>
	<sql id="leasedDriverBaseDto_ResultMap_Param">
		<![CDATA[ 
			driver.DRIVER_NAME as DTO_DRIVER_NAME,
			driver.DRIVER_PHONE as DTO_DRIVER_PHONE,
			driver.ID_CARD as DTO_DRIVER_IDCARD
		]]>
	</sql>
	<select id="queryLeasedVehicleBaseDtosByVehicleNos" 
		parameterType="java.util.Map" resultMap="leasedVehicleBaseDtoResultMap">
		SELECT 
		/** 综合:接口服务 **/
 		<include refid="leasedVehicleBaseDto_ResultMap_Param"/>	
		FROM BSE.T_BAS_LEASED_TRUCK truck
		<trim prefix="WHERE" prefixOverrides="AND | OR">
		 	<foreach collection="vehicleNos" item="vehicleNo">
		 		<if test="vehicleNo != null and vehicleNo != ''">
		 			OR truck.VEHICLE_NO = #{vehicleNo,jdbcType=VARCHAR}
		 		</if>
		 	</foreach>
		 	<if test="active != null and active != ''">
				AND truck.ACTIVE = #{active,jdbcType=CHAR}
			</if>
		 </trim>
	</select>
	<resultMap id="leasedVehicleWithDriverDtoResultMap"
		type="com.deppon.foss.module.base.baseinfo.api.shared.dto.LeasedVehicleWithDriverDto">
		<result column="DTO_VEHICLE_NO" property="leasedVehicle.vehicleNo" jdbcType="VARCHAR" />
	    <result column="DTO_VEHICLE_DEADLOAD" property="leasedVehicle.vehicleDeadLoad" jdbcType="DECIMAL" />
	    <result column="DTO_VEHICLE_SELFVOLUME" property="leasedVehicle.vehicleSelfVolume" jdbcType="DECIMAL" />
	    <result column="DTO_VEHICLE_LENGTH" property="leasedVehicle.vehicleLength" jdbcType="DECIMAL" />
		<result column="DTO_VEHICLE_WIDTH" property="leasedVehicle.vehicleWidth" jdbcType="DECIMAL" />
	    <result column="DTO_VEHICLE_HEIGHT" property="leasedVehicle.vehicleHeight" jdbcType="DECIMAL" />
	    <result column="DTO_VEHICLE_GPS" property="leasedVehicle.vehicleGps" jdbcType="CHAR" />
	    <result column="DTO_VEHICLE_TAILBOARD" property="leasedVehicle.tailBoard" jdbcType="VARCHAR" />
	    <result column="DTO_VEHICLE_OPENVEHICLE" property="leasedVehicle.openVehicle" jdbcType="VARCHAR" />
	    <result column="DTO_VEHICLE_LENGTHCODE" property="leasedVehicle.vehicleLengthCode" jdbcType="VARCHAR" />
	    <result column="DTO_VEHICLE_LENGTHNAME" property="leasedVehicle.vehicleLengthName" jdbcType="VARCHAR" />
	    <result column="DTO_VEHICLE_BARGAINVEHICLE" property="leasedVehicle.bargainVehicle" jdbcType="VARCHAR" />
		<result column="DTO_DRIVER_IDCARD" property="leasedDriver.driverIdCard" jdbcType="VARCHAR" />
		<result column="DTO_DRIVER_NAME" property="leasedDriver.driverName" jdbcType="VARCHAR" />
		<result column="DTO_DRIVER_PHONE" property="leasedDriver.driverPhone" jdbcType="VARCHAR" />
		<result column="DTO_VEHICLE_VEHICLELENGTH" property="leasedVehicle.vehicleLength" jdbcType="DECIMAL" />
		<result column="DTO_BEGIN_TIME" property="leasedVehicle.beginTime" jdbcType="TIMESTAMP" />
		<result column="DTO_END_TIME" property="leasedVehicle.endTime" jdbcType="TIMESTAMP" />
	</resultMap>
	<select id="queryLeasedVehicleWithDriverDtosByCondition"
		parameterType="java.util.Map" resultMap="leasedVehicleWithDriverDtoResultMap">
		<![CDATA[ 
			SELECT DISTINCT
		]]>
		<include refid="leasedVehicleBaseDto_ResultMap_Param"/>,
		<include refid="leasedDriverBaseDto_ResultMap_Param"/>,
		<include refid="leasedVehicleAssociationDto_ResultMap_Param"/>
		<![CDATA[ 
			FROM BSE.T_BAS_LEASED_TRUCK truck
			LEFT JOIN BSE.T_BAS_LEASED_DRIVER driver ON truck.LEASED_DRIVER_ID_CARD = driver.id_card
			LEFT JOIN BSE.T_BAS_VEHICLE_TYPE_LENGTH vetype ON truck.VEHICLE_LENGHT_CODE = vetype.VEHICLE_LENGTH_CODE
		]]>
		<trim prefix="WHERE" prefixOverrides="AND | OR">
			<if test="vehicleNo != null and vehicleNo !=''">
	 			truck.VEHICLE_NO = #{vehicleNo,jdbcType=VARCHAR}
	 		</if> 
	 		<if test="vehicleLengthCode != null and vehicleLengthCode !=''">
	 			AND vetype.VEHICLE_LENGTH_CODE = #{vehicleLengthCode,jdbcType=VARCHAR}
	 		</if>
	 		<if test="driverName != null and driverName !=''">
	 			AND driver.DRIVER_NAME like CONCAT(CONCAT('%', #{driverName}), '%')
	 		</if>
	 		<if test="driverPhone != null and driverPhone !=''">
	 			AND driver.DRIVER_PHONE = #{driverPhone,jdbcType=VARCHAR}
	 		</if>
	 		<if test="openVehicle != null and openVehicle !=''">
	 			AND truck.OPEN_VEHICLE = #{openVehicle,jdbcType=CHAR}
	 		</if>
		 	<if test="active != null and active !=''">
				AND truck.ACTIVE = #{active,jdbcType=CHAR} AND (driver.ACTIVE = #{active,jdbcType=CHAR} OR driver.ACTIVE IS NULL ) AND (vetype.ACTIVE = #{active,jdbcType=CHAR} OR vetype.ACTIVE IS NULL)
			</if>
			<if test="status != null and status !=''">
	 			AND truck.STATUS = #{status,jdbcType=VARCHAR}
	 		</if> 
		</trim>
	</select>
	<select id="countQueryLeasedVehicleRecordCountBySelectiveCondition" parameterType="java.util.Map" resultType="java.lang.Long" >
			SELECT COUNT(DISTINCT truck.VEHICLE_NO)
			FROM BSE.T_BAS_LEASED_TRUCK truck
			LEFT JOIN BSE.T_BAS_LEASED_DRIVER driver ON truck.LEASED_DRIVER_ID_CARD = driver.id_card
			LEFT JOIN BSE.T_BAS_VEHICLE_TYPE_LENGTH vetype ON truck.VEHICLE_LENGHT_CODE = vetype.VEHICLE_LENGTH_CODE
		<trim prefix="WHERE" prefixOverrides="AND | OR">
			
			<if test="vehicleNo != null and vehicleNo !=''">
	 			truck.VEHICLE_NO = #{vehicleNo,jdbcType=VARCHAR}
	 		</if>
	 		<if test="vehicleLengthCode != null and vehicleLengthCode !=''">
	 			AND vetype.VEHICLE_LENGTH_CODE = #{vehicleLengthCode,jdbcType=VARCHAR}
	 		</if>
	 		<if test="driverName != null and driverName !=''">
	 			AND driver.DRIVER_NAME like CONCAT(CONCAT('%', #{driverName}), '%')
	 		</if>
	 		<if test="driverPhone != null and driverPhone !=''">
	 			AND driver.DRIVER_PHONE = #{driverPhone,jdbcType=VARCHAR}
	 		</if>
	 		<if test="openVehicle != null and openVehicle !=''">
	 			AND truck.OPEN_VEHICLE = #{openVehicle,jdbcType=CHAR}
	 		</if>
		 	<if test="active != null and active !=''">
				AND truck.ACTIVE = #{active,jdbcType=CHAR} AND (driver.ACTIVE = #{active,jdbcType=CHAR} OR driver.ACTIVE IS NULL ) AND (vetype.ACTIVE = #{active,jdbcType=CHAR} OR vetype.ACTIVE IS NULL)
			</if>
			<if test="status != null and status !=''">
	 			AND truck.STATUS = #{status,jdbcType=VARCHAR}
	 		</if> 
		</trim>
	</select>
	
	<!-- 外清车(厢式车)绑定车队查询 -->
	<select id="queryLeasedVehicleTeamList" resultMap="leasedTruckResultMap"
		parameterType="com.deppon.foss.module.base.baseinfo.api.shared.domain.LeasedTruckEntity">
		SELECT 
		     t.VEHICLE_NO,d.driver_name,d.driver_phone,t.DEAD_LOAD,t.SELF_WEIGHT,t.SELF_VOLUME,t.VEHICLE_LENGTH,
		     (TE.CREATE_USER_CODE ||':'||TE.OPERATOR_NAME) OPERATOR_NAME
		     ,TD.NAME,TE.ORG_CODE
		FROM 
			BSE.T_BAS_LEASED_TRUCK T  
		 	INNER JOIN BSE.T_BAS_WHITELIST_AUDIT W ON T.vehicle_no = W.vehicle_no AND T.ACTIVE='Y' 
		 	AND T.vehicle_type='vehicletype_van' AND W.status='audit_available' AND W.WHITELIST_TYPE = 'BES_WHITELISTS_TYPE_VEHICLE'
		 	LEFT JOIN BSE.T_BAS_LEASED_DRIVER D ON T.LEASED_DRIVER_ID_CARD = D.ID_CARD AND D.ACTIVE='Y'
		 	LEFT JOIN BSE.T_BAS_LEASED_TRUCK_TEAM TE  ON TE.VEHICLE_NO = T.VEHICLE_NO AND TE.ACTIVE='Y'
		 	LEFT JOIN BSE.T_BAS_TRANS_DEPARTMENT TD  ON TE.ORG_CODE = TD.CODE AND TD.ACTIVE='Y'
		<include refid="leasedTruck_tream_param"/>
	</select>
	
	<!-- 外清车(厢式车)绑定车队总数查询 -->
	<select id="queryqueryLeasedVehicleTeamListTotal" resultType="java.lang.Long"
		parameterType="com.deppon.foss.module.base.baseinfo.api.shared.domain.LeasedTruckEntity">
		<![CDATA[ select count(*) FROM 
			BSE.T_BAS_LEASED_TRUCK T  
		 	INNER JOIN BSE.T_BAS_WHITELIST_AUDIT W ON T.vehicle_no = W.vehicle_no AND T.ACTIVE='Y' 
		 	AND T.vehicle_type='vehicletype_van' AND W.status='audit_available' AND W.WHITELIST_TYPE = 'BES_WHITELISTS_TYPE_VEHICLE'
		 	LEFT JOIN BSE.T_BAS_LEASED_DRIVER D ON T.LEASED_DRIVER_ID_CARD = D.ID_CARD AND D.ACTIVE='Y'
		 	LEFT JOIN BSE.T_BAS_LEASED_TRUCK_TEAM TE  ON TE.VEHICLE_NO = T.VEHICLE_NO AND TE.ACTIVE='Y'
		 	LEFT JOIN BSE.T_BAS_TRANS_DEPARTMENT TD  ON TE.ORG_CODE = TD.CODE AND TD.ACTIVE='Y'
		 ]]>
		<include refid="leasedTruck_tream_param"/>
	</select>
	
	<sql id="leasedTruck_tream_param">
		<include refid="leasedTruck_Pagination_Where_Base_Param"/>
		<if test="vehicleNo != null and vehicleNo != ''">
			AND T.VEHICLE_NO like CONCAT(CONCAT('%', #{vehicleNo,jdbcType=VARCHAR}), '%')
		</if>
		<if test="operatingLic != null and operatingLic != ''">
			AND T.OPERATING_LIC like CONCAT(CONCAT('%', #{operatingLic,jdbcType=VARCHAR}), '%')
		</if>
		<if test="drivingLicense != null and drivingLicense != ''">
			AND T.DRIVING_LICENSE like CONCAT(CONCAT('%', #{drivingLicense,jdbcType=VARCHAR}), '%')
		</if>
		<if test="leasedDriverName != null and leasedDriverName != ''">
			AND D.DRIVER_NAME like CONCAT(CONCAT('%', #{leasedDriverName,jdbcType=VARCHAR}), '%')
		</if>
		<if test="driverPhone != null and driverPhone != ''">
			AND D.DRIVER_PHONE like CONCAT(CONCAT('%', #{driverPhone,jdbcType=VARCHAR}), '%')
		</if>
		<if test="leasedDriverIdCard != null and leasedDriverIdCard != ''">
			AND T.LEASED_DRIVER_ID_CARD like CONCAT(CONCAT('%', #{leasedDriverIdCard,jdbcType=VARCHAR}), '%')
		</if>
		<if test="orgCode != null and orgCode != ''">
			AND TE.ORG_CODE = #{orgCode,jdbcType=VARCHAR}
			AND TE.ACTIVE='Y'
		</if>
		AND T.active='Y' AND D.active='Y' AND T.vehicle_type='vehicletype_van'
		 	AND W.status='audit_available' AND W.active='Y' 
		ORDER BY TE.ORG_CODE DESC,T.CREATE_TIME DESC,T.VEHICLE_NO
	</sql>
	
	<!-- 外清车厢式车绑定车队 -->
	<insert id="insert_leasedTruck_tream" parameterType="java.util.List">
			<![CDATA[ 
				insert/** 综合:新增外请车厢式车车队  **/ 
				into BSE.T_BAS_LEASED_TRUCK_TEAM (
			]]>
			VEHICLE_NO, ORG_CODE, CREATE_TIME,
			MODIFY_TIME, ACTIVE, CREATE_USER_CODE,
			MODIFY_USER_CODE, OPERATOR_NAME
			<![CDATA[
				)
			]]>
		<foreach collection="list" item="item" index="index" separator="union all"> 
			(
				SELECT 
				#{item.vehicleNo,jdbcType=VARCHAR}, #{item.orgCode,jdbcType=VARCHAR},
				#{item.createDate,jdbcType=TIMESTAMP},#{item.modifyDate,jdbcType=TIMESTAMP}, 
				#{item.active,jdbcType=VARCHAR}, #{item.createUser,jdbcType=VARCHAR},
				#{item.modifyUser,jdbcType=VARCHAR}, #{item.operatorName,jdbcType=VARCHAR}
				
				FROM DUAL
			)
		</foreach>
		
	</insert>
	
	<update id="update_leasedTruck_tream" parameterType="java.util.Map">
		update/** 综合:修改外请车（厢式车）车队信息  **/ BSE.T_BAS_LEASED_TRUCK_TEAM
		<set>
			<if test="active != null">
				ACTIVE = #{active,jdbcType=VARCHAR},
			</if>
			<if test="modifyDate != null">
				MODIFY_TIME = #{modifyDate,jdbcType=TIMESTAMP},
			</if>
			<if test="modifyUser != null">
				MODIFY_USER_CODE = #{modifyUser,jdbcType=VARCHAR},
			</if>
			<if test="operatorName != null">
				OPERATOR_NAME = #{operatorName,jdbcType=VARCHAR},
			</if>
		</set>
		where ACTIVE = 'Y' and VEHICLE_NO in 
		<foreach collection="vehicleNos" item="vehicleNo" index="index" open="(" separator="," close=")" >
        	#{vehicleNo}
    	</foreach>
	</update>
	
	<!-- 结算使用，通过车牌号获取司机电话 -->
	<select id="queryLeasedVehicleDriverByVehicleNo" resultType="java.lang.String"
		parameterType="com.deppon.foss.module.base.baseinfo.api.shared.domain.LeasedTruckEntity">
		select
	     DISTINCT D.DRIVER_PHONE
	    from BSE.T_BAS_LEASED_DRIVER D
	    JOIN BSE.T_BAS_LEASED_TRUCK T ON T.LEASED_DRIVER_ID_CARD = D.ID_CARD
			AND D.ACTIVE='Y' AND T.ACTIVE='Y'
		<where>
			T.Vehicle_No = #{vehicleNo,jdbcType=VARCHAR}
		</where>
	</select>
	
	<!-- 通过外请车车牌号获取服务车队 -->
	<select id="queryLeasedVehicleTeam" resultMap="leasedTruckResultMap"
		parameterType="com.deppon.foss.module.base.baseinfo.api.shared.domain.LeasedTruckEntity">
		SELECT DISTINCT T.ORG_CODE, O.NAME
		  FROM BSE.T_BAS_LEASED_TRUCK_TEAM T JOIN BSE.T_BAS_ORG O ON T.ORG_CODE = O.CODE 
		  AND T.ACTIVE = 'Y' AND O.ACTIVE='Y'
		 <where>
		 	 T.VEHICLE_NO = #{vehicleNo,jdbcType=VARCHAR}
		 </where>
	</select>
</mapper>