<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="foss.pkp.WaybillEntityMapper" >
  <resultMap id="BaseResultMap" type="com.deppon.foss.module.pickup.waybill.shared.domain.WaybillEntity" >
    <id column="ID" property="id" jdbcType="VARCHAR" />
    <result column="WAYBILL_NO" property="waybillNo" jdbcType="VARCHAR" />
    <result column="ORDER_NO" property="orderNo" jdbcType="VARCHAR" />
    <result column="DELIVERY_CUSTOMER_ID" property="deliveryCustomerId" jdbcType="VARCHAR" />
    <result column="DELIVERY_CUSTOMER_CODE" property="deliveryCustomerCode" jdbcType="VARCHAR" />
    <result column="DELIVERY_CUSTOMER_NAME" property="deliveryCustomerName" jdbcType="VARCHAR" />
    <result column="DELIVERY_CUSTOMER_MOBILEPHONE" property="deliveryCustomerMobilephone" jdbcType="VARCHAR" />
    <result column="DELIVERY_CUSTOMER_PHONE" property="deliveryCustomerPhone" jdbcType="VARCHAR" />
    <result column="DELIVERY_CUSTOMER_CONTACT" property="deliveryCustomerContact" jdbcType="VARCHAR" />
    <result column="DELIVERY_CUSTOMER_NATION_CODE" property="deliveryCustomerNationCode" jdbcType="VARCHAR" />
    <result column="DELIVERY_CUSTOMER_PROV_CODE" property="deliveryCustomerProvCode" jdbcType="VARCHAR" />
    <result column="DELIVERY_CUSTOMER_CITY_CODE" property="deliveryCustomerCityCode" jdbcType="VARCHAR" />
    <result column="DELIVERY_CUSTOMER_DIST_CODE" property="deliveryCustomerDistCode" jdbcType="VARCHAR" />
    <result column="DELIVERY_CUSTOMER_ADDRESS" property="deliveryCustomerAddress" jdbcType="VARCHAR" />
    <result column="RECEIVE_CUSTOMER_ID" property="receiveCustomerId" jdbcType="VARCHAR" />
    <result column="RECEIVE_CUSTOMER_CODE" property="receiveCustomerCode" jdbcType="VARCHAR" />
    <result column="RECEIVE_CUSTOMER_NAME" property="receiveCustomerName" jdbcType="VARCHAR" />
    <result column="RECEIVE_CUSTOMER_MOBILEPHONE" property="receiveCustomerMobilephone" jdbcType="VARCHAR" />
    <result column="RECEIVE_CUSTOMER_PHONE" property="receiveCustomerPhone" jdbcType="VARCHAR" />
    <result column="RECEIVE_CUSTOMER_CONTACT" property="receiveCustomerContact" jdbcType="VARCHAR" />
    <result column="RECEIVE_CUSTOMER_NATION_CODE" property="receiveCustomerNationCode" jdbcType="VARCHAR" />
    <result column="RECEIVE_CUSTOMER_PROV_CODE" property="receiveCustomerProvCode" jdbcType="VARCHAR" />
    <result column="RECEIVE_CUSTOMER_CITY_CODE" property="receiveCustomerCityCode" jdbcType="VARCHAR" />
    <result column="RECEIVE_CUSTOMER_DIST_CODE" property="receiveCustomerDistCode" jdbcType="VARCHAR" />
    <result column="RECEIVE_CUSTOMER_ADDRESS" property="receiveCustomerAddress" jdbcType="VARCHAR" />
    <result column="RECEIVE_ORG_CODE" property="receiveOrgCode" jdbcType="VARCHAR" />
    <result column="PRODUCT_ID" property="productId" jdbcType="VARCHAR" />
    <result column="PRODUCT_CODE" property="productCode" jdbcType="VARCHAR" />
    <result column="RECEIVE_METHOD" property="receiveMethod" jdbcType="VARCHAR" />
    <result column="CUSTOMER_PICKUP_ORG_CODE" property="customerPickupOrgCode" jdbcType="VARCHAR" />
    <result column="LOAD_METHOD" property="loadMethod" jdbcType="VARCHAR" />
    <result column="TARGET_ORG_CODE" property="targetOrgCode" jdbcType="VARCHAR" />
    <result column="PICKUP_TO_DOOR" property="pickupToDoor" jdbcType="CHAR" />
    <result column="DRIVER_CODE" property="driverCode" jdbcType="VARCHAR" />
    <result column="PICKUP_CENTRALIZED" property="pickupCentralized" jdbcType="CHAR" />
    <result column="LOAD_LINE_CODE" property="loadLineCode" jdbcType="VARCHAR" />
    <result column="LOAD_ORG_CODE" property="loadOrgCode" jdbcType="VARCHAR" />
    <result column="LAST_LOAD_ORG_CODE" property="lastLoadOrgCode" jdbcType="VARCHAR" />
    <result column="PRE_DEPARTURE_TIME" property="preDepartureTime" jdbcType="TIMESTAMP" />
    <result column="PRE_CUSTOMER_PICKUP_TIME" property="preCustomerPickupTime" jdbcType="TIMESTAMP" />
    <result column="CAR_DIRECT_DELIVERY" property="carDirectDelivery" jdbcType="CHAR" />
    <result column="GOODS_NAME" property="goodsName" jdbcType="VARCHAR" />
    <result column="GOODS_QTY_TOTAL" property="goodsQtyTotal" jdbcType="DECIMAL" />
    <result column="GOODS_WEIGHT_TOTAL" property="goodsWeightTotal" jdbcType="DECIMAL" />
    <result column="GOODS_VOLUME_TOTAL" property="goodsVolumeTotal" jdbcType="DECIMAL" />
    <result column="GOODS_SIZE" property="goodsSize" jdbcType="VARCHAR" />
    <result column="GOODS_TYPE_CODE" property="goodsTypeCode" jdbcType="VARCHAR" />
    <result column="PRECIOUS_GOODS" property="preciousGoods" jdbcType="CHAR" />
    <result column="SPECIAL_SHAPED_GOODS" property="specialShapedGoods" jdbcType="CHAR" />
    <result column="OUTER_NOTES" property="outerNotes" jdbcType="VARCHAR" />
    <result column="INNER_NOTES" property="innerNotes" jdbcType="VARCHAR" />
    <result column="GOODS_PACKAGE" property="goodsPackage" jdbcType="VARCHAR" />
    <result column="INSURANCE_AMOUNT" property="insuranceAmount" jdbcType="DECIMAL" />
    <result column="COD_AMOUNT" property="codAmount" jdbcType="DECIMAL" />
    <result column="COD_RATE" property="codRate" jdbcType="DECIMAL" />
    <result column="COD_FEE" property="codFee" jdbcType="DECIMAL" />
    <result column="REFUND_TYPE" property="refundType" jdbcType="VARCHAR" />
    <result column="RETURN_BILL_TYPE" property="returnBillType" jdbcType="VARCHAR" />
    <result column="SECRET_PREPAID" property="secretPrepaid" jdbcType="CHAR" />
    <result column="TO_PAY_AMOUNT" property="toPayAmount" jdbcType="DECIMAL" />
    <result column="PRE_PAY_AMOUNT" property="prePayAmount" jdbcType="DECIMAL" />
    <result column="DELIVERY_GOODS_FEE" property="deliveryGoodsFee" jdbcType="DECIMAL" />
    <result column="OTHER_FEE" property="otherFee" jdbcType="DECIMAL" />
    <result column="PACKAGE_FEE" property="packageFee" jdbcType="DECIMAL" />
    <result column="PROMOTIONS_FEE" property="promotionsFee" jdbcType="DECIMAL" />
    <result column="BILLING_TYPE" property="billingType" jdbcType="VARCHAR" />
    <result column="TRANSPORT_FEE" property="transportFee" jdbcType="DECIMAL" />
    <result column="VALUE_ADD_FEE" property="valueAddFee" jdbcType="DECIMAL" />
    <result column="PAID_METHOD" property="paidMethod" jdbcType="VARCHAR" />
    <result column="ARRIVE_TYPE" property="arriveType" jdbcType="VARCHAR" />
    <result column="ACTIVE" property="active" jdbcType="CHAR" />
    <result column="FORBIDDEN_LINE" property="forbiddenLine" jdbcType="CHAR" />
    <result column="FREIGHT_METHOD" property="freightMethod" jdbcType="VARCHAR" />
    <result column="FLIGHT_SHIFT" property="flightShift" jdbcType="VARCHAR" />
    <result column="TOTAL_FEE" property="totalFee" jdbcType="DECIMAL" />
    <result column="PROMOTIONS_CODE" property="promotionsCode" jdbcType="VARCHAR" />
    <result column="CREATE_TIME" property="createTime" jdbcType="TIMESTAMP" />
    <result column="MODIFY_TIME" property="modifyTime" jdbcType="TIMESTAMP" />
    <result column="BILL_TIME" property="billTime" jdbcType="TIMESTAMP" />
    <result column="CREATE_USER_CODE" property="createUserCode" jdbcType="VARCHAR" />
    <result column="MODIFY_USER_CODE" property="modifyUserCode" jdbcType="VARCHAR" />
    <result column="CREATE_ORG_CODE" property="createOrgCode" jdbcType="VARCHAR" />
    <result column="MODIFY_ORG_CODE" property="modifyOrgCode" jdbcType="VARCHAR" />
    <result column="REF_ID" property="refId" jdbcType="VARCHAR" />
    <result column="REF_CODE" property="refCode" jdbcType="VARCHAR" />
    <result column="CURRENCY_CODE" property="currencyCode" jdbcType="VARCHAR" />
    <result column="IS_WHOLE_VEHICLE" property="isWholeVehicle" jdbcType="CHAR" />
    <result column="WHOLE_VEHICLE_APPFEE" property="wholeVehicleAppfee" jdbcType="DECIMAL" />
    <result column="WHOLE_VEHICLE_ACTUALFEE" property="wholeVehicleActualfee" jdbcType="DECIMAL" />
    <result column="ACCOUNT_NAME" property="accountName" jdbcType="VARCHAR" />
    <result column="ACCOUNT_CODE" property="accountCode" jdbcType="VARCHAR" />
    <result column="ACCOUNT_BANK" property="accountBank" jdbcType="VARCHAR" />
    <result column="BILL_WEIGHT" property="billWeight" jdbcType="DECIMAL" />
    <result column="PICKUP_FEE" property="pickupFee" jdbcType="DECIMAL" />
    <result column="SERVICE_FEE" property="serviceFee" jdbcType="DECIMAL" />
    <result column="PRE_ARRIVE_TIME" property="preArriveTime" jdbcType="TIMESTAMP" />
    <result column="TRANSPORT_TYPE" property="transportType" jdbcType="VARCHAR" />
    <result column="ADD_TIME" property="addTime" jdbcType="TIMESTAMP" />
    <result column="INSURANCE_RATE" property="insuranceRate" jdbcType="DECIMAL" />
    <result column="INSURANCE_FEE" property="insuranceFee" jdbcType="DECIMAL" />
    <result column="UNIT_PRICE" property="unitPrice" jdbcType="DECIMAL" />
    <result column="CONTACT_ADDRESS_ID" property="contactAddressId" jdbcType="VARCHAR" />
    <result column="FLIGHT_NUMBER_TYPE" property="flightNumberType" jdbcType="VARCHAR" />
    <result column="COLLECTION_DEPARTMENT" property="collectionDepartment" jdbcType="VARCHAR" />
    <result column="TRANSPORTATION_REMARK" property="transportationRemark" jdbcType="VARCHAR" />
    <result column="IS_PASS_OWN_DEPARTMENT" property="isPassOwnDepartment" jdbcType="CHAR" />
    <result column="PAPER_NUM" property="paperNum" jdbcType="NUMERIC"/>
    <result column="WOOD_NUM"  property="woodNum" jdbcType="NUMERIC"/>
    <result column="FIBRE_NUM" property="fibreNum" jdbcType="NUMERIC"/>
    <result column="SALVER_NUM" property="salverNum" jdbcType="NUMERIC"/>
    <result column="MEMBRANE_NUM" property="membraneNum" jdbcType="NUMERIC"/>
    <result column="OTHER_PACKAGE" property="otherPackage" jdbcType="VARCHAR"/>
    <result column="DELIVERY_CUSTOMER_CONTACT_ID" property="deliverCustContactId" jdbcType="VARCHAR"/>
    <result column="RECEIVE_CUSTOMER_CONTACT_ID" property="receiverCustContactId" jdbcType="VARCHAR"/>
    <result column="PENDING_TYPE" property="pendingType" jdbcType="VARCHAR"/>
    <result column="LICENSE_PLATE_NUM" property="licensePlateNum" jdbcType="VARCHAR"/>
    <result column="ORDER_VEHICLE_NUM" property="orderVehicleNum" jdbcType="VARCHAR"/>
    <result column="CREATE_USER_NAME" property="createUserName" jdbcType="VARCHAR" />
	<result column="CREATE_USER_DEPT_NAME" property="createUserDeptName" jdbcType="VARCHAR" />
	<result column="RECEIVE_ORG_NAME" property="receiveOrgName" jdbcType="VARCHAR" />
	<result column="CUSTOMER_PICKUP_ORG_NAME" property="customerPickupOrgName" jdbcType="VARCHAR" />
	<result column="LOAD_ORG_NAME" property="loadOrgName" jdbcType="VARCHAR" />
	<result column="LAST_LOAD_ORG_NAME" property="lastLoadOrgName" jdbcType="VARCHAR" />
	<result column="KILOMETER" property="kilometer"
			jdbcType="DECIMAL" />
  </resultMap>

  <!--官网查询集合 -->
	<resultMap id="AccountingQueryDtoMap" type="com.deppon.foss.module.pickup.waybill.shared.dto.AccountingResultDto">
		<result column="waybillNum" property="waybillNum" jdbcType="VARCHAR" />
		<result column="orderNum" property="orderNum" jdbcType="VARCHAR" />
		<result column="sendDate" property="sendDate" jdbcType="VARCHAR" />
		<result column="departureName" property="departureName" jdbcType="VARCHAR" />
		<result column="departureAddress" property="departureAddress" jdbcType="VARCHAR" />
		<result column="departuretel" property="departuretel" jdbcType="VARCHAR" />
		<result column="departure" property="departure" jdbcType="VARCHAR" />
		<result column="shipperName" property="shipperName" jdbcType="VARCHAR" />
		<result column="shippertel" property="shippertel" jdbcType="VARCHAR" />
		<result column="shipperMobile" property="shipperMobile" jdbcType="VARCHAR" />
		<result column="shipperAddress" property="shipperAddress" jdbcType="VARCHAR" />
		<result column="consigneeName" property="consigneeName" jdbcType="VARCHAR" />
		<result column="consigneetel" property="consigneetel" jdbcType="VARCHAR" />
		<result column="consigneeMobile" property="consigneeMobile" jdbcType="VARCHAR" />
		<result column="consigneeAddress" property="consigneeAddress" jdbcType="VARCHAR" />
		<result column="goodsName" property="goodsName" jdbcType="VARCHAR" />
		<result column="weight" property="weight" jdbcType="FLOAT" />
		<result column="cubage" property="cubage" jdbcType="FLOAT" />
		<result column="pieces" property="pieces" jdbcType="INTEGER" />
		<result column="packing" property="packing" jdbcType="VARCHAR" />
		<result column="transProperties" property="transProperties" jdbcType="VARCHAR" />
		<result column="deliveryMode" property="deliveryMode" jdbcType="VARCHAR" />
		<result column="payWay" property="payWay" jdbcType="VARCHAR" />
		<result column="insurance" property="insurance" jdbcType="DECIMAL" />
		<result column="insuranceFee" property="insuranceFee" jdbcType="DECIMAL" />
		<result column="refundType" property="refundType" jdbcType="VARCHAR" />
		<result column="refund" property="refund" jdbcType="DECIMAL" />
		<result column="refundFee" property="refundFee" jdbcType="DECIMAL" />
		<result column="tranCharge" property="tranCharge" jdbcType="DECIMAL" />
		<result column="deliveryCharge" property="deliveryCharge" jdbcType="DECIMAL" />
		<result column="receiveCharge" property="receiveCharge" jdbcType="DECIMAL" />
		<result column="packingCharge" property="packingCharge" jdbcType="DECIMAL" />
		<result column="totalCharge" property="totalCharge" jdbcType="DECIMAL" />
		<result column="otherCharge" property="otherCharge" jdbcType="DECIMAL" />
		<result column="returnBillType" property="returnBillType" jdbcType="VARCHAR" />
		<result column="transDesc" property="transDesc" jdbcType="VARCHAR" />
		<result column="wayBillState" property="wayBillState" jdbcType="VARCHAR" />
		<result column="wayBillState" property="signedDate" jdbcType="TIMESTAMP" />
		<result column="destination" property="destination" jdbcType="VARCHAR" />
		<result column="stationName" property="stationName" jdbcType="VARCHAR" />
		<result column="stationaddress" property="stationaddress" jdbcType="VARCHAR" />
		<result column="stationtel" property="stationtel" jdbcType="VARCHAR" />
	</resultMap>
  
  
  
  
  <sql id="Base_Column_List" >
    ID, WAYBILL_NO, ORDER_NO, DELIVERY_CUSTOMER_ID, DELIVERY_CUSTOMER_CODE, DELIVERY_CUSTOMER_NAME, 
    DELIVERY_CUSTOMER_MOBILEPHONE, DELIVERY_CUSTOMER_PHONE, DELIVERY_CUSTOMER_CONTACT, 
    DELIVERY_CUSTOMER_NATION_CODE, DELIVERY_CUSTOMER_PROV_CODE, DELIVERY_CUSTOMER_CITY_CODE, 
    DELIVERY_CUSTOMER_DIST_CODE, DELIVERY_CUSTOMER_ADDRESS, RECEIVE_CUSTOMER_ID, RECEIVE_CUSTOMER_CODE, 
    RECEIVE_CUSTOMER_NAME, RECEIVE_CUSTOMER_MOBILEPHONE, RECEIVE_CUSTOMER_PHONE, RECEIVE_CUSTOMER_CONTACT, 
    RECEIVE_CUSTOMER_NATION_CODE, RECEIVE_CUSTOMER_PROV_CODE, RECEIVE_CUSTOMER_CITY_CODE, 
    RECEIVE_CUSTOMER_DIST_CODE, RECEIVE_CUSTOMER_ADDRESS, RECEIVE_ORG_CODE, PRODUCT_ID, 
    PRODUCT_CODE, RECEIVE_METHOD, CUSTOMER_PICKUP_ORG_CODE, LOAD_METHOD, TARGET_ORG_CODE, 
    PICKUP_TO_DOOR, DRIVER_CODE, PICKUP_CENTRALIZED, LOAD_LINE_CODE, LOAD_ORG_CODE, LAST_LOAD_ORG_CODE, 
    PRE_DEPARTURE_TIME, PRE_CUSTOMER_PICKUP_TIME, CAR_DIRECT_DELIVERY, GOODS_NAME, GOODS_QTY_TOTAL, 
    GOODS_WEIGHT_TOTAL, GOODS_VOLUME_TOTAL, GOODS_SIZE, GOODS_TYPE_CODE, PRECIOUS_GOODS, 
    SPECIAL_SHAPED_GOODS, OUTER_NOTES, INNER_NOTES, GOODS_PACKAGE, INSURANCE_AMOUNT, 
    COD_AMOUNT, COD_RATE, COD_FEE, REFUND_TYPE, RETURN_BILL_TYPE, SECRET_PREPAID, TO_PAY_AMOUNT, 
    PRE_PAY_AMOUNT, DELIVERY_GOODS_FEE, OTHER_FEE, PACKAGE_FEE, PROMOTIONS_FEE, BILLING_TYPE, 
    TRANSPORT_FEE, VALUE_ADD_FEE, PAID_METHOD, ARRIVE_TYPE, ACTIVE, FORBIDDEN_LINE, FREIGHT_METHOD, 
    FLIGHT_SHIFT, TOTAL_FEE, PROMOTIONS_CODE, CREATE_TIME, MODIFY_TIME, BILL_TIME, CREATE_USER_CODE, 
    MODIFY_USER_CODE, CREATE_ORG_CODE, MODIFY_ORG_CODE, REF_ID, REF_CODE, CURRENCY_CODE, 
    IS_WHOLE_VEHICLE, WHOLE_VEHICLE_APPFEE, WHOLE_VEHICLE_ACTUALFEE, ACCOUNT_NAME, ACCOUNT_CODE, 
    ACCOUNT_BANK, BILL_WEIGHT, PICKUP_FEE, SERVICE_FEE, PRE_ARRIVE_TIME, TRANSPORT_TYPE, 
    ADD_TIME, INSURANCE_RATE, INSURANCE_FEE, UNIT_PRICE,CONTACT_ADDRESS_ID,
    FLIGHT_NUMBER_TYPE, COLLECTION_DEPARTMENT, TRANSPORTATION_REMARK,IS_PASS_OWN_DEPARTMENT,
    PAPER_NUM,WOOD_NUM,FIBRE_NUM,SALVER_NUM,MEMBRANE_NUM,OTHER_PACKAGE,DELIVERY_CUSTOMER_CONTACT_ID,RECEIVE_CUSTOMER_CONTACT_ID,
    PENDING_TYPE,LICENSE_PLATE_NUM,ORDER_VEHICLE_NUM,
    CREATE_USER_NAME,CREATE_USER_DEPT_NAME ,RECEIVE_ORG_NAME,CUSTOMER_PICKUP_ORG_NAME,LOAD_ORG_NAME,LAST_LOAD_ORG_NAME,KILOMETER
  </sql>
  <!-- 用于查询的字段：主要是在金额的字段上除以100 -->
  <sql id="Base_Column_List_Select" > 
    ID, WAYBILL_NO, ORDER_NO, DELIVERY_CUSTOMER_ID, DELIVERY_CUSTOMER_CODE, DELIVERY_CUSTOMER_NAME, 
    DELIVERY_CUSTOMER_MOBILEPHONE, DELIVERY_CUSTOMER_PHONE, DELIVERY_CUSTOMER_CONTACT, 
    DELIVERY_CUSTOMER_NATION_CODE, DELIVERY_CUSTOMER_PROV_CODE, DELIVERY_CUSTOMER_CITY_CODE, 
    DELIVERY_CUSTOMER_DIST_CODE, DELIVERY_CUSTOMER_ADDRESS, RECEIVE_CUSTOMER_ID, RECEIVE_CUSTOMER_CODE, 
    RECEIVE_CUSTOMER_NAME, RECEIVE_CUSTOMER_MOBILEPHONE, RECEIVE_CUSTOMER_PHONE, RECEIVE_CUSTOMER_CONTACT, 
    RECEIVE_CUSTOMER_NATION_CODE, RECEIVE_CUSTOMER_PROV_CODE, RECEIVE_CUSTOMER_CITY_CODE, 
    RECEIVE_CUSTOMER_DIST_CODE, RECEIVE_CUSTOMER_ADDRESS, RECEIVE_ORG_CODE, PRODUCT_ID, 
    PRODUCT_CODE, RECEIVE_METHOD, CUSTOMER_PICKUP_ORG_CODE, LOAD_METHOD, TARGET_ORG_CODE, 
    PICKUP_TO_DOOR, DRIVER_CODE, PICKUP_CENTRALIZED, LOAD_LINE_CODE, LOAD_ORG_CODE, LAST_LOAD_ORG_CODE, 
    PRE_DEPARTURE_TIME, PRE_CUSTOMER_PICKUP_TIME, CAR_DIRECT_DELIVERY, GOODS_NAME, GOODS_QTY_TOTAL, 
    GOODS_WEIGHT_TOTAL, GOODS_VOLUME_TOTAL, GOODS_SIZE, GOODS_TYPE_CODE, PRECIOUS_GOODS, 
    SPECIAL_SHAPED_GOODS, OUTER_NOTES, INNER_NOTES, GOODS_PACKAGE, INSURANCE_AMOUNT/100 as INSURANCE_AMOUNT, 
    COD_AMOUNT/100 as COD_AMOUNT, COD_RATE, COD_FEE/100 as COD_FEE, REFUND_TYPE, RETURN_BILL_TYPE, SECRET_PREPAID, TO_PAY_AMOUNT/100 as TO_PAY_AMOUNT, 
    PRE_PAY_AMOUNT/100 as PRE_PAY_AMOUNT, DELIVERY_GOODS_FEE/100 as DELIVERY_GOODS_FEE, OTHER_FEE/100 as OTHER_FEE, PACKAGE_FEE/100 as PACKAGE_FEE, 
    PROMOTIONS_FEE/100 as PROMOTIONS_FEE, BILLING_TYPE, 
    TRANSPORT_FEE/100 as TRANSPORT_FEE, VALUE_ADD_FEE/100 as VALUE_ADD_FEE, PAID_METHOD, ARRIVE_TYPE, ACTIVE, FORBIDDEN_LINE, FREIGHT_METHOD, 
    FLIGHT_SHIFT, TOTAL_FEE/100 as TOTAL_FEE, PROMOTIONS_CODE, CREATE_TIME, MODIFY_TIME, BILL_TIME, CREATE_USER_CODE, 
    MODIFY_USER_CODE, CREATE_ORG_CODE, MODIFY_ORG_CODE, REF_ID, REF_CODE, CURRENCY_CODE, 
    IS_WHOLE_VEHICLE, WHOLE_VEHICLE_APPFEE/100 as WHOLE_VEHICLE_APPFEE, WHOLE_VEHICLE_ACTUALFEE/100 as WHOLE_VEHICLE_ACTUALFEE, ACCOUNT_NAME, ACCOUNT_CODE, 
    ACCOUNT_BANK, BILL_WEIGHT, PICKUP_FEE/100 as PICKUP_FEE, SERVICE_FEE/100 as SERVICE_FEE, PRE_ARRIVE_TIME, TRANSPORT_TYPE, 
    ADD_TIME, INSURANCE_RATE, INSURANCE_FEE/100 as INSURANCE_FEE,UNIT_PRICE,CONTACT_ADDRESS_ID,
    FLIGHT_NUMBER_TYPE, COLLECTION_DEPARTMENT, TRANSPORTATION_REMARK,IS_PASS_OWN_DEPARTMENT,
    PAPER_NUM,WOOD_NUM,FIBRE_NUM,SALVER_NUM,MEMBRANE_NUM,OTHER_PACKAGE,DELIVERY_CUSTOMER_CONTACT_ID,RECEIVE_CUSTOMER_CONTACT_ID,
    PENDING_TYPE,LICENSE_PLATE_NUM,ORDER_VEHICLE_NUM,
    CREATE_USER_NAME,CREATE_USER_DEPT_NAME ,RECEIVE_ORG_NAME,CUSTOMER_PICKUP_ORG_NAME,LOAD_ORG_NAME,LAST_LOAD_ORG_NAME,KILOMETER
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    select 
    <include refid="Base_Column_List_Select" />
    from PKP.T_SRV_WAYBILL
    where ID = #{id,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    delete from PKP.T_SRV_WAYBILL
    where ID = #{id,jdbcType=VARCHAR}
  </delete>
  
  <!-- 根据运单号查询运单基本信息 -->
	<select id="selectByWaybillNo" resultMap="BaseResultMap"
		parameterType="com.deppon.foss.module.pickup.waybill.shared.dto.WaybillQueryArgsDto">
		select
		<include refid="Base_Column_List_Select" />
		from PKP.T_SRV_WAYBILL
		<where>
				ACTIVE = #{active,jdbcType=CHAR}
				and WAYBILL_NO = #{waybillNo,jdbcType=VARCHAR}
		</where>
	</select>
	
	<select id="selectByOrderNo" resultMap="BaseResultMap"
		parameterType="com.deppon.foss.module.pickup.waybill.shared.dto.WaybillQueryArgsDto">
		select
		<include refid="Base_Column_List_Select" />
		from PKP.T_SRV_WAYBILL
		<where>
			and ACTIVE = #{active,jdbcType=CHAR}
			<if test="orderNo != null">
				and ORDER_NO = #{orderNo,jdbcType=VARCHAR}
			</if>
		</where>
	</select>


	<select id="selectByWaybillNoList" resultMap="BaseResultMap"
		parameterType="java.util.Map">
		select
		<include refid="Base_Column_List_Select" />
		from PKP.T_SRV_WAYBILL
		<where>
		and ACTIVE = #{active,jdbcType=CHAR}
		<if test="ids != null">
			and WAYBILL_NO in 
			<foreach item="item" index="index" collection="ids" open="("
				separator="," close=")">
				#{item}
			</foreach>
		</if>
		</where>
	</select>
  
  <select id="selectLastWaybill" resultMap="BaseResultMap" parameterType="java.util.Map" >
    select
    <include refid="Base_Column_List_Select" />
    from PKP.T_SRV_WAYBILL
    where CREATE_ORG_CODE = #{orgCode,jdbcType=VARCHAR}
    and ACTIVE = #{active,jdbcType=CHAR}
    order by CREATE_TIME desc
  </select>
  
  <insert id="insert" parameterType="com.deppon.foss.module.pickup.waybill.shared.domain.WaybillEntity" >
    insert into PKP.T_SRV_WAYBILL (ID, WAYBILL_NO, ORDER_NO, 
      DELIVERY_CUSTOMER_ID, DELIVERY_CUSTOMER_CODE, 
      DELIVERY_CUSTOMER_NAME, DELIVERY_CUSTOMER_MOBILEPHONE, 
      DELIVERY_CUSTOMER_PHONE, DELIVERY_CUSTOMER_CONTACT, 
      DELIVERY_CUSTOMER_NATION_CODE, DELIVERY_CUSTOMER_PROV_CODE, 
      DELIVERY_CUSTOMER_CITY_CODE, DELIVERY_CUSTOMER_DIST_CODE, 
      DELIVERY_CUSTOMER_ADDRESS, RECEIVE_CUSTOMER_ID, 
      RECEIVE_CUSTOMER_CODE, RECEIVE_CUSTOMER_NAME, 
      RECEIVE_CUSTOMER_MOBILEPHONE, RECEIVE_CUSTOMER_PHONE, 
      RECEIVE_CUSTOMER_CONTACT, RECEIVE_CUSTOMER_NATION_CODE, 
      RECEIVE_CUSTOMER_PROV_CODE, RECEIVE_CUSTOMER_CITY_CODE, 
      RECEIVE_CUSTOMER_DIST_CODE, RECEIVE_CUSTOMER_ADDRESS, 
      RECEIVE_ORG_CODE, PRODUCT_ID, PRODUCT_CODE, 
      RECEIVE_METHOD, CUSTOMER_PICKUP_ORG_CODE, LOAD_METHOD, 
      TARGET_ORG_CODE, PICKUP_TO_DOOR, DRIVER_CODE, 
      PICKUP_CENTRALIZED, LOAD_LINE_CODE, LOAD_ORG_CODE, 
      LAST_LOAD_ORG_CODE, PRE_DEPARTURE_TIME, PRE_CUSTOMER_PICKUP_TIME, 
      CAR_DIRECT_DELIVERY, GOODS_NAME, GOODS_QTY_TOTAL, 
      GOODS_WEIGHT_TOTAL, GOODS_VOLUME_TOTAL, GOODS_SIZE, 
      GOODS_TYPE_CODE, PRECIOUS_GOODS, SPECIAL_SHAPED_GOODS, 
      OUTER_NOTES, INNER_NOTES, GOODS_PACKAGE, 
      INSURANCE_AMOUNT, COD_AMOUNT, COD_RATE, 
      COD_FEE, REFUND_TYPE, RETURN_BILL_TYPE, 
      SECRET_PREPAID, TO_PAY_AMOUNT, PRE_PAY_AMOUNT, 
      DELIVERY_GOODS_FEE, OTHER_FEE, PACKAGE_FEE, 
      PROMOTIONS_FEE, BILLING_TYPE, TRANSPORT_FEE, 
      VALUE_ADD_FEE, PAID_METHOD, ARRIVE_TYPE, 
      ACTIVE, FORBIDDEN_LINE, FREIGHT_METHOD, 
      FLIGHT_SHIFT, TOTAL_FEE, PROMOTIONS_CODE, 
      CREATE_TIME, MODIFY_TIME, BILL_TIME, 
      CREATE_USER_CODE, MODIFY_USER_CODE, CREATE_ORG_CODE, 
      MODIFY_ORG_CODE, REF_ID, REF_CODE, 
      CURRENCY_CODE, IS_WHOLE_VEHICLE, WHOLE_VEHICLE_APPFEE, 
      WHOLE_VEHICLE_ACTUALFEE, ACCOUNT_NAME, ACCOUNT_CODE, 
      ACCOUNT_BANK, BILL_WEIGHT, PICKUP_FEE, 
      SERVICE_FEE, PRE_ARRIVE_TIME, TRANSPORT_TYPE, 
      ADD_TIME, INSURANCE_RATE, 
      INSURANCE_FEE, UNIT_PRICE,CONTACT_ADDRESS_ID,
      FLIGHT_NUMBER_TYPE, COLLECTION_DEPARTMENT, TRANSPORTATION_REMARK,IS_PASS_OWN_DEPARTMENT,
      PAPER_NUM,WOOD_NUM,FIBRE_NUM,SALVER_NUM,MEMBRANE_NUM,OTHER_PACKAGE,DELIVERY_CUSTOMER_CONTACT_ID,
      RECEIVE_CUSTOMER_CONTACT_ID,PENDING_TYPE,LICENSE_PLATE_NUM,ORDER_VEHICLE_NUM,
      CREATE_USER_NAME,CREATE_USER_DEPT_NAME ,RECEIVE_ORG_NAME,CUSTOMER_PICKUP_ORG_NAME,LOAD_ORG_NAME,LAST_LOAD_ORG_NAME,KILOMETER
      )
    values (#{id,jdbcType=VARCHAR}, #{waybillNo,jdbcType=VARCHAR}, #{orderNo,jdbcType=VARCHAR}, 
      #{deliveryCustomerId,jdbcType=VARCHAR}, #{deliveryCustomerCode,jdbcType=VARCHAR}, 
      #{deliveryCustomerName,jdbcType=VARCHAR}, #{deliveryCustomerMobilephone,jdbcType=VARCHAR}, 
      #{deliveryCustomerPhone,jdbcType=VARCHAR}, #{deliveryCustomerContact,jdbcType=VARCHAR}, 
      #{deliveryCustomerNationCode,jdbcType=VARCHAR}, #{deliveryCustomerProvCode,jdbcType=VARCHAR}, 
      #{deliveryCustomerCityCode,jdbcType=VARCHAR}, #{deliveryCustomerDistCode,jdbcType=VARCHAR}, 
      #{deliveryCustomerAddress,jdbcType=VARCHAR}, #{receiveCustomerId,jdbcType=VARCHAR}, 
      #{receiveCustomerCode,jdbcType=VARCHAR}, #{receiveCustomerName,jdbcType=VARCHAR}, 
      #{receiveCustomerMobilephone,jdbcType=VARCHAR}, #{receiveCustomerPhone,jdbcType=VARCHAR}, 
      #{receiveCustomerContact,jdbcType=VARCHAR}, #{receiveCustomerNationCode,jdbcType=VARCHAR}, 
      #{receiveCustomerProvCode,jdbcType=VARCHAR}, #{receiveCustomerCityCode,jdbcType=VARCHAR}, 
      #{receiveCustomerDistCode,jdbcType=VARCHAR}, #{receiveCustomerAddress,jdbcType=VARCHAR}, 
      #{receiveOrgCode,jdbcType=VARCHAR}, #{productId,jdbcType=VARCHAR}, #{productCode,jdbcType=VARCHAR}, 
      #{receiveMethod,jdbcType=VARCHAR}, #{customerPickupOrgCode,jdbcType=VARCHAR}, #{loadMethod,jdbcType=VARCHAR}, 
      #{targetOrgCode,jdbcType=VARCHAR}, #{pickupToDoor,jdbcType=CHAR}, #{driverCode,jdbcType=VARCHAR}, 
      #{pickupCentralized,jdbcType=CHAR}, #{loadLineCode,jdbcType=VARCHAR}, #{loadOrgCode,jdbcType=VARCHAR}, 
      #{lastLoadOrgCode,jdbcType=VARCHAR}, #{preDepartureTime,jdbcType=TIMESTAMP}, #{preCustomerPickupTime,jdbcType=TIMESTAMP}, 
      #{carDirectDelivery,jdbcType=CHAR}, #{goodsName,jdbcType=VARCHAR}, #{goodsQtyTotal,jdbcType=DECIMAL}, 
      #{goodsWeightTotal,jdbcType=DECIMAL}, #{goodsVolumeTotal,jdbcType=DECIMAL}, #{goodsSize,jdbcType=VARCHAR}, 
      #{goodsTypeCode,jdbcType=VARCHAR}, #{preciousGoods,jdbcType=CHAR}, #{specialShapedGoods,jdbcType=CHAR}, 
      #{outerNotes,jdbcType=VARCHAR}, #{innerNotes,jdbcType=VARCHAR}, #{goodsPackage,jdbcType=VARCHAR}, 
      #{insuranceAmount,jdbcType=DECIMAL}*100, #{codAmount,jdbcType=DECIMAL}*100, #{codRate,jdbcType=DECIMAL}, 
      #{codFee,jdbcType=DECIMAL}*100, #{refundType,jdbcType=VARCHAR}, #{returnBillType,jdbcType=VARCHAR}, 
      #{secretPrepaid,jdbcType=CHAR}, #{toPayAmount,jdbcType=DECIMAL}*100, #{prePayAmount,jdbcType=DECIMAL}*100, 
      #{deliveryGoodsFee,jdbcType=DECIMAL}*100, #{otherFee,jdbcType=DECIMAL}*100, #{packageFee,jdbcType=DECIMAL}*100, 
      #{promotionsFee,jdbcType=DECIMAL}*100, #{billingType,jdbcType=VARCHAR}, #{transportFee,jdbcType=DECIMAL}*100, 
      #{valueAddFee,jdbcType=DECIMAL}*100, #{paidMethod,jdbcType=VARCHAR}, #{arriveType,jdbcType=VARCHAR}, 
      #{active,jdbcType=CHAR}, #{forbiddenLine,jdbcType=CHAR}, #{freightMethod,jdbcType=VARCHAR}, 
      #{flightShift,jdbcType=VARCHAR}, #{totalFee,jdbcType=DECIMAL}*100, #{promotionsCode,jdbcType=VARCHAR}, 
      #{createTime,jdbcType=TIMESTAMP}, #{modifyTime,jdbcType=TIMESTAMP}, #{billTime,jdbcType=TIMESTAMP}, 
      #{createUserCode,jdbcType=VARCHAR}, #{modifyUserCode,jdbcType=VARCHAR}, #{createOrgCode,jdbcType=VARCHAR}, 
      #{modifyOrgCode,jdbcType=VARCHAR}, #{refId,jdbcType=VARCHAR}, #{refCode,jdbcType=VARCHAR}, 
      #{currencyCode,jdbcType=VARCHAR}, #{isWholeVehicle,jdbcType=CHAR}, #{wholeVehicleAppfee,jdbcType=DECIMAL}*100, 
      #{wholeVehicleActualfee,jdbcType=DECIMAL}*100, #{accountName,jdbcType=VARCHAR}, #{accountCode,jdbcType=VARCHAR}, 
      #{accountBank,jdbcType=VARCHAR}, #{billWeight,jdbcType=DECIMAL}, #{pickupFee,jdbcType=DECIMAL}*100, 
      #{serviceFee,jdbcType=DECIMAL}*100, #{preArriveTime,jdbcType=TIMESTAMP}, #{transportType,jdbcType=VARCHAR}, 
      #{addTime,jdbcType=TIMESTAMP}, #{insuranceRate,jdbcType=DECIMAL}, 
      #{insuranceFee,jdbcType=DECIMAL}*100,  #{unitPrice,jdbcType=DECIMAL},
      #{contactAddressId,jdbcType=VARCHAR},#{flightNumberType,jdbcType=VARCHAR}, #{collectionDepartment,jdbcType=VARCHAR}, 
      #{transportationRemark,jdbcType=VARCHAR},   #{isPassOwnDepartment,jdbcType=CHAR},
      #{paperNum,jdbcType=NUMERIC},#{woodNum,jdbcType=NUMERIC},#{fibreNum,jdbcType=NUMERIC},#{salverNum,jdbcType=NUMERIC},
      #{membraneNum,jdbcType=NUMERIC},#{otherPackage,jdbcType=VARCHAR},
      #{deliverCustContactId,jdbcType=VARCHAR},#{receiverCustContactId,jdbcType=VARCHAR},
      #{pendingType,jdbcType=VARCHAR},#{licensePlateNum,jdbcType=VARCHAR},#{orderVehicleNum,jdbcType=VARCHAR},
	  #{createUserName,jdbcType=VARCHAR}, #{createUserDeptName,jdbcType=VARCHAR}, #{receiveOrgName,jdbcType=VARCHAR},
	  #{customerPickupOrgName,jdbcType=VARCHAR}, #{loadOrgName,jdbcType=VARCHAR}, #{lastLoadOrgName,jdbcType=VARCHAR},#{kilometer,jdbcType=DECIMAL}
	  
      )
  </insert>
  <insert id="insertSelective" parameterType="com.deppon.foss.module.pickup.waybill.shared.domain.WaybillEntity" >
    insert into PKP.T_SRV_WAYBILL
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        ID,
      </if>
      <if test="waybillNo != null" >
        WAYBILL_NO,
      </if>
      <if test="orderNo != null" >
        ORDER_NO,
      </if>
      <if test="deliveryCustomerId != null" >
        DELIVERY_CUSTOMER_ID,
      </if>
      <if test="deliveryCustomerCode != null" >
        DELIVERY_CUSTOMER_CODE,
      </if>
      <if test="deliveryCustomerName != null" >
        DELIVERY_CUSTOMER_NAME,
      </if>
      <if test="deliveryCustomerMobilephone != null" >
        DELIVERY_CUSTOMER_MOBILEPHONE,
      </if>
      <if test="deliveryCustomerPhone != null" >
        DELIVERY_CUSTOMER_PHONE,
      </if>
      <if test="deliveryCustomerContact != null" >
        DELIVERY_CUSTOMER_CONTACT,
      </if>
      <if test="deliveryCustomerNationCode != null" >
        DELIVERY_CUSTOMER_NATION_CODE,
      </if>
      <if test="deliveryCustomerProvCode != null" >
        DELIVERY_CUSTOMER_PROV_CODE,
      </if>
      <if test="deliveryCustomerCityCode != null" >
        DELIVERY_CUSTOMER_CITY_CODE,
      </if>
      <if test="deliveryCustomerDistCode != null" >
        DELIVERY_CUSTOMER_DIST_CODE,
      </if>
      <if test="deliveryCustomerAddress != null" >
        DELIVERY_CUSTOMER_ADDRESS,
      </if>
      <if test="receiveCustomerId != null" >
        RECEIVE_CUSTOMER_ID,
      </if>
      <if test="receiveCustomerCode != null" >
        RECEIVE_CUSTOMER_CODE,
      </if>
      <if test="receiveCustomerName != null" >
        RECEIVE_CUSTOMER_NAME,
      </if>
      <if test="receiveCustomerMobilephone != null" >
        RECEIVE_CUSTOMER_MOBILEPHONE,
      </if>
      <if test="receiveCustomerPhone != null" >
        RECEIVE_CUSTOMER_PHONE,
      </if>
      <if test="receiveCustomerContact != null" >
        RECEIVE_CUSTOMER_CONTACT,
      </if>
      <if test="receiveCustomerNationCode != null" >
        RECEIVE_CUSTOMER_NATION_CODE,
      </if>
      <if test="receiveCustomerProvCode != null" >
        RECEIVE_CUSTOMER_PROV_CODE,
      </if>
      <if test="receiveCustomerCityCode != null" >
        RECEIVE_CUSTOMER_CITY_CODE,
      </if>
      <if test="receiveCustomerDistCode != null" >
        RECEIVE_CUSTOMER_DIST_CODE,
      </if>
      <if test="receiveCustomerAddress != null" >
        RECEIVE_CUSTOMER_ADDRESS,
      </if>
      <if test="receiveOrgCode != null" >
        RECEIVE_ORG_CODE,
      </if>
      <if test="productId != null" >
        PRODUCT_ID,
      </if>
      <if test="productCode != null" >
        PRODUCT_CODE,
      </if>
      <if test="receiveMethod != null" >
        RECEIVE_METHOD,
      </if>
      <if test="customerPickupOrgCode != null" >
        CUSTOMER_PICKUP_ORG_CODE,
      </if>
      <if test="loadMethod != null" >
        LOAD_METHOD,
      </if>
      <if test="targetOrgCode != null" >
        TARGET_ORG_CODE,
      </if>
      <if test="pickupToDoor != null" >
        PICKUP_TO_DOOR,
      </if>
      <if test="driverCode != null" >
        DRIVER_CODE,
      </if>
      <if test="pickupCentralized != null" >
        PICKUP_CENTRALIZED,
      </if>
      <if test="loadLineCode != null" >
        LOAD_LINE_CODE,
      </if>
      <if test="loadOrgCode != null" >
        LOAD_ORG_CODE,
      </if>
      <if test="lastLoadOrgCode != null" >
        LAST_LOAD_ORG_CODE,
      </if>
      <if test="preDepartureTime != null" >
        PRE_DEPARTURE_TIME,
      </if>
      <if test="preCustomerPickupTime != null" >
        PRE_CUSTOMER_PICKUP_TIME,
      </if>
      <if test="carDirectDelivery != null" >
        CAR_DIRECT_DELIVERY,
      </if>
      <if test="goodsName != null" >
        GOODS_NAME,
      </if>
      <if test="goodsQtyTotal != null" >
        GOODS_QTY_TOTAL,
      </if>
      <if test="goodsWeightTotal != null" >
        GOODS_WEIGHT_TOTAL,
      </if>
      <if test="goodsVolumeTotal != null" >
        GOODS_VOLUME_TOTAL,
      </if>
      <if test="goodsSize != null" >
        GOODS_SIZE,
      </if>
      <if test="goodsTypeCode != null" >
        GOODS_TYPE_CODE,
      </if>
      <if test="preciousGoods != null" >
        PRECIOUS_GOODS,
      </if>
      <if test="specialShapedGoods != null" >
        SPECIAL_SHAPED_GOODS,
      </if>
      <if test="outerNotes != null" >
        OUTER_NOTES,
      </if>
      <if test="innerNotes != null" >
        INNER_NOTES,
      </if>
      <if test="goodsPackage != null" >
        GOODS_PACKAGE,
      </if>
      <if test="insuranceAmount != null" >
        INSURANCE_AMOUNT,
      </if>
      <if test="codAmount != null" >
        COD_AMOUNT,
      </if>
      <if test="codRate != null" >
        COD_RATE,
      </if>
      <if test="codFee != null" >
        COD_FEE,
      </if>
      <if test="refundType != null" >
        REFUND_TYPE,
      </if>
      <if test="returnBillType != null" >
        RETURN_BILL_TYPE,
      </if>
      <if test="secretPrepaid != null" >
        SECRET_PREPAID,
      </if>
      <if test="toPayAmount != null" >
        TO_PAY_AMOUNT,
      </if>
      <if test="prePayAmount != null" >
        PRE_PAY_AMOUNT,
      </if>
      <if test="deliveryGoodsFee != null" >
        DELIVERY_GOODS_FEE,
      </if>
      <if test="otherFee != null" >
        OTHER_FEE,
      </if>
      <if test="packageFee != null" >
        PACKAGE_FEE,
      </if>
      <if test="promotionsFee != null" >
        PROMOTIONS_FEE,
      </if>
      <if test="billingType != null" >
        BILLING_TYPE,
      </if>
      <if test="transportFee != null" >
        TRANSPORT_FEE,
      </if>
      <if test="valueAddFee != null" >
        VALUE_ADD_FEE,
      </if>
      <if test="paidMethod != null" >
        PAID_METHOD,
      </if>
      <if test="arriveType != null" >
        ARRIVE_TYPE,
      </if>
      <if test="active != null" >
        ACTIVE,
      </if>
      <if test="forbiddenLine != null" >
        FORBIDDEN_LINE,
      </if>
      <if test="freightMethod != null" >
        FREIGHT_METHOD,
      </if>
      <if test="flightShift != null" >
        FLIGHT_SHIFT,
      </if>
      <if test="totalFee != null" >
        TOTAL_FEE,
      </if>
      <if test="promotionsCode != null" >
        PROMOTIONS_CODE,
      </if>
      <if test="createTime != null" >
        CREATE_TIME,
      </if>
      <if test="modifyTime != null" >
        MODIFY_TIME,
      </if>
      <if test="billTime != null" >
        BILL_TIME,
      </if>
      <if test="createUserCode != null" >
        CREATE_USER_CODE,
      </if>
      <if test="modifyUserCode != null" >
        MODIFY_USER_CODE,
      </if>
      <if test="createOrgCode != null" >
        CREATE_ORG_CODE,
      </if>
      <if test="modifyOrgCode != null" >
        MODIFY_ORG_CODE,
      </if>
      <if test="refId != null" >
        REF_ID,
      </if>
      <if test="refCode != null" >
        REF_CODE,
      </if>
      <if test="currencyCode != null" >
        CURRENCY_CODE,
      </if>
      <if test="isWholeVehicle != null" >
        IS_WHOLE_VEHICLE,
      </if>
      <if test="wholeVehicleAppfee != null" >
        WHOLE_VEHICLE_APPFEE,
      </if>
      <if test="wholeVehicleActualfee != null" >
        WHOLE_VEHICLE_ACTUALFEE,
      </if>
      <if test="accountName != null" >
        ACCOUNT_NAME,
      </if>
      <if test="accountCode != null" >
        ACCOUNT_CODE,
      </if>
      <if test="accountBank != null" >
        ACCOUNT_BANK,
      </if>
      <if test="billWeight != null" >
        BILL_WEIGHT,
      </if>
      <if test="pickupFee != null" >
        PICKUP_FEE,
      </if>
      <if test="serviceFee != null" >
        SERVICE_FEE,
      </if>
      <if test="preArriveTime != null" >
        PRE_ARRIVE_TIME,
      </if>
      <if test="transportType != null" >
        TRANSPORT_TYPE,
      </if>
      <if test="addTime != null" >
        ADD_TIME,
      </if>
      <if test="insuranceRate != null" >
        INSURANCE_RATE,
      </if>
      <if test="insuranceFee != null" >
        INSURANCE_FEE,
      </if>
      <if test="unitPrice != null" >
        UNIT_PRICE,
      </if>
      <if test="contactAddressId != null" >
        CONTACT_ADDRESS_ID,
      </if>
      <if test="flightNumberType != null" >
        FLIGHT_NUMBER_TYPE,
      </if>
      <if test="collectionDepartment != null" >
        COLLECTION_DEPARTMENT,
      </if>
      <if test="transportationRemark != null" >
        TRANSPORTATION_REMARK,
      </if>
      <if test="isPassOwnDepartment != null" >
        IS_PASS_OWN_DEPARTMENT,
      </if>
      <if test="pendingType != null">
      	PENDING_TYPE,
      </if>
      <if test="licensePlateNum != null">
      	LICENSE_PLATE_NUM,
      </if>
		<if test="orderVehicleNum != null">
			ORDER_VEHICLE_NUM,
		</if>
		<if test="CREATE_USER_NAME != null and CREATE_USER_NAME != '' ">
			CREATE_USER_NAME,
		</if>
		<if test="CREATE_USER_DEPT_NAME != null and CREATE_USER_DEPT_NAME != '' ">
			CREATE_USER_DEPT_NAME,
		</if>
		<if test="RECEIVE_ORG_NAME != null and RECEIVE_ORG_NAME != '' ">
			RECEIVE_ORG_NAME,
		</if>
		<if
			test="CUSTOMER_PICKUP_ORG_NAME != null and CUSTOMER_PICKUP_ORG_NAME != '' ">
			CUSTOMER_PICKUP_ORG_NAME,
		</if>
		<if test="LOAD_ORG_NAME != null and LOAD_ORG_NAME != '' ">
			LOAD_ORG_NAME,
		</if>
		<if test="LAST_LOAD_ORG_NAME != null and LAST_LOAD_ORG_NAME != '' ">
			LAST_LOAD_ORG_NAME,
		</if>
        <if test="kilometer != null">
				kilometer,
			</if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=VARCHAR},
      </if>
      <if test="waybillNo != null" >
        #{waybillNo,jdbcType=VARCHAR},
      </if>
      <if test="orderNo != null" >
        #{orderNo,jdbcType=VARCHAR},
      </if>
      <if test="deliveryCustomerId != null" >
        #{deliveryCustomerId,jdbcType=VARCHAR},
      </if>
      <if test="deliveryCustomerCode != null" >
        #{deliveryCustomerCode,jdbcType=VARCHAR},
      </if>
      <if test="deliveryCustomerName != null" >
        #{deliveryCustomerName,jdbcType=VARCHAR},
      </if>
      <if test="deliveryCustomerMobilephone != null" >
        #{deliveryCustomerMobilephone,jdbcType=VARCHAR},
      </if>
      <if test="deliveryCustomerPhone != null" >
        #{deliveryCustomerPhone,jdbcType=VARCHAR},
      </if>
      <if test="deliveryCustomerContact != null" >
        #{deliveryCustomerContact,jdbcType=VARCHAR},
      </if>
      <if test="deliveryCustomerNationCode != null" >
        #{deliveryCustomerNationCode,jdbcType=VARCHAR},
      </if>
      <if test="deliveryCustomerProvCode != null" >
        #{deliveryCustomerProvCode,jdbcType=VARCHAR},
      </if>
      <if test="deliveryCustomerCityCode != null" >
        #{deliveryCustomerCityCode,jdbcType=VARCHAR},
      </if>
      <if test="deliveryCustomerDistCode != null" >
        #{deliveryCustomerDistCode,jdbcType=VARCHAR},
      </if>
      <if test="deliveryCustomerAddress != null" >
        #{deliveryCustomerAddress,jdbcType=VARCHAR},
      </if>
      <if test="receiveCustomerId != null" >
        #{receiveCustomerId,jdbcType=VARCHAR},
      </if>
      <if test="receiveCustomerCode != null" >
        #{receiveCustomerCode,jdbcType=VARCHAR},
      </if>
      <if test="receiveCustomerName != null" >
        #{receiveCustomerName,jdbcType=VARCHAR},
      </if>
      <if test="receiveCustomerMobilephone != null" >
        #{receiveCustomerMobilephone,jdbcType=VARCHAR},
      </if>
      <if test="receiveCustomerPhone != null" >
        #{receiveCustomerPhone,jdbcType=VARCHAR},
      </if>
      <if test="receiveCustomerContact != null" >
        #{receiveCustomerContact,jdbcType=VARCHAR},
      </if>
      <if test="receiveCustomerNationCode != null" >
        #{receiveCustomerNationCode,jdbcType=VARCHAR},
      </if>
      <if test="receiveCustomerProvCode != null" >
        #{receiveCustomerProvCode,jdbcType=VARCHAR},
      </if>
      <if test="receiveCustomerCityCode != null" >
        #{receiveCustomerCityCode,jdbcType=VARCHAR},
      </if>
      <if test="receiveCustomerDistCode != null" >
        #{receiveCustomerDistCode,jdbcType=VARCHAR},
      </if>
      <if test="receiveCustomerAddress != null" >
        #{receiveCustomerAddress,jdbcType=VARCHAR},
      </if>
      <if test="receiveOrgCode != null" >
        #{receiveOrgCode,jdbcType=VARCHAR},
      </if>
      <if test="productId != null" >
        #{productId,jdbcType=VARCHAR},
      </if>
      <if test="productCode != null" >
        #{productCode,jdbcType=VARCHAR},
      </if>
      <if test="receiveMethod != null" >
        #{receiveMethod,jdbcType=VARCHAR},
      </if>
      <if test="customerPickupOrgCode != null" >
        #{customerPickupOrgCode,jdbcType=VARCHAR},
      </if>
      <if test="loadMethod != null" >
        #{loadMethod,jdbcType=VARCHAR},
      </if>
      <if test="targetOrgCode != null" >
        #{targetOrgCode,jdbcType=VARCHAR},
      </if>
      <if test="pickupToDoor != null" >
        #{pickupToDoor,jdbcType=CHAR},
      </if>
      <if test="driverCode != null" >
        #{driverCode,jdbcType=VARCHAR},
      </if>
      <if test="pickupCentralized != null" >
        #{pickupCentralized,jdbcType=CHAR},
      </if>
      <if test="loadLineCode != null" >
        #{loadLineCode,jdbcType=VARCHAR},
      </if>
      <if test="loadOrgCode != null" >
        #{loadOrgCode,jdbcType=VARCHAR},
      </if>
      <if test="lastLoadOrgCode != null" >
        #{lastLoadOrgCode,jdbcType=VARCHAR},
      </if>
      <if test="preDepartureTime != null" >
        #{preDepartureTime,jdbcType=TIMESTAMP},
      </if>
      <if test="preCustomerPickupTime != null" >
        #{preCustomerPickupTime,jdbcType=TIMESTAMP},
      </if>
      <if test="carDirectDelivery != null" >
        #{carDirectDelivery,jdbcType=CHAR},
      </if>
      <if test="goodsName != null" >
        #{goodsName,jdbcType=VARCHAR},
      </if>
      <if test="goodsQtyTotal != null" >
        #{goodsQtyTotal,jdbcType=DECIMAL},
      </if>
      <if test="goodsWeightTotal != null" >
        #{goodsWeightTotal,jdbcType=DECIMAL},
      </if>
      <if test="goodsVolumeTotal != null" >
        #{goodsVolumeTotal,jdbcType=DECIMAL},
      </if>
      <if test="goodsSize != null" >
        #{goodsSize,jdbcType=VARCHAR},
      </if>
      <if test="goodsTypeCode != null" >
        #{goodsTypeCode,jdbcType=VARCHAR},
      </if>
      <if test="preciousGoods != null" >
        #{preciousGoods,jdbcType=CHAR},
      </if>
      <if test="specialShapedGoods != null" >
        #{specialShapedGoods,jdbcType=CHAR},
      </if>
      <if test="outerNotes != null" >
        #{outerNotes,jdbcType=VARCHAR},
      </if>
      <if test="innerNotes != null" >
        #{innerNotes,jdbcType=VARCHAR},
      </if>
      <if test="goodsPackage != null" >
        #{goodsPackage,jdbcType=VARCHAR},
      </if>
      <if test="insuranceAmount != null" >
        #{insuranceAmount,jdbcType=DECIMAL}*100,
      </if>
      <if test="codAmount != null" >
        #{codAmount,jdbcType=DECIMAL}*100,
      </if>
      <if test="codRate != null" >
        #{codRate,jdbcType=DECIMAL},
      </if>
      <if test="codFee != null" >
        #{codFee,jdbcType=DECIMAL}*100,
      </if>
      <if test="refundType != null" >
        #{refundType,jdbcType=VARCHAR},
      </if>
      <if test="returnBillType != null" >
        #{returnBillType,jdbcType=VARCHAR},
      </if>
      <if test="secretPrepaid != null" >
        #{secretPrepaid,jdbcType=CHAR},
      </if>
      <if test="toPayAmount != null" >
        #{toPayAmount,jdbcType=DECIMAL}*100,
      </if>
      <if test="prePayAmount != null" >
        #{prePayAmount,jdbcType=DECIMAL}*100,
      </if>
      <if test="deliveryGoodsFee != null" >
        #{deliveryGoodsFee,jdbcType=DECIMAL}*100,
      </if>
      <if test="otherFee != null" >
        #{otherFee,jdbcType=DECIMAL}*100,
      </if>
      <if test="packageFee != null" >
        #{packageFee,jdbcType=DECIMAL}*100,
      </if>
      <if test="promotionsFee != null" >
        #{promotionsFee,jdbcType=DECIMAL}*100,
      </if>
      <if test="billingType != null" >
        #{billingType,jdbcType=VARCHAR},
      </if>
      <if test="transportFee != null" >
        #{transportFee,jdbcType=DECIMAL}*100,
      </if>
      <if test="valueAddFee != null" >
        #{valueAddFee,jdbcType=DECIMAL}*100,
      </if>
      <if test="paidMethod != null" >
        #{paidMethod,jdbcType=VARCHAR},
      </if>
      <if test="arriveType != null" >
        #{arriveType,jdbcType=VARCHAR},
      </if>
      <if test="active != null" >
        #{active,jdbcType=CHAR},
      </if>
      <if test="forbiddenLine != null" >
        #{forbiddenLine,jdbcType=CHAR},
      </if>
      <if test="freightMethod != null" >
        #{freightMethod,jdbcType=VARCHAR},
      </if>
      <if test="flightShift != null" >
        #{flightShift,jdbcType=VARCHAR},
      </if>
      <if test="totalFee != null" >
        #{totalFee,jdbcType=DECIMAL}*100,
      </if>
      <if test="promotionsCode != null" >
        #{promotionsCode,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null" >
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="modifyTime != null" >
        #{modifyTime,jdbcType=TIMESTAMP},
      </if>
      <if test="billTime != null" >
        #{billTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createUserCode != null" >
        #{createUserCode,jdbcType=VARCHAR},
      </if>
      <if test="modifyUserCode != null" >
        #{modifyUserCode,jdbcType=VARCHAR},
      </if>
      <if test="createOrgCode != null" >
        #{createOrgCode,jdbcType=VARCHAR},
      </if>
      <if test="modifyOrgCode != null" >
        #{modifyOrgCode,jdbcType=VARCHAR},
      </if>
      <if test="refId != null" >
        #{refId,jdbcType=VARCHAR},
      </if>
      <if test="refCode != null" >
        #{refCode,jdbcType=VARCHAR},
      </if>
      <if test="currencyCode != null" >
        #{currencyCode,jdbcType=VARCHAR},
      </if>
      <if test="isWholeVehicle != null" >
        #{isWholeVehicle,jdbcType=CHAR},
      </if>
      <if test="wholeVehicleAppfee != null" >
        #{wholeVehicleAppfee,jdbcType=DECIMAL}*100,
      </if>
      <if test="wholeVehicleActualfee != null" >
        #{wholeVehicleActualfee,jdbcType=DECIMAL}*100,
      </if>
      <if test="accountName != null" >
        #{accountName,jdbcType=VARCHAR},
      </if>
      <if test="accountCode != null" >
        #{accountCode,jdbcType=VARCHAR},
      </if>
      <if test="accountBank != null" >
        #{accountBank,jdbcType=VARCHAR},
      </if>
      <if test="billWeight != null" >
        #{billWeight,jdbcType=DECIMAL},
      </if>
      <if test="pickupFee != null" >
        #{pickupFee,jdbcType=DECIMAL}*100,
      </if>
      <if test="serviceFee != null" >
        #{serviceFee,jdbcType=DECIMAL}*100,
      </if>
      <if test="preArriveTime != null" >
        #{preArriveTime,jdbcType=TIMESTAMP},
      </if>
      <if test="transportType != null" >
        #{transportType,jdbcType=VARCHAR},
      </if>
      <if test="addTime != null" >
        #{addTime,jdbcType=TIMESTAMP},
      </if>
      <if test="insuranceRate != null" >
        #{insuranceRate,jdbcType=DECIMAL},
      </if>
      <if test="insuranceFee != null" >
        #{insuranceFee,jdbcType=DECIMAL}*100,
      </if>
      <if test="unitPrice != null" >
        #{unitPrice,jdbcType=DECIMAL},
      </if>
      <if test="contactAddressId != null" >
        #{contactAddressId,jdbcType=VARCHAR},
      </if>
      <if test="flightNumberType != null" >
        #{flightNumberType,jdbcType=VARCHAR},
      </if>
      <if test="collectionDepartment != null" >
        #{collectionDepartment,jdbcType=VARCHAR},
      </if>
      <if test="transportationRemark != null" >
        #{transportationRemark,jdbcType=VARCHAR},
      </if>
      <if test="isPassOwnDepartment != null" >
        #{isPassOwnDepartment,jdbcType=CHAR},
      </if>
      <if test="pendingType != null" >
        #{pendingType,jdbcType=VARCHAR},
      </if>
      <if test="licensePlateNum != null" >
        #{licensePlateNum,jdbcType=VARCHAR},
      </if>
      <if test="orderVehicleNum != null" >
        #{orderVehicleNum,jdbcType=VARCHAR},
      </if>
    <if test="createUserName != null and createUserName != '' ">
		#{createUserName,jdbcType=VARCHAR},
	</if>
	<if test="createUserDeptName != null and createUserDeptName != '' ">
		#{createUserDeptName,jdbcType=VARCHAR},
	</if>
	<if test="receiveOrgName != null and receiveOrgName != '' ">
		#{receiveOrgName,jdbcType=VARCHAR},
	</if>
	<if test="customerPickupOrgName != null and customerPickupOrgName != '' ">
		#{customerPickupOrgName,jdbcType=VARCHAR},
	</if>
	<if test="loadOrgName != null and loadOrgName != '' ">
		#{loadOrgName,jdbcType=VARCHAR},
	</if>
	<if test="lastLoadOrgName != null and lastLoadOrgName != '' ">
		#{lastLoadOrgName,jdbcType=VARCHAR},
	</if>
	<if test="kilometer != null">
				#{kilometer,jdbcType=DECIMAL},
			</if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.deppon.foss.module.pickup.waybill.shared.domain.WaybillEntity" >
    update PKP.T_SRV_WAYBILL
    <set >
      <if test="waybillNo != null" >
        WAYBILL_NO = #{waybillNo,jdbcType=VARCHAR},
      </if>
      <if test="orderNo != null" >
        ORDER_NO = #{orderNo,jdbcType=VARCHAR},
      </if>
      <if test="deliveryCustomerId != null" >
        DELIVERY_CUSTOMER_ID = #{deliveryCustomerId,jdbcType=VARCHAR},
      </if>
      <if test="deliveryCustomerCode != null" >
        DELIVERY_CUSTOMER_CODE = #{deliveryCustomerCode,jdbcType=VARCHAR},
      </if>
      <if test="deliveryCustomerName != null" >
        DELIVERY_CUSTOMER_NAME = #{deliveryCustomerName,jdbcType=VARCHAR},
      </if>
      <if test="deliveryCustomerMobilephone != null" >
        DELIVERY_CUSTOMER_MOBILEPHONE = #{deliveryCustomerMobilephone,jdbcType=VARCHAR},
      </if>
      <if test="deliveryCustomerPhone != null" >
        DELIVERY_CUSTOMER_PHONE = #{deliveryCustomerPhone,jdbcType=VARCHAR},
      </if>
      <if test="deliveryCustomerContact != null" >
        DELIVERY_CUSTOMER_CONTACT = #{deliveryCustomerContact,jdbcType=VARCHAR},
      </if>
      <if test="deliveryCustomerNationCode != null" >
        DELIVERY_CUSTOMER_NATION_CODE = #{deliveryCustomerNationCode,jdbcType=VARCHAR},
      </if>
      <if test="deliveryCustomerProvCode != null" >
        DELIVERY_CUSTOMER_PROV_CODE = #{deliveryCustomerProvCode,jdbcType=VARCHAR},
      </if>
      <if test="deliveryCustomerCityCode != null" >
        DELIVERY_CUSTOMER_CITY_CODE = #{deliveryCustomerCityCode,jdbcType=VARCHAR},
      </if>
      <if test="deliveryCustomerDistCode != null" >
        DELIVERY_CUSTOMER_DIST_CODE = #{deliveryCustomerDistCode,jdbcType=VARCHAR},
      </if>
      <if test="deliveryCustomerAddress != null" >
        DELIVERY_CUSTOMER_ADDRESS = #{deliveryCustomerAddress,jdbcType=VARCHAR},
      </if>
      <if test="receiveCustomerId != null" >
        RECEIVE_CUSTOMER_ID = #{receiveCustomerId,jdbcType=VARCHAR},
      </if>
      <if test="receiveCustomerCode != null" >
        RECEIVE_CUSTOMER_CODE = #{receiveCustomerCode,jdbcType=VARCHAR},
      </if>
      <if test="receiveCustomerName != null" >
        RECEIVE_CUSTOMER_NAME = #{receiveCustomerName,jdbcType=VARCHAR},
      </if>
      <if test="receiveCustomerMobilephone != null" >
        RECEIVE_CUSTOMER_MOBILEPHONE = #{receiveCustomerMobilephone,jdbcType=VARCHAR},
      </if>
      <if test="receiveCustomerPhone != null" >
        RECEIVE_CUSTOMER_PHONE = #{receiveCustomerPhone,jdbcType=VARCHAR},
      </if>
      <if test="receiveCustomerContact != null" >
        RECEIVE_CUSTOMER_CONTACT = #{receiveCustomerContact,jdbcType=VARCHAR},
      </if>
      <if test="receiveCustomerNationCode != null" >
        RECEIVE_CUSTOMER_NATION_CODE = #{receiveCustomerNationCode,jdbcType=VARCHAR},
      </if>
      <if test="receiveCustomerProvCode != null" >
        RECEIVE_CUSTOMER_PROV_CODE = #{receiveCustomerProvCode,jdbcType=VARCHAR},
      </if>
      <if test="receiveCustomerCityCode != null" >
        RECEIVE_CUSTOMER_CITY_CODE = #{receiveCustomerCityCode,jdbcType=VARCHAR},
      </if>
      <if test="receiveCustomerDistCode != null" >
        RECEIVE_CUSTOMER_DIST_CODE = #{receiveCustomerDistCode,jdbcType=VARCHAR},
      </if>
      <if test="receiveCustomerAddress != null" >
        RECEIVE_CUSTOMER_ADDRESS = #{receiveCustomerAddress,jdbcType=VARCHAR},
      </if>
      <if test="receiveOrgCode != null" >
        RECEIVE_ORG_CODE = #{receiveOrgCode,jdbcType=VARCHAR},
      </if>
      <if test="productId != null" >
        PRODUCT_ID = #{productId,jdbcType=VARCHAR},
      </if>
      <if test="productCode != null" >
        PRODUCT_CODE = #{productCode,jdbcType=VARCHAR},
      </if>
      <if test="receiveMethod != null" >
        RECEIVE_METHOD = #{receiveMethod,jdbcType=VARCHAR},
      </if>
      <if test="customerPickupOrgCode != null" >
        CUSTOMER_PICKUP_ORG_CODE = #{customerPickupOrgCode,jdbcType=VARCHAR},
      </if>
      <if test="loadMethod != null" >
        LOAD_METHOD = #{loadMethod,jdbcType=VARCHAR},
      </if>
      <if test="targetOrgCode != null" >
        TARGET_ORG_CODE = #{targetOrgCode,jdbcType=VARCHAR},
      </if>
      <if test="pickupToDoor != null" >
        PICKUP_TO_DOOR = #{pickupToDoor,jdbcType=CHAR},
      </if>
      <if test="driverCode != null" >
        DRIVER_CODE = #{driverCode,jdbcType=VARCHAR},
      </if>
      <if test="pickupCentralized != null" >
        PICKUP_CENTRALIZED = #{pickupCentralized,jdbcType=CHAR},
      </if>
      <if test="loadLineCode != null" >
        LOAD_LINE_CODE = #{loadLineCode,jdbcType=VARCHAR},
      </if>
      <if test="loadOrgCode != null" >
        LOAD_ORG_CODE = #{loadOrgCode,jdbcType=VARCHAR},
      </if>
      <if test="lastLoadOrgCode != null" >
        LAST_LOAD_ORG_CODE = #{lastLoadOrgCode,jdbcType=VARCHAR},
      </if>
      <if test="preDepartureTime != null" >
        PRE_DEPARTURE_TIME = #{preDepartureTime,jdbcType=TIMESTAMP},
      </if>
      <if test="preCustomerPickupTime != null" >
        PRE_CUSTOMER_PICKUP_TIME = #{preCustomerPickupTime,jdbcType=TIMESTAMP},
      </if>
      <if test="carDirectDelivery != null" >
        CAR_DIRECT_DELIVERY = #{carDirectDelivery,jdbcType=CHAR},
      </if>
      <if test="goodsName != null" >
        GOODS_NAME = #{goodsName,jdbcType=VARCHAR},
      </if>
      <if test="goodsQtyTotal != null" >
        GOODS_QTY_TOTAL = #{goodsQtyTotal,jdbcType=DECIMAL},
      </if>
      <if test="goodsWeightTotal != null" >
        GOODS_WEIGHT_TOTAL = #{goodsWeightTotal,jdbcType=DECIMAL},
      </if>
      <if test="goodsVolumeTotal != null" >
        GOODS_VOLUME_TOTAL = #{goodsVolumeTotal,jdbcType=DECIMAL},
      </if>
      <if test="goodsSize != null" >
        GOODS_SIZE = #{goodsSize,jdbcType=VARCHAR},
      </if>
      <if test="goodsTypeCode != null" >
        GOODS_TYPE_CODE = #{goodsTypeCode,jdbcType=VARCHAR},
      </if>
      <if test="preciousGoods != null" >
        PRECIOUS_GOODS = #{preciousGoods,jdbcType=CHAR},
      </if>
      <if test="specialShapedGoods != null" >
        SPECIAL_SHAPED_GOODS = #{specialShapedGoods,jdbcType=CHAR},
      </if>
      <if test="outerNotes != null" >
        OUTER_NOTES = #{outerNotes,jdbcType=VARCHAR},
      </if>
      <if test="innerNotes != null" >
        INNER_NOTES = #{innerNotes,jdbcType=VARCHAR},
      </if>
      <if test="goodsPackage != null" >
        GOODS_PACKAGE = #{goodsPackage,jdbcType=VARCHAR},
      </if>
      <if test="insuranceAmount != null" >
        INSURANCE_AMOUNT = #{insuranceAmount,jdbcType=DECIMAL}*100,
      </if>
      <if test="codAmount != null" >
        COD_AMOUNT = #{codAmount,jdbcType=DECIMAL}*100,
      </if>
      <if test="codRate != null" >
        COD_RATE = #{codRate,jdbcType=DECIMAL},
      </if>
      <if test="codFee != null" >
        COD_FEE = #{codFee,jdbcType=DECIMAL}*100,
      </if>
      <if test="refundType != null" >
        REFUND_TYPE = #{refundType,jdbcType=VARCHAR},
      </if>
      <if test="returnBillType != null" >
        RETURN_BILL_TYPE = #{returnBillType,jdbcType=VARCHAR},
      </if>
      <if test="secretPrepaid != null" >
        SECRET_PREPAID = #{secretPrepaid,jdbcType=CHAR},
      </if>
      <if test="toPayAmount != null" >
        TO_PAY_AMOUNT = #{toPayAmount,jdbcType=DECIMAL}*100,
      </if>
      <if test="prePayAmount != null" >
        PRE_PAY_AMOUNT = #{prePayAmount,jdbcType=DECIMAL}*100,
      </if>
      <if test="deliveryGoodsFee != null" >
        DELIVERY_GOODS_FEE = #{deliveryGoodsFee,jdbcType=DECIMAL}*100,
      </if>
      <if test="otherFee != null" >
        OTHER_FEE = #{otherFee,jdbcType=DECIMAL}*100,
      </if>
      <if test="packageFee != null" >
        PACKAGE_FEE = #{packageFee,jdbcType=DECIMAL}*100,
      </if>
      <if test="promotionsFee != null" >
        PROMOTIONS_FEE = #{promotionsFee,jdbcType=DECIMAL}*100,
      </if>
      <if test="billingType != null" >
        BILLING_TYPE = #{billingType,jdbcType=VARCHAR},
      </if>
      <if test="transportFee != null" >
        TRANSPORT_FEE = #{transportFee,jdbcType=DECIMAL}*100,
      </if>
      <if test="valueAddFee != null" >
        VALUE_ADD_FEE = #{valueAddFee,jdbcType=DECIMAL}*100,
      </if>
      <if test="paidMethod != null" >
        PAID_METHOD = #{paidMethod,jdbcType=VARCHAR},
      </if>
      <if test="arriveType != null" >
        ARRIVE_TYPE = #{arriveType,jdbcType=VARCHAR},
      </if>
      <if test="active != null" >
        ACTIVE = #{active,jdbcType=CHAR},
      </if>
      <if test="forbiddenLine != null" >
        FORBIDDEN_LINE = #{forbiddenLine,jdbcType=CHAR},
      </if>
      <if test="freightMethod != null" >
        FREIGHT_METHOD = #{freightMethod,jdbcType=VARCHAR},
      </if>
      <if test="flightShift != null" >
        FLIGHT_SHIFT = #{flightShift,jdbcType=VARCHAR},
      </if>
      <if test="totalFee != null" >
        TOTAL_FEE = #{totalFee,jdbcType=DECIMAL}*100,
      </if>
      <if test="promotionsCode != null" >
        PROMOTIONS_CODE = #{promotionsCode,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null" >
        CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="modifyTime != null" >
        MODIFY_TIME = #{modifyTime,jdbcType=TIMESTAMP},
      </if>
      <if test="billTime != null" >
        BILL_TIME = #{billTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createUserCode != null" >
        CREATE_USER_CODE = #{createUserCode,jdbcType=VARCHAR},
      </if>
      <if test="modifyUserCode != null" >
        MODIFY_USER_CODE = #{modifyUserCode,jdbcType=VARCHAR},
      </if>
      <if test="createOrgCode != null" >
        CREATE_ORG_CODE = #{createOrgCode,jdbcType=VARCHAR},
      </if>
      <if test="modifyOrgCode != null" >
        MODIFY_ORG_CODE = #{modifyOrgCode,jdbcType=VARCHAR},
      </if>
      <if test="refId != null" >
        REF_ID = #{refId,jdbcType=VARCHAR},
      </if>
      <if test="refCode != null" >
        REF_CODE = #{refCode,jdbcType=VARCHAR},
      </if>
      <if test="currencyCode != null" >
        CURRENCY_CODE = #{currencyCode,jdbcType=VARCHAR},
      </if>
      <if test="isWholeVehicle != null" >
        IS_WHOLE_VEHICLE = #{isWholeVehicle,jdbcType=CHAR},
      </if>
      <if test="wholeVehicleAppfee != null" >
        WHOLE_VEHICLE_APPFEE = #{wholeVehicleAppfee,jdbcType=DECIMAL}*100,
      </if>
      <if test="wholeVehicleActualfee != null" >
        WHOLE_VEHICLE_ACTUALFEE = #{wholeVehicleActualfee,jdbcType=DECIMAL}*100,
      </if>
      <if test="accountName != null" >
        ACCOUNT_NAME = #{accountName,jdbcType=VARCHAR},
      </if>
      <if test="accountCode != null" >
        ACCOUNT_CODE = #{accountCode,jdbcType=VARCHAR},
      </if>
      <if test="accountBank != null" >
        ACCOUNT_BANK = #{accountBank,jdbcType=VARCHAR},
      </if>
      <if test="billWeight != null" >
        BILL_WEIGHT = #{billWeight,jdbcType=DECIMAL},
      </if>
      <if test="pickupFee != null" >
        PICKUP_FEE = #{pickupFee,jdbcType=DECIMAL}*100,
      </if>
      <if test="serviceFee != null" >
        SERVICE_FEE = #{serviceFee,jdbcType=DECIMAL}*100,
      </if>
      <if test="preArriveTime != null" >
        PRE_ARRIVE_TIME = #{preArriveTime,jdbcType=TIMESTAMP},
      </if>
      <if test="transportType != null" >
        TRANSPORT_TYPE = #{transportType,jdbcType=VARCHAR},
      </if>
      <if test="addTime != null" >
        ADD_TIME = #{addTime,jdbcType=TIMESTAMP},
      </if>
      <if test="insuranceRate != null" >
        INSURANCE_RATE = #{insuranceRate,jdbcType=DECIMAL},
      </if>
      <if test="insuranceFee != null" >
        INSURANCE_FEE = #{insuranceFee,jdbcType=DECIMAL}*100,
      </if>
      <if test="unitPrice != null" >
        UNIT_PRICE = #{unitPrice,jdbcType=DECIMAL},
      </if>
      <if test="contactAddressId != null" >
        CONTACT_ADDRESS_ID = #{contactAddressId,jdbcType=VARCHAR},
      </if>
      <if test="flightNumberType != null" >
        FLIGHT_NUMBER_TYPE = #{flightNumberType,jdbcType=VARCHAR},
      </if>
      <if test="collectionDepartment != null" >
        COLLECTION_DEPARTMENT = #{collectionDepartment,jdbcType=VARCHAR},
      </if>
      <if test="transportationRemark != null" >
        TRANSPORTATION_REMARK = #{transportationRemark,jdbcType=VARCHAR},
      </if>
      <if test="isPassOwnDepartment != null" >
        IS_PASS_OWN_DEPARTMENT = #{isPassOwnDepartment,jdbcType=CHAR},
      </if>
      <if test="paperNum != null">
	      PAPER_NUM=#{paperNum,jdbcType=NUMERIC},
      </if>
      <if test="woodNum != null">
	      WOOD_NUM=#{woodNum,jdbcType=NUMERIC},
      </if>
      <if test="fibreNum != null">
	      FIBRE_NUM=#{fibreNum,jdbcType=NUMERIC},
      </if>
      <if test="salverNum != null">
	      SALVER_NUM=#{salverNum,jdbcType=NUMERIC},
      </if>
      <if test="membraneNum != null">
    	  MEMBRANE_NUM=#{membraneNum,jdbcType=NUMERIC},      
      </if>
      <if test="otherPackage!=null">
	      OTHER_PACKAGE=#{otherPackage,jdbcType=VARCHAR},
      </if>
      <if test="deliverCustContactId!=null">
    	  DELIVERY_CUSTOMER_CONTACT_ID=#{deliverCustContactId,jdbcType=VARCHAR},
      </if>
      <if test="receiverCustContactId!=null">
	      RECEIVE_CUSTOMER_CONTACT_ID=#{receiverCustContactId,jdbcType=VARCHAR},
      </if>
       <if test="pendingType != null">
    	  PENDING_TYPE = #{pendingType,jdbcType=VARCHAR},
      </if>
      <if test="licensePlateNum != null">
	      LICENSE_PLATE_NUM = #{licensePlateNum,jdbcType=VARCHAR},
      </if>
      <if test="orderVehicleNum != null">
	      ORDER_VEHICLE_NUM = #{orderVehicleNum,jdbcType=VARCHAR},
      </if>
      <if test="CREATE_USER_NAME != null and CREATE_USER_NAME != '' ">
		CREATE_USER_NAME = #{CREATE_USER_NAME,jdbcType=VARCHAR},
		</if>
		<if test="CREATE_USER_DEPT_NAME != null and CREATE_USER_DEPT_NAME != '' ">
			CREATE_USER_DEPT_NAME = #{CREATE_USER_DEPT_NAME,jdbcType=VARCHAR},
		</if>
		<if test="RECEIVE_ORG_NAME != null and RECEIVE_ORG_NAME != '' ">
			RECEIVE_ORG_NAME = #{RECEIVE_ORG_NAME,jdbcType=VARCHAR},
		</if>
		<if test="CUSTOMER_PICKUP_ORG_NAME != null and CUSTOMER_PICKUP_ORG_NAME != '' ">
			CUSTOMER_PICKUP_ORG_NAME = #{CUSTOMER_PICKUP_ORG_NAME,jdbcType=VARCHAR},
		</if>
		<if test="LOAD_ORG_NAME != null and LOAD_ORG_NAME != '' ">
			LOAD_ORG_NAME = #{LOAD_ORG_NAME,jdbcType=VARCHAR},
		</if>
		<if test="LAST_LOAD_ORG_NAME != null and LAST_LOAD_ORG_NAME != '' ">
			LAST_LOAD_ORG_NAME = #{LAST_LOAD_ORG_NAME,jdbcType=VARCHAR}
		</if>      
		<if test="kilometer != null">
				kilometer =#{kilometer,jdbcType=DECIMAL},
			</if>
	    </set>
    where ID = #{id,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.deppon.foss.module.pickup.waybill.shared.domain.WaybillEntity" >
    update PKP.T_SRV_WAYBILL
    set WAYBILL_NO = #{waybillNo,jdbcType=VARCHAR},
      ORDER_NO = #{orderNo,jdbcType=VARCHAR},
      DELIVERY_CUSTOMER_ID = #{deliveryCustomerId,jdbcType=VARCHAR},
      DELIVERY_CUSTOMER_CODE = #{deliveryCustomerCode,jdbcType=VARCHAR},
      DELIVERY_CUSTOMER_NAME = #{deliveryCustomerName,jdbcType=VARCHAR},
      DELIVERY_CUSTOMER_MOBILEPHONE = #{deliveryCustomerMobilephone,jdbcType=VARCHAR},
      DELIVERY_CUSTOMER_PHONE = #{deliveryCustomerPhone,jdbcType=VARCHAR},
      DELIVERY_CUSTOMER_CONTACT = #{deliveryCustomerContact,jdbcType=VARCHAR},
      DELIVERY_CUSTOMER_NATION_CODE = #{deliveryCustomerNationCode,jdbcType=VARCHAR},
      DELIVERY_CUSTOMER_PROV_CODE = #{deliveryCustomerProvCode,jdbcType=VARCHAR},
      DELIVERY_CUSTOMER_CITY_CODE = #{deliveryCustomerCityCode,jdbcType=VARCHAR},
      DELIVERY_CUSTOMER_DIST_CODE = #{deliveryCustomerDistCode,jdbcType=VARCHAR},
      DELIVERY_CUSTOMER_ADDRESS = #{deliveryCustomerAddress,jdbcType=VARCHAR},
      RECEIVE_CUSTOMER_ID = #{receiveCustomerId,jdbcType=VARCHAR},
      RECEIVE_CUSTOMER_CODE = #{receiveCustomerCode,jdbcType=VARCHAR},
      RECEIVE_CUSTOMER_NAME = #{receiveCustomerName,jdbcType=VARCHAR},
      RECEIVE_CUSTOMER_MOBILEPHONE = #{receiveCustomerMobilephone,jdbcType=VARCHAR},
      RECEIVE_CUSTOMER_PHONE = #{receiveCustomerPhone,jdbcType=VARCHAR},
      RECEIVE_CUSTOMER_CONTACT = #{receiveCustomerContact,jdbcType=VARCHAR},
      RECEIVE_CUSTOMER_NATION_CODE = #{receiveCustomerNationCode,jdbcType=VARCHAR},
      RECEIVE_CUSTOMER_PROV_CODE = #{receiveCustomerProvCode,jdbcType=VARCHAR},
      RECEIVE_CUSTOMER_CITY_CODE = #{receiveCustomerCityCode,jdbcType=VARCHAR},
      RECEIVE_CUSTOMER_DIST_CODE = #{receiveCustomerDistCode,jdbcType=VARCHAR},
      RECEIVE_CUSTOMER_ADDRESS = #{receiveCustomerAddress,jdbcType=VARCHAR},
      RECEIVE_ORG_CODE = #{receiveOrgCode,jdbcType=VARCHAR},
      PRODUCT_ID = #{productId,jdbcType=VARCHAR},
      PRODUCT_CODE = #{productCode,jdbcType=VARCHAR},
      RECEIVE_METHOD = #{receiveMethod,jdbcType=VARCHAR},
      CUSTOMER_PICKUP_ORG_CODE = #{customerPickupOrgCode,jdbcType=VARCHAR},
      LOAD_METHOD = #{loadMethod,jdbcType=VARCHAR},
      TARGET_ORG_CODE = #{targetOrgCode,jdbcType=VARCHAR},
      PICKUP_TO_DOOR = #{pickupToDoor,jdbcType=CHAR},
      DRIVER_CODE = #{driverCode,jdbcType=VARCHAR},
      PICKUP_CENTRALIZED = #{pickupCentralized,jdbcType=CHAR},
      LOAD_LINE_CODE = #{loadLineCode,jdbcType=VARCHAR},
      LOAD_ORG_CODE = #{loadOrgCode,jdbcType=VARCHAR},
      LAST_LOAD_ORG_CODE = #{lastLoadOrgCode,jdbcType=VARCHAR},
      PRE_DEPARTURE_TIME = #{preDepartureTime,jdbcType=TIMESTAMP},
      PRE_CUSTOMER_PICKUP_TIME = #{preCustomerPickupTime,jdbcType=TIMESTAMP},
      CAR_DIRECT_DELIVERY = #{carDirectDelivery,jdbcType=CHAR},
      GOODS_NAME = #{goodsName,jdbcType=VARCHAR},
      GOODS_QTY_TOTAL = #{goodsQtyTotal,jdbcType=DECIMAL},
      GOODS_WEIGHT_TOTAL = #{goodsWeightTotal,jdbcType=DECIMAL},
      GOODS_VOLUME_TOTAL = #{goodsVolumeTotal,jdbcType=DECIMAL},
      GOODS_SIZE = #{goodsSize,jdbcType=VARCHAR},
      GOODS_TYPE_CODE = #{goodsTypeCode,jdbcType=VARCHAR},
      PRECIOUS_GOODS = #{preciousGoods,jdbcType=CHAR},
      SPECIAL_SHAPED_GOODS = #{specialShapedGoods,jdbcType=CHAR},
      OUTER_NOTES = #{outerNotes,jdbcType=VARCHAR},
      INNER_NOTES = #{innerNotes,jdbcType=VARCHAR},
      GOODS_PACKAGE = #{goodsPackage,jdbcType=VARCHAR},
      INSURANCE_AMOUNT = #{insuranceAmount,jdbcType=DECIMAL}*100,
      COD_AMOUNT = #{codAmount,jdbcType=DECIMAL}*100,
      COD_RATE = #{codRate,jdbcType=DECIMAL},
      COD_FEE = #{codFee,jdbcType=DECIMAL}*100,
      REFUND_TYPE = #{refundType,jdbcType=VARCHAR},
      RETURN_BILL_TYPE = #{returnBillType,jdbcType=VARCHAR},
      SECRET_PREPAID = #{secretPrepaid,jdbcType=CHAR},
      TO_PAY_AMOUNT = #{toPayAmount,jdbcType=DECIMAL}*100,
      PRE_PAY_AMOUNT = #{prePayAmount,jdbcType=DECIMAL}*100,
      DELIVERY_GOODS_FEE = #{deliveryGoodsFee,jdbcType=DECIMAL}*100,
      OTHER_FEE = #{otherFee,jdbcType=DECIMAL}*100,
      PACKAGE_FEE = #{packageFee,jdbcType=DECIMAL}*100,
      PROMOTIONS_FEE = #{promotionsFee,jdbcType=DECIMAL}*100,
      BILLING_TYPE = #{billingType,jdbcType=VARCHAR},
      TRANSPORT_FEE = #{transportFee,jdbcType=DECIMAL}*100,
      VALUE_ADD_FEE = #{valueAddFee,jdbcType=DECIMAL}*100,
      PAID_METHOD = #{paidMethod,jdbcType=VARCHAR},
      ARRIVE_TYPE = #{arriveType,jdbcType=VARCHAR},
      ACTIVE = #{active,jdbcType=CHAR},
      FORBIDDEN_LINE = #{forbiddenLine,jdbcType=CHAR},
      FREIGHT_METHOD = #{freightMethod,jdbcType=VARCHAR},
      FLIGHT_SHIFT = #{flightShift,jdbcType=VARCHAR},
      TOTAL_FEE = #{totalFee,jdbcType=DECIMAL}*100,
      PROMOTIONS_CODE = #{promotionsCode,jdbcType=VARCHAR},
      CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
      MODIFY_TIME = #{modifyTime,jdbcType=TIMESTAMP},
      BILL_TIME = #{billTime,jdbcType=TIMESTAMP},
      CREATE_USER_CODE = #{createUserCode,jdbcType=VARCHAR},
      MODIFY_USER_CODE = #{modifyUserCode,jdbcType=VARCHAR},
      CREATE_ORG_CODE = #{createOrgCode,jdbcType=VARCHAR},
      MODIFY_ORG_CODE = #{modifyOrgCode,jdbcType=VARCHAR},
      REF_ID = #{refId,jdbcType=VARCHAR},
      REF_CODE = #{refCode,jdbcType=VARCHAR},
      CURRENCY_CODE = #{currencyCode,jdbcType=VARCHAR},
      IS_WHOLE_VEHICLE = #{isWholeVehicle,jdbcType=CHAR},
      WHOLE_VEHICLE_APPFEE = #{wholeVehicleAppfee,jdbcType=DECIMAL}*100,
      WHOLE_VEHICLE_ACTUALFEE = #{wholeVehicleActualfee,jdbcType=DECIMAL}*100,
      ACCOUNT_NAME = #{accountName,jdbcType=VARCHAR},
      ACCOUNT_CODE = #{accountCode,jdbcType=VARCHAR},
      ACCOUNT_BANK = #{accountBank,jdbcType=VARCHAR},
      BILL_WEIGHT = #{billWeight,jdbcType=DECIMAL},
      PICKUP_FEE = #{pickupFee,jdbcType=DECIMAL}*100,
      SERVICE_FEE = #{serviceFee,jdbcType=DECIMAL}*100,
      PRE_ARRIVE_TIME = #{preArriveTime,jdbcType=TIMESTAMP},
      TRANSPORT_TYPE = #{transportType,jdbcType=VARCHAR},
      ADD_TIME = #{addTime,jdbcType=TIMESTAMP},
      INSURANCE_RATE = #{insuranceRate,jdbcType=DECIMAL},
      INSURANCE_FEE = #{insuranceFee,jdbcType=DECIMAL}*100,
      UNIT_PRICE = #{unitPrice,jdbcType=DECIMAL},
      CONTACT_ADDRESS_ID = #{contactAddressId,jdbcType=VARCHAR},
      FLIGHT_NUMBER_TYPE = #{flightNumberType,jdbcType=VARCHAR},
      COLLECTION_DEPARTMENT = #{collectionDepartment,jdbcType=VARCHAR},
      TRANSPORTATION_REMARK = #{transportationRemark,jdbcType=VARCHAR},
      IS_PASS_OWN_DEPARTMENT = #{isPassOwnDepartment,jdbcType=CHAR},
      PAPER_NUM=#{paperNum,jdbcType=NUMERIC},
      WOOD_NUM=#{woodNum,jdbcType=NUMERIC},
      FIBRE_NUM=#{fibreNum,jdbcType=NUMERIC},
      SALVER_NUM=#{salverNum,jdbcType=NUMERIC},
      MEMBRANE_NUM=#{membraneNum,jdbcType=NUMERIC},
      OTHER_PACKAGE=#{otherPackage,jdbcType=VARCHAR},
      DELIVERY_CUSTOMER_CONTACT_ID=#{deliverCustContactId,jdbcType=VARCHAR},
      RECEIVE_CUSTOMER_CONTACT_ID=#{receiverCustContactId,jdbcType=VARCHAR},
      PENDING_TYPE = #{pendingType,jdbcType=VARCHAR},
      LICENSE_PLATE_NUM = #{licensePlateNum,jdbcType=VARCHAR},
      ORDER_VEHICLE_NUM = #{orderVehicleNum,jdbcType=VARCHAR},
      CREATE_USER_NAME = #{CREATE_USER_NAME,jdbcType=VARCHAR},
		CREATE_USER_DEPT_NAME = #{CREATE_USER_DEPT_NAME,jdbcType=VARCHAR},
		RECEIVE_ORG_NAME = #{RECEIVE_ORG_NAME,jdbcType=VARCHAR},
		CUSTOMER_PICKUP_ORG_NAME = #{CUSTOMER_PICKUP_ORG_NAME,jdbcType=VARCHAR},
		LOAD_ORG_NAME = #{LOAD_ORG_NAME,jdbcType=VARCHAR},
		LAST_LOAD_ORG_NAME = #{LAST_LOAD_ORG_NAME,jdbcType=VARCHAR},
		kilometer =#{kilometer,jdbcType=DECIMAL}
	   where ID = #{id,jdbcType=VARCHAR}
  </update>

  <update id="updateWaybillPrintTime" parameterType="java.lang.String">
		update PKP.T_SRV_WAYBILL
		set
		WAYBILL_NO = #{waybillNo,jdbcType=VARCHAR}
		where WAYBILL_NO= #{waybillNo,jdbcType=VARCHAR}
  </update>
  
  <select id="queryWaybills" resultMap="BaseResultMap" parameterType="com.deppon.foss.module.pickup.waybill.shared.dto.WaybillDto">
	  select 
		<include refid="Base_Column_List" />
	        from PKP.T_SRV_WAYBILL p
	  <where>   
	    	p.BILL_TIME  <![CDATA[  >=  ]]>  #{billStartTime}
			AND  p.BILL_TIME  <![CDATA[  <  ]]>  #{billEndTime}
	    <if test="createStartTime != null and createStartTime !='' and createEndTime != null and createEndTime !='' "> 
	    	and p.CREATE_TIME <![CDATA[  >=  ]]> #{createStartTime} 
	    	and p.CREATE_TIME <![CDATA[  <  ]]> #{createEndTime} 
	    </if>  
	    <if test="waybillEntity.receiveOrgCode != null and waybillEntity.receiveOrgCode !='' ">
				and p.receive_org_code = #{waybillEntity.receiveOrgCode,jdbcType=VARCHAR}
		</if>
		<if test="waybillEntity.productCode != 'all' ">
				and p.product_code = #{waybillEntity.productCode,jdbcType=VARCHAR}
		</if>
		<if test="waybillEntity.active != null">
				and p.active = #{waybillEntity.active,jdbcType=VARCHAR}
		</if>
		<if test="waybillEntity.createUserCode != null and waybillEntity.createUserCode !='' ">
				and p.create_user_code = #{waybillEntity.createUserCode,jdbcType=VARCHAR}
		</if>
		<if test="waybillEntity.createOrgCode != null and waybillEntity.createOrgCode !='' ">
				and p.create_org_code = #{waybillEntity.createOrgCode,jdbcType=VARCHAR}
		</if>
		<if test="mixNo != null and mixNo !='' ">
				and p.WAYBILL_NO = #{mixNo,jdbcType=CHAR} or p.ORDER_NO = #{mixNo,jdbcType=VARCHAR}
		</if>
	                order by p.BILL_TIME asc 
	  </where>              
  </select>
  
  	<!-- 根据官网提供的参数查询运单基本信息 -->
	<select id="queryWaybillInfosByAccount" resultMap="AccountingQueryDtoMap"
		parameterType="com.deppon.foss.module.pickup.waybill.shared.dto.AccountingQueryDto">
		select waybill.waybill_no waybillNum, --运单号
		waybill.order_no orderNum, --订单号
		sysdate sendDate, --发送时间
		org.name departureName, --发货网点名称
		org.address departureAddress, --发货网点地址
		org.dep_telephone departuretel, -- 发货网点电话
		org.org_simple_name departure, --始发站
		waybill.delivery_customer_contact shipperName, --发货人姓名
		waybill.delivery_customer_phone shippertel, --发货人电话
		waybill.delivery_customer_mobilephone shipperMobile, --发货人手机
		delivery_prov.name + ' ' + delivery_city.name + ' ' +
		delivery_dist.name + ' ' + waybill.delivery_customer_address shipperAddress, --发货地址
		waybill.receive_customer_contact consigneeName, --收货人姓名
		waybill.receive_customer_phone consigneetel, --收货人电话
		waybill.receive_customer_mobilephone consigneeMobile, --收货人手机
		receive_prov.name + ' ' + receive_city.name + ' ' +
		receive_dist.name + ' ' + waybill.receive_customer_address consigneeAddress, -- 收货地址
		waybill.goods_name goodsName, --货物名称
		waybill.goods_weight_total weight, --货物重量
		waybill.goods_volume_total cubage, -- 货物体积
		waybill.GOODS_QTY_TOTAL pieces, -- 货物件数
		waybill.goods_package packing, --货物包装
		waybill.product_code transProperties,--运输性质（即产品类型）
		waybill.RECEIVE_METHOD deliveryMode,--送货方式
		waybill.PAID_METHOD payWay,--付款方式(1、现金；2、到付；3、月结；4、银行卡；5、临时欠款)
		waybill.INSURANCE_AMOUNT insurance,-- 保价申明
		waybill.INSURANCE_FEE/100 insuranceFee,--保价手续费
		waybill.TRANSPORT_FEE/100 tranCharge,--运输费用.
		waybill.DELIVERY_GOODS_FEE/100 deliveryCharge,-- 送货费用
		waybill.PICKUP_FEE/100 receiveCharge,--接货费
		waybill.package_FEE/100 packingCharge,--包装费用
		waybill.total_FEE/100 totalCharge,--总费用（预付款费用+到达费用）
		waybill.OTHER_FEE/100 otherCharge,--其他费用
		waybill.RETURN_BILL_TYPE returnBillType,-- 签收单返还方式
		waybill.TRANSPORTATION_REMARK transDesc,--托运备注（储运事项）
		TARGET_org.Org_Simple_Name destination,--目的站(城市名字)
		TARGET_org.Name stationName,-- 提货网点名称
		TARGET_org.address stationaddress, --提货网点地址
		TARGET_org.dep_telephone stationtel-- 提货网点电话
		from pkp.t_srv_waybill waybill
		left join bse.t_bas_org org on waybill.RECEIVE_ORG_CODE = org.code
		--发货网点名称
		left join bse.T_BAS_DISTRICT delivery_prov on delivery_prov.code =
		waybill.receive_customer_prov_code --省
		left join bse.T_BAS_DISTRICT delivery_city on delivery_city.code =
		waybill.receive_customer_city_code --市
		left join bse.T_BAS_DISTRICT delivery_dist on delivery_dist.code =
		waybill.receive_customer_dist_code --区
		left join bse.T_BAS_DISTRICT receive_prov on receive_prov.code =
		waybill.receive_customer_prov_code --省
		left join bse.T_BAS_DISTRICT receive_city on receive_city.code =
		waybill.receive_customer_city_code --市
		left join bse.T_BAS_DISTRICT receive_dist on receive_dist.code =
		waybill.receive_customer_dist_code --区
		left join bse.t_bas_org TARGET_org on waybill.TARGET_ORG_CODE =
		TARGET_org.code --发货网点名称
	</select>
	
	<!-- 根据运单号查询付款方式，到付金额，外发代理和币种 -->
	<select id="queryPartWaybillByNo" resultMap="BaseResultMap" parameterType="com.deppon.foss.module.pickup.waybill.shared.domain.WaybillEntity">
		SELECT PAID_METHOD,TO_PAY_AMOUNT,CUSTOMER_PICKUP_ORG_CODE,CURRENCY_CODE
		FROM PKP.T_SRV_WAYBILL
		<where>
			ACTIVE = #{active,jdbcType=CHAR}
			AND WAYBILL_NO = #{waybillNo,jdbcType=VARCHAR}
		</where>
	</select>
	<!-- 处理弃货 -->
	<resultMap type="com.deppon.foss.module.pickup.waybill.shared.dto.AbandonedGoodsDto" id="AbandonedGoodsRM">
		<result column="id" property="id" jdbcType="VARCHAR"/>
		<result column="status" property="status" jdbcType="VARCHAR"/>
		<result column="waybillNo" property="waybillNo" jdbcType="VARCHAR"/>
		<result column="deliverCustomerMobile" property="deliverCustomerMobile" jdbcType="VARCHAR"/>
		<result column="respectiveRegional" property="respectiveRegional" jdbcType="VARCHAR"/>
		<result column="goodsName" property="goodsName" jdbcType="VARCHAR"/>
		<result column="weight" property="weight" jdbcType="DECIMAL"/>
		<result column="volume" property="volume" jdbcType="DECIMAL"/>
		<result column="deliverCustomerContact" property="deliverCustomerContact" jdbcType="VARCHAR"/>
		<result column="deliverCostomerPhone" property="deliverCostomerPhone" jdbcType="VARCHAR"/>
		<result column="receiveOrgCode" property="receiveOrgCode" jdbcType="VARCHAR"/>
		<result column="receiverName" property="receiverName" jdbcType="VARCHAR"/>
		<result column="receiverTel" property="receiverTel" jdbcType="VARCHAR"/>
		<result column="lastLoadOrgCode" property="lastLoadOrgCode" jdbcType="VARCHAR"/>
		<result column="storageOrgCode" property="storageOrgCode" jdbcType="VARCHAR"/>
		<result column="codAmount" property="codAmount" jdbcType="DECIMAL"/>
		<result column="insuranceAmount" property="insuranceAmount" jdbcType="DECIMAL"/>
		<result column="prePayAmount" property="prePayAmount" jdbcType="DECIMAL"/>
		<result column="toPayamount" property="toPayamount" jdbcType="DECIMAL"/>
		<result column="goodsType" property="goodsType" jdbcType="VARCHAR"/>
		<result column="abandoneGoodsStatus" property="abandoneGoodsStatus" jdbcType="VARCHAR"/>
		<result column="treatTime" property="treatTime" jdbcType="VARCHAR"/>
		<result column="preTreatPerson" property="preTreatPerson" jdbcType="VARCHAR"/>
		<result column="storageDay" property="storageDay" jdbcType="DECIMAL"/>
		<result column="notes" property="notes" jdbcType="VARCHAR"/>
		<result column="pieces" property="pieces" jdbcType="INTEGER"/>
	</resultMap>
	<select id="queryAbandonedGoodsDtoList" resultMap="AbandonedGoodsRM" 
			parameterType="com.deppon.foss.module.pickup.waybill.shared.dto.AbandonedGoodsCondition">
	SELECT  <!-- ABANDONGOODS.Id id,
			ABANDONGOODS.Goods_Weight_Total weight,
			ABANDONGOODS.Goods_Volume_Total volume,
			ABANDONGOODS.Goods_Qty_Total pieces,
			ABANDONGOODS.WAYBILL_NO waybillNo,
			ABANDONGOODS.CREATE_USER_NAME preTreatPerson,
			ABANDONGOODS.RECEIVE_CUSTOMER_CONTACT receiverName,
			ABANDONGOODS.RECEIVE_CUSTOMER_PHONE receiverTel,
			ABANDONGOODS.PREABANDONEDGOODS_TIME treatTime -->
			   ABANDONGOODS.Id                            id,
		       ABANDONGOODS.Status                        status,
		       ABANDONGOODS.WAYBILL_NO                    waybillNo,
		       ABANDONGOODS.Delivery_Customer_Mobilephone deliverCustomerMobile,
		       ABANDONGOODS.Respective_Regional           respectiveRegional,
		       ABANDONGOODS.Goods_Name                    goodsName,
		       ABANDONGOODS.Goods_Weight_Total            weight,
		       ABANDONGOODS.Goods_Volume_Total            volume,
		       ABANDONGOODS.Delivery_Customer_Contact     deliverCustomerContact,
		       ABANDONGOODS.DELIVERY_CUSTOMER_PHONE		  deliverCostomerPhone,
		       ABANDONGOODS.Receive_Org_Code              receiveOrgCode,
		       ABANDONGOODS.RECEIVE_CUSTOMER_CONTACT      receiverName,
		       ABANDONGOODS.RECEIVE_CUSTOMER_PHONE        receiverTel,
		       ABANDONGOODS.Last_Load_Org_Code            lastLoadOrgCode,
		       ABANDONGOODS.Storage_Org_Code              storageOrgCode,
		       ABANDONGOODS.Cod_Amount                    codAmount,
		       ABANDONGOODS.Insurance_Amount              insuranceAmount,
		       ABANDONGOODS.Pre_Pay_Amount                prePayAmount,
		       ABANDONGOODS.To_Pay_Amount                 toPayamount,
		       ABANDONGOODS.Abandonedgoods_Type           goodsType,
		       ABANDONGOODS.Abandonedgoods_Status         abandoneGoodsStatus,
		       ABANDONGOODS.PREABANDONEDGOODS_TIME        treatTime,
		       ABANDONGOODS.CREATE_USER_NAME              preTreatPerson,
		       ABANDONGOODS.Storage_Day                   storageDay,
		       ABANDONGOODS.Notes                         notes,
		       ABANDONGOODS.Goods_Qty_Total               pieces
	FROM PKP.T_SRV_ABANDON_GOODS_IMPORT ABANDONGOODS
	  		<where>
	  			<choose>
		  			<when test="waybillNo!=null and waybillNo!=''">
		 	    		 ABANDONGOODS.WAYBILL_NO = #{waybillNo,jdbcType=VARCHAR}
		  			</when>
		  			<otherwise>
		  				<if test="shipper!=null and shipper!=''">
					 		 ABANDONGOODS.DELIVERY_CUSTOMER_CONTACT = #{shipper,jdbcType=VARCHAR}
		  				</if>
		  				<if test="exceptionType!=null and exceptionType!=''">
				  			AND ABANDONGOODS.ABANDONEDGOODS_TYPE = #{exceptionType,jdbcType=VARCHAR}
		  				</if>
		  				<if test="preTreatPerson!=null and preTreatPerson!=''">
				  			AND ABANDONGOODS.CREATE_USER_NAME = #{preTreatPerson,jdbcType=VARCHAR}
		  				</if>
		  				AND ABANDONGOODS.PREABANDONEDGOODS_TIME BETWEEN #{beginDate,jdbcType=DATE} 
						AND #{endDate,jdbcType=DATE}
		  			</otherwise>
	  			</choose>
	  		</where>
	</select>
	
	<!-- 更新弃货 -->
	<update id="updateAbandonedGoods" parameterType="Map">
		update PKP.T_SRV_ABANDON_GOODS_IMPORT ABANDONGOODS
  			 set ABANDONGOODS.Status = #{status,jdbcType=VARCHAR}, 
  				 ABANDONGOODS.Notes = #{notes,jdbcType=VARCHAR}
 			 where ABANDONGOODS.Waybill_No in 
 			 <foreach collection="oldWaybillNo" item="waybillNo" open="(" close=")" separator=",">
 			      #{waybillNo,jdbcType=VARCHAR}
 			 </foreach>
	</update>
	
	<!-- CRM查询运单明细 -->
	<resultMap type="com.deppon.foss.module.pickup.waybill.shared.dto.CrmWaybillServiceDto" id="CrmWaybillServiceRM">
		
	</resultMap>
	<select id="queryWaybillDetail">
	</select>
</mapper>